{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/asyncToGenerator.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/defineProperty.js","node_modules/@babel/runtime/helpers/get.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/superPropBase.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/regenerator/index.js","node_modules/regenerator-runtime/runtime.js","src/module/actor/SR5Actor.ts","src/module/actor/SR5ActorSheet.ts","src/module/apps/chummer-import-form.js","src/module/apps/gmtools/OverwatchScoreTracker.js","src/module/apps/skills/KnowledgeSkillEditForm.ts","src/module/apps/skills/LanguageSkillEditForm.ts","src/module/apps/skills/SkillEditForm.ts","src/module/canvas.ts","src/module/combat.ts","src/module/config.ts","src/module/constants.ts","src/module/handlebars.ts","src/module/helpers.ts","src/module/item/ChatData.ts","src/module/item/SR5Item.ts","src/module/item/SR5ItemSheet.ts","src/module/main.ts","src/module/migrator/Migrator.ts","src/module/migrator/VersionMigration.ts","src/module/migrator/versions/LegacyMigration.ts","src/module/migrator/versions/Version0_6_5.ts","src/module/rolls/dialog/DynamicDialog.ts","src/module/rolls/dialog/RollDialog.ts","src/module/rolls/field/SituationalModifierField.ts","src/module/rolls/field/SkillField.ts","src/module/rolls/field/base/DialogField.ts","src/module/rolls/field/base/NumberField.ts","src/module/rolls/field/base/SelectField.ts","src/module/rolls/util/RegistrationHelper.ts","src/module/settings.ts","src/module/types/enum/SR5ActiveSkill.ts"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACztBA,wCAAqC;AAkBrC,4CAA2C;AAE3C,MAAa,QAAS,SAAQ,KAAK;IACzB,MAAM,CAAC,IAAI,EAAE,OAAQ;;;;;YACvB,MAAM,OAAM,MAAM,YAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YAClC,2CAA2C;YAC3C,sEAAsE;YACtE,MAAM,WAAW,GAAW,EAAE,CAAC;YAC/B,aAAa;YACb,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBAC9B,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;oBAC1B,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC1B;aACJ;YACD,MAAM,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;YAC1D,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAED,iBAAiB;QACb,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,gBAAgB,CAAC,CAAC;QACvD,OAAO,EAAE,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACrC,CAAC;IAEK,iBAAiB,CAAC,KAAK;;YACzB,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gBACb,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,gBAAgB,EAAE,GAAG,CAAC,CAAC;aAC3D;QACL,CAAC;KAAA;IAED,WAAW;;QACP,KAAK,CAAC,WAAW,EAAE,CAAC;QAEpB,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC;QAC5B,aAAa;QACb,MAAM,KAAK,GAAc,SAAS,CAAC,KAAK,CAAC;QACzC,MAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;QAC5B,MAAM,EAAE,UAAU,EAAE,GAA+B,IAAI,CAAC;QACxD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,MAAM,EAAE,MAAM,EAAE,GAAuB,IAAI,CAAC;QAC5C,MAAM,EAAE,QAAQ,EAAE,GAAqC,IAAI,CAAC,MAAM,CAAC;QACnE,MAAM,EAAE,MAAM,EAAE,GAAuB,IAAI,CAAC,MAAM,CAAC;QACnD,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,GAAmC,IAAI,CAAC,MAAM,CAAC;QAC7E,MAAM,EAAE,KAAK,EAAE,GAAsB,IAAI,CAAC;QAE1C,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACtD,UAAU,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,WAAW,CAAC,CAAC;QAE9D,IAAI,CAAC,IAAI,CAAC,SAAS;YAAE,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACzC,MAAM,SAAS,GAAG,EAAE,CAAC;QACrB,IAAI,gBAAgB,GAAG;YACnB,MAAM;YACN,OAAO;YACP,OAAO;YACP,gBAAgB;YAChB,cAAc;YACd,cAAc;YACd,YAAY;YACZ,gBAAgB;YAChB,iBAAiB;YACjB,sBAAsB;YACtB,mBAAmB;YACnB,wBAAwB;YACxB,mBAAmB;YACnB,wBAAwB;YACxB,WAAW;YACX,YAAY;YACZ,kBAAkB;YAClB,QAAQ;YACR,MAAM;YACN,KAAK;YACL,SAAS;YACT,iBAAiB;YACjB,SAAS;YACT,MAAM;SACT,CAAC;QACF,gBAAgB,CAAC,IAAI,EAAE,CAAC;QACxB,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAEnC,KAAK,IAAI,IAAI,IAAI,gBAAgB,EAAE;YAC/B,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/C;QAED,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAE3B,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;QACf,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;QAChB,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC;QACf,KAAK,MAAM,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;YACxD,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SACtB;QAED,mCAAmC;QACnC,MAAM,MAAM,GAAW,IAAI,CAAC,MAAM,CAAC;QACnC,MAAM,CAAC,QAAQ,CAAC,KAAK,GAAG,iBAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAC/D,MAAM,CAAC,eAAe,CAAC,KAAK,GAAG,iBAAO,CAAC,SAAS,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QAC7E,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,iBAAO,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC3D,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,iBAAO,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC3D,MAAM,CAAC,iBAAiB,CAAC,GAAG,GAAG,CAAC,CAAC;QACjC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;QAClB,MAAM,CAAC,IAAI,GAAG,EAAE,CAAC;QACjB,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;QAEnB,yCAAyC;QACzC,KAAK,IAAI,IAAI,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;YACnC,MAAM,QAAQ,GAAc,IAAI,CAAC,IAA4B,CAAC;YAE9D,MAAM,QAAQ,SAAG,QAAQ,CAAC,UAAU,0CAAE,QAAQ,CAAC;YAC/C,IAAI,QAAQ,EAAE;gBACV,IAAI,QAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,KAAK,CAAC,KAAK,EAAE;oBACxC,sCAAsC;oBACtC,IAAI,QAAQ,CAAC,KAAK,CAAC,GAAG,EAAE;wBACpB,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC;qBAC/C,CAAC,mDAAmD;yBAChD;wBACD,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC;wBAClC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;wBACxB,KAAK,MAAM,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;4BACxD,KAAK,CAAC,OAAO,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;yBAC5C;qBACJ;iBACJ;aACJ;YACD,mBAAmB;YACnB,IAAI,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,UAAU,IAAI,QAAQ,CAAC,UAAU,CAAC,QAAQ,EAAE;gBACzE,YAAY,IAAI,QAAQ,CAAC,OAAO,CAAC;aACpC;YACD,6BAA6B;YAC7B,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,WAAI,QAAQ,CAAC,UAAU,0CAAE,QAAQ,CAAA,EAAE;gBACzD,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC;gBACzB,MAAM,CAAC,iBAAiB,CAAC,GAAG,GAAG,OAAA,QAAQ,CAAC,UAAU,CAAC,iBAAiB,0CAAE,GAAG,KAAI,CAAC,CAAC;gBAC/E,MAAM,CAAC,iBAAiB,CAAC,KAAK,GAAG,OAAA,QAAQ,CAAC,UAAU,CAAC,iBAAiB,0CAAE,KAAK,KAAI,CAAC,CAAC;gBACnF,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC;gBAC3C,MAAM,CAAC,YAAY,GAAG,QAAQ,CAAC,QAAQ,KAAK,WAAW,CAAC;gBACxD,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBACxB,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC;gBAEvB,IAAI,QAAQ,CAAC,QAAQ,KAAK,WAAW,IAAI,QAAQ,CAAC,IAAI,EAAE;oBACpD,KAAK,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;wBAClD,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,CAAC;wBACnC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,UAAU,GAAG,GAAG,CAAC;qBACpC;iBACJ;qBAAM;oBACH,MAAM,CAAC,QAAQ,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC;oBAC5C,MAAM,CAAC,eAAe,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC;iBACtD;aACJ;SACJ;QAED,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC;QAChE,YAAY;QACZ,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAExD,aAAa;QACb,KAAK,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;YAC5C,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,GAAG,CAAC,GAAG;oBAAE,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC;gBAC3B,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aACrD;SACJ;QAED,IAAI,QAAQ,EAAE;YACV,IAAI,CAAC,QAAQ,CAAC,KAAK;gBAAE,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;YACzC,QAAQ,CAAC,SAAS,GAAG,WAAW,CAAC;SACpC;QAED,MAAM,YAAY,GAAG,CAAC,KAAK,EAAE,EAAE;;YAC3B,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC;YACf,IAAI,CAAC,KAAK,CAAC,IAAI;gBAAE,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;YAChC,UAAI,KAAK,CAAC,KAAK,0CAAE,MAAM,EAAE;gBACrB,KAAK,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,EAAE;oBAC3B,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;iBACtC;aACJ;YACD,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC5D,CAAC,CAAC;QAEF,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;YACvC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACf,YAAY,CAAC,KAAK,CAAC,CAAC;aACvB;SACJ;QAED;YACI,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC3D,qFAAqF;YACrF,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAkC,EAAE,EAAE,CAAC,GAAG,CAAC,OAAO,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;SAC3H;QAED,KAAK,IAAI,KAAK,IAAI,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YAC7C,YAAY,CAAC,KAAK,CAAC,CAAC;SACvB;QAED,KAAK,IAAI,CAAC,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAC7C,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC5C,qFAAqF;YACrF,KAAK,CAAC,KAAK,GAAG,OAAO;iBAChB,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;iBACjC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE;gBACzB,YAAY,CAAC,KAAK,CAAC,CAAC;gBACpB,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;gBAChB,OAAO,GAAG,CAAC;YACf,CAAC,EAAE,EAAE,CAAC,CAAC;SACd;QAED,8BAA8B;QAC9B,IAAI,IAAI,CAAC,OAAO,KAAK,WAAW,EAAE;YAC9B,gDAAgD;YAChD,IAAI,MAAM,CAAC,MAAM,KAAK,EAAE,EAAE;gBACtB,+BAA+B;gBAC/B,MAAM,CAAC,QAAQ,CAAC,KAAK,IAAI,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC;gBACpD,MAAM,CAAC,eAAe,CAAC,KAAK,IAAI,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC;gBACvD,MAAM,CAAC,MAAM,GAAG,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC;gBAC3C,MAAM,CAAC,MAAM,CAAC,KAAK,IAAI,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;gBACjD,MAAM,CAAC,MAAM,CAAC,KAAK,IAAI,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC;gBAClD,MAAM,CAAC,IAAI,GAAG,gBAAgB,CAAC;gBAC/B,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;gBACnB,MAAM,CAAC,iBAAiB,CAAC,GAAG,GAAG,CAAC,CAAC;aACpC;SACJ;QAED,sDAAsD;QACtD,IAAI,MAAM,CAAC,iBAAiB,CAAC,KAAK,GAAG,MAAM,CAAC,iBAAiB,CAAC,GAAG;YAAE,MAAM,CAAC,iBAAiB,CAAC,KAAK,GAAG,MAAM,CAAC,iBAAiB,CAAC,GAAG,CAAC;QAEjI,4BAA4B;QAC5B,MAAM,CAAC,QAAQ,GAAG;YACd,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK;YAC5B,IAAI,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI;YAC1B,GAAG,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG;YACxB,MAAM,EAAE,IAAI;SACf,CAAC;QACF,MAAM,CAAC,eAAe,GAAG;YACrB,KAAK,EAAE,MAAM,CAAC,eAAe,CAAC,KAAK;YACnC,IAAI,EAAE,MAAM,CAAC,eAAe,CAAC,IAAI;YACjC,GAAG,EAAE,MAAM,CAAC,eAAe,CAAC,GAAG;YAC/B,MAAM,EAAE,IAAI;SACf,CAAC;QACF,MAAM,CAAC,MAAM,GAAG;YACZ,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK;YAC1B,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI;YACxB,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG;YACtB,MAAM,EAAE,IAAI;SACf,CAAC;QACF,MAAM,CAAC,MAAM,GAAG;YACZ,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK;YAC1B,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI;YACxB,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG;YACtB,MAAM,EAAE,IAAI;SACf,CAAC;QAEF,UAAU,CAAC,QAAQ,GAAG;YAClB,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK;YAC5B,IAAI,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI;YAC1B,GAAG,EAAE,MAAM,CAAC,QAAQ,CAAC,GAAG;YACxB,MAAM,EAAE,IAAI;SACf,CAAC;QACF,UAAU,CAAC,eAAe,GAAG;YACzB,KAAK,EAAE,MAAM,CAAC,eAAe,CAAC,KAAK;YACnC,IAAI,EAAE,MAAM,CAAC,eAAe,CAAC,IAAI;YACjC,GAAG,EAAE,MAAM,CAAC,eAAe,CAAC,GAAG;YAC/B,MAAM,EAAE,IAAI;SACf,CAAC;QACF,UAAU,CAAC,MAAM,GAAG;YAChB,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK;YAC1B,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI;YACxB,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG;YACtB,MAAM,EAAE,IAAI;SACf,CAAC;QACF,UAAU,CAAC,MAAM,GAAG;YAChB,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK;YAC1B,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI;YACxB,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG;YACtB,MAAM,EAAE,IAAI;SACf,CAAC;QAEF,cAAc;QACd,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,YAAY,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAE5F,eAAe;QACf,MAAM,CAAC,QAAQ,CAAC,KAAK;YACjB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,gBAAgB,CAAC,CAAC;QACrI,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,cAAc,CAAC,CAAC;QACxJ,MAAM,CAAC,MAAM,CAAC,KAAK;YACf,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,cAAc,CAAC,CAAC;QAEvI,WAAW;QACX,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,QAAQ,CAAC,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;QACzE,QAAQ,CAAC,GAAG,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QAEvE,qBAAqB;QACrB,KAAK,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,gBAAgB,CAAC,CAAC;QAC5F,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC;QACpD,KAAK,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,YAAY,CAAC,CAAC;QAEzF,mBAAmB;QACnB,IAAI,CAAC,mBAAmB,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;QAExE,aAAa;QACb,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC,iBAAiB,CAAC,CAAC;QACjH,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,GAAG,SAAS,CAAC,sBAAsB,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,GAAG,SAAS,CAAC,mBAAmB,CAAC,CAAC;QACxF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,GAAG,SAAS,CAAC,wBAAwB,CAAC,CAAC;QAChE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC,mBAAmB,CAAC,CAAC;QACxH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,wBAAwB,CAAC,CAAC;QAC1F,IAAI,IAAI,CAAC,UAAU,KAAK,QAAQ;YAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;aACxD,IAAI,IAAI,CAAC,UAAU,KAAK,QAAQ;YAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;aAC7D;YACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;YAC9B,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;SACjC;QACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;QACjD,IAAI,IAAI,CAAC,IAAI;YAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,gCAAgC;QAChG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC;QACxD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;QAEjD,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG;YAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC;QAEzE;YACI,MAAM,KAAK,GAAG,CAAC,GAAG,SAAS,CAAC,iBAAiB,CAAC,CAAC;YAC/C,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;YAC7D,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;YAErE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;YACpC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,cAAc,CAAC;YAE5C,IAAI,CAAC,MAAM,GAAG;gBACV,KAAK,EAAE,UAAU,GAAG,cAAc;aACrC,CAAC;SACL;QAED,eAAe;QACf,KAAK,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC3C,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SACtC;QACD,eAAe;QACf,KAAK,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC3C,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;SAC5C;QACD,mBAAmB;QACnB,KAAK,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;YAC7C,GAAG,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SACxC;QACD,SAAS;QACT,KAAK,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACvC,EAAE,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;SACxC;IACL,CAAC;IAED,WAAW,CAAC,YAAoB;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;IAClD,CAAC;IAED,eAAe,CAAC,SAAkB;QAC9B,IAAI,SAAS,KAAK,SAAS;YAAE,OAAO,SAAS,CAAC;QAC9C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACnD,CAAC;IAED,aAAa,CAAC,aAAsB;QAChC,IAAI,aAAa,KAAK,SAAS;YAAE,OAAO,SAAS,CAAC;QAClD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;IACpD,CAAC;IAED,sBAAsB,CAAC,aAAsB;QACzC,IAAI,aAAa,KAAK,SAAS;YAAE,OAAO,SAAS,CAAC;QAClD,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QACpD,IAAI,EAAC,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,KAAK,CAAA;YAAE,OAAO,SAAS,CAAC;QACxC,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC3C,CAAC;IAED,SAAS,CAAC,SAAkB;QACxB,IAAI,CAAC,SAAS;YAAE,OAAO,SAAS,CAAC;QACjC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IAC5C,CAAC;IAED,gBAAgB;;QACZ,OAAO,CAAC,CAAC,UAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,KAAK,CAAA,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,OAAO;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;IAC1C,CAAC;IAED,QAAQ;QACJ,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;IAChC,CAAC;IAED,YAAY,CAAC,MAAc;QACvB,OAAQ,KAAK,CAAC,YAAY,CAAC,MAAM,CAAwB,CAAC;IAC9D,CAAC;IAED,eAAe;QACX,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAI,MAAM,CAAC,MAAM;YAAE,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC3D,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,uBAAuB;QACnB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC;QAChD,IAAI,CAAC,GAAG;YAAE,GAAG,GAAG,WAAW,CAAC;QAC5B,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC;IAED,kBAAkB;QACd,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC;IACzF,CAAC;IAED,iBAAiB,CAAC,QAAQ,EAAE,KAAM;QAC9B,MAAM,YAAY,GAAG;YACjB,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,EAAE;YACT,IAAI,EAAE,CAAC;YACP,KAAK,EAAE,CAAC;YACR,GAAG,EAAE,CAAC;SACT,CAAC;QACF,KAAK,mCACE,YAAY,GACZ,KAAK,CACX,CAAC;QAEF,MAAM,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;QACxB,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;QAClB,MAAM,SAAS,GAAG,yBAAyB,QAAQ,QAAQ,CAAC;QAC5D,MAAM,UAAU,GAAG,EAAE,CAAC;QACtB,UAAU,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IAC5B,CAAC;IAED,mBAAmB,CAAC,OAAO;QACvB,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,EAAE,4BAA4B,EAAE,KAAK,EAAE,CAAC,CAAC;IACzD,CAAC;IAED,gBAAgB,CAAC,KAAK;QAClB,MAAM,YAAY,GAAG;YACjB,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,EAAE;YACT,IAAI,EAAE,CAAC;YACP,KAAK,EAAE,CAAC;YACR,GAAG,EAAE,CAAC;SACT,CAAC;QACF,KAAK,mCACE,YAAY,GACZ,KAAK,CACX,CAAC;QAEF,MAAM,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;QACxB,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,KAAK,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;QAClB,MAAM,SAAS,GAAG,4BAA4B,CAAC;QAC/C,MAAM,UAAU,GAAG,EAAE,CAAC;QACtB,UAAU,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IAC5B,CAAC;IAED,oBAAoB,CAAC,OAAO,EAAE,QAAQ;QAClC,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,MAAM,UAAU,GAAG,EAAE,CAAC;QAEtB,MAAM,UAAU,GAAG,yBAAyB,QAAQ,QAAQ,CAAC;QAC7D,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;QACnC,UAAU,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;QAE/B,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;IAC5B,CAAC;IAED,eAAe,CAAC,KAAK,EAAE,IAAI;QACvB,IAAI,iBAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;YACxB,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAChC,IAAI,CAAC,CAAC,OAAO;gBAAE,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,CAAC,cAAc;gBAAE,KAAK,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC;SACzD;IACL,CAAC;IACD,eAAe,CAAC,KAAK;QACjB,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;YACjC,KAAK,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;SACzD;IACL,CAAC;IAED,gBAAgB,CAAC,KAAK;QAClB,MAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QAChD,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;QAClD,MAAM,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAExC,IAAI,QAAQ,EAAE;YACV,KAAK,CAAC,QAAQ,CAAC,KAAK,IAAI,cAAc,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC;SAC5D;QACD,IAAI,SAAS,EAAE;YACX,KAAK,CAAC,SAAS,CAAC,KAAK,IAAI,eAAe,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC;SAC/D;QACD,IAAI,GAAG,EAAE;YACL,KAAK,CAAC,WAAW,CAAC,GAAG,GAAG,CAAC;SAC5B;IACL,CAAC;IAED,cAAc,CAAC,KAAsB;QACjC,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,KAAK,EAAE;YACP,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,WAAW,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;YAC/C,KAAK,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gBAC9C,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;aACpB;SACJ;IACL,CAAC;IAED,aAAa,CAAC,KAAsB;QAChC,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACxC,IAAI,IAAI,EAAE;YACN,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,UAAU,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;SAChD;QACD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED;;;;;OAKG;IACH,OAAO,CAAC,KAAa,EAAE,GAAW,EAAE,KAAU;QAC1C,MAAM,QAAQ,GAAG,iBAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC1C,OAAO,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC/C,CAAC;IAED;;;;OAIG;IACH,OAAO,CAAC,KAAa,EAAE,GAAW;QAC9B,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACvC,OAAO,iBAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;CACJ;AAzhBD,4BAyhBC;;;;;;;;;;;;;;AC7iBD,wCAAqC;AACrC,qEAAgE;AAChE,gEAA6D;AAC7D,kFAA+E;AAC/E,gFAA6E;AAE7E,iEAA8D;AAC9D,sFAAmF;AACnF,0DAAuD;AACvD,iEAA8D;AAM9D;;GAEG;AACH,MAAa,aAAc,SAAQ,UAAU;IAOzC,YAAY,GAAG,IAAI;QACf,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;QAEf;;;WAGG;QACH,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG;YACZ,MAAM,EAAE,EAAE;SACb,CAAC;IACN,CAAC;IAED,kDAAkD;IAElD;;;OAGG;IACH,MAAM,KAAK,cAAc;QACrB,OAAO,WAAW,CAAC,KAAK,CAAC,cAAc,EAAE;YACrC,OAAO,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC;YAClC,QAAQ,EAAE,yDAAyD;YACnE,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,IAAI,EAAE;gBACF;oBACI,WAAW,EAAE,OAAO;oBACpB,eAAe,EAAE,YAAY;oBAC7B,OAAO,EAAE,QAAQ;iBACpB;aACJ;SACJ,CAAC,CAAC;IACP,CAAC;IAED,kDAAkD;IAElD;;;OAGG;IACH,OAAO;QACH,MAAM,IAAI,GAAuB,KAAK,CAAC,OAAO,EAAmC,CAAC;QAElF,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC;QAEpC,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;QACnC,KAAK,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACvC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;gBACb,IAAI,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC;oBAAE,OAAO,GAAG,CAAC,GAAG,CAAC;aAClD;SACJ;QAED,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QAC5B,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC;YAAE,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAE3F,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QACtC,KAAK,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC3C,IAAI,KAAK,KAAK,CAAC;gBAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;SACnC;QAED,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAE1B,IAAI,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;QAC5B,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,KAAK,OAAO,CAAC;QACjD,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,KAAK,WAAW,CAAC;QAEpD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QAE7B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,aAAa,CAAC,EAAE,EAAE,KAAK;QACnB,OAAO,KAAK,CAAC,SAAS,KAAK,OAAO,IAAI,EAAE,KAAK,eAAe,IAAI,EAAE,KAAK,WAAW,CAAC;IACvF,CAAC;IAED,qBAAqB,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI;;QAClC,IAAI,YAAY,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,MAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,0CAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;QAC1F,OAAO,YAAY,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACtE,CAAC;IAED,wBAAwB,CAAC,IAAI;QACzB,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QAC7B,MAAM,gBAAgB,GAAG,CAAC,SAA0B,EAAE,EAAE;YACpD,MAAM,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;YAC9B,IAAI,GAAG,EAAE;gBACL,IAAI,CAAC,GAAG,CAAC,GAAG;oBAAE,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC;gBAC3B,IAAI,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC;oBAAE,OAAO,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;aAC/D;QACL,CAAC,CAAC;QAEF,CAAC,UAAU,EAAE,iBAAiB,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,GAAoB,EAAE,EAAE,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;IACjH,CAAC;IAED,cAAc,CAAC,IAAI;QACf,MAAM,YAAY,GAAG,EAAE,CAAC;QACxB,MAAM,SAAS,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAClD,KAAK,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAChD,uDAAuD;YACvD,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,EAAE,EAAE;gBAC7B,IAAI,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;oBAC9D,YAAY,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;iBAC7B;gBACD,uCAAuC;aAC1C;iBAAM,IACH,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,qBAAqB,CAAC;gBAC/C,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,KAAK,OAAO,CAAC;gBAClE,CAAC,CAAC,KAAK,CAAC,SAAS,KAAK,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,KAAK,WAAW,CAAC,EACzE;gBACE,YAAY,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;aAC7B;SACJ;QACD,iBAAO,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,YAAY,CAAC;IAC3C,CAAC;IAED,aAAa,CAAC,IAAI;QACd,MAAM,SAAS,GAAG;YACd,MAAM,EAAE;gBACJ,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;gBACvC,KAAK,EAAE,EAAE;gBACT,OAAO,EAAE;oBACL,IAAI,EAAE,QAAQ;iBACjB;aACJ;YACD,KAAK,EAAE;gBACH,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;gBACtC,KAAK,EAAE,EAAE;gBACT,OAAO,EAAE;oBACL,IAAI,EAAE,OAAO;iBAChB;aACJ;YACD,MAAM,EAAE;gBACJ,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;gBACvC,KAAK,EAAE,EAAE;gBACT,OAAO,EAAE;oBACL,IAAI,EAAE,QAAQ;iBACjB;aACJ;YACD,SAAS,EAAE;gBACP,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;gBAC1C,KAAK,EAAE,EAAE;gBACT,OAAO,EAAE;oBACL,IAAI,EAAE,WAAW;iBACpB;aACJ;YACD,SAAS,EAAE;gBACP,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;gBAC1C,KAAK,EAAE,EAAE;gBACT,OAAO,EAAE;oBACL,IAAI,EAAE,WAAW;iBACpB;aACJ;YACD,QAAQ,EAAE;gBACN,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;aAC3C;SACJ,CAAC;QAEF,IAAI,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,aAAa,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAC1H,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;YACV,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACnE,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACxC,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC/C,IAAI,IAAI,CAAC,IAAI,KAAK,aAAa;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACnD,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC9C,IAAI,IAAI,CAAC,IAAI,KAAK,cAAc;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACpD,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACjD,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC/C,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC3C,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC/C,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;gBAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvE,OAAO,GAAG,CAAC;QACf,CAAC,EACD,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAC3C,CAAC;QAEF,MAAM,UAAU,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;YAC1B,IAAI,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI;gBAAE,OAAO,CAAC,CAAC;YAChC,IAAI,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI;gBAAE,OAAO,CAAC,CAAC,CAAC;YACjC,OAAO,CAAC,CAAC;QACb,CAAC,CAAC;QACF,MAAM,cAAc,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;;YACnC,MAAM,YAAY,eAAG,IAAI,CAAC,IAAI,0CAAE,UAAU,0CAAE,QAAQ,CAAC;YACrD,MAAM,aAAa,eAAG,KAAK,CAAC,IAAI,0CAAE,UAAU,0CAAE,QAAQ,CAAC;YACvD,IAAI,YAAY,IAAI,CAAC,aAAa;gBAAE,OAAO,CAAC,CAAC,CAAC;YAC9C,IAAI,aAAa,IAAI,CAAC,YAAY;gBAAE,OAAO,CAAC,CAAC;YAC7C,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI;gBAAE,OAAO,CAAC,CAAC;YACrC,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI;gBAAE,OAAO,CAAC,CAAC,CAAC;YACtC,OAAO,CAAC,CAAC;QACb,CAAC,CAAC;QACF,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACzB,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9B,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC/B,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC3B,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACxB,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1B,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACtB,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAE9B,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACnB,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC1C,IAAI,CAAC,KAAK,GAAG;YACT,SAAS,EAAE,MAAM;YACjB,MAAM,EAAE,YAAY;SACvB,CAAC;QACF,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAEzB,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACpB,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU;gBAAE,OAAO,CAAC,CAAC,CAAC;YACxE,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU;gBAAE,OAAO,CAAC,CAAC;YACvE,OAAO,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC/B,CAAC;IAED,kDAAkD;IAElD;;;OAGG;IACH,iBAAiB,CAAC,IAAI;QAClB,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;QAE9B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;QAE5B,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACvC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,qBAAqB,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC;YACzD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACnC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACrD,MAAM,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;YAChC,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;YAC1B,KAAK,CAAC,MAAM,EAAE,CAAC;YACf,IAAI,GAAG,EAAE;gBACL,IAAI,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC;oBAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;oBAC/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC;aACvE;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACzE,gEAAgE;QAChE,wEAAwE;QACxE,sEAAsE;QACtE,oEAAoE;QACpE,kFAAkF;QAClF,8DAA8D;QAC9D,gEAAgE;QAChE,8DAA8D;QAC9D,8DAA8D;QAC9D,2EAA2E;QAC3E,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACpE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/D,2EAA2E;QAC3E,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrF,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,GAAS,EAAE;YAC5C,MAAM,CAAC,GAAG,IAAI,6BAAa,CAAC,CAAC,IAAI,mDAAwB,CAAC,CAAC,CAAC,EAAE,IAAI,uBAAU,CAAC,+BAAc,CAAC,mBAAmB,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/H,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACnB,CAAC,CAAA,CAAC,CAAC;QACH,gEAAgE;QAChE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACxE,8EAA8E;QAC9E,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtE,4EAA4E;QAC5E,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5E,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC7E,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACpF,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAClF,IAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAO,KAAK,EAAE,EAAE;YAC9D,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,MAAM,KAAK,GAAG,iBAAO,CAAC,kBAAkB,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACpE,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC;YAClD,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC1B,IAAI,YAAY,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;gBAC/B,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBAC1B,MAAM,UAAU,GAAG,EAAE,CAAC;gBACtB,UAAU,CAAC,yCAAyC,CAAC,GAAG,KAAK,CAAC;gBAC9D,MAAM,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;aACzC;QACL,CAAC,CAAA,CAAC,CAAC;QAEH,wBAAwB;QACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACpC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;YAChE,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC1C,IAAI,IAAI;gBAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QACH,wBAAwB;QACxB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACtC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;YAChE,MAAM,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACnD,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;YAChC,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;QACH,sBAAsB;QACtB,IAAI,OAAO,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE;YAChC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;gBACrC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;gBACrC,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;aACtD;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEK,eAAe,CAAC,KAAK;;YACvB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC;YACjD,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;KAAA;IAEK,aAAa,CAAC,KAAK;;YACrB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;YAChE,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC1C,IAAI,IAAI;gBAAE,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC;QACvC,CAAC;KAAA;IAEK,0BAA0B,CAAC,KAAK;;YAClC,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;YAC7C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YACxC,IAAI,CAAC,IAAI,EAAE;gBACP,OAAO,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;gBACrC,OAAO;aACV;YACD,+CAA+C;YAC/C,IAAI,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC;YAC1C,0CAA0C;YAC1C,IAAI,SAAS,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC;YAE1C,6CAA6C;YAC7C,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC;YAChD,IAAI,IAAI,GAAG;gBACP,GAAG,EAAE,GAAG;aACX,CAAC;YAEF,2DAA2D;YAC3D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBACzB,IAAI,GAAG,GAAG,MAAM,CAAC,EAAE,CAAC;gBACpB,IAAI,GAAG,GAAG,gBAAgB,CAAC,MAAM,CAAC;gBAClC,IAAI,GAAG,KAAK,SAAS,EAAE;oBACnB,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;iBACnB;qBAAM,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,GAAG,EAAE;oBACnD,IAAI,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;iBACtB;aACJ;YACD,MAAM,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC3C,CAAC;KAAA;IAED,aAAa,CAAC,KAAK;QACf,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,MAAM,GAAG,KAAK,CAAC,aAAa,CAAC;QACnC,MAAM,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;QACjC,MAAM,QAAQ,GAAG;YACb,IAAI,EAAE,OAAO,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YAClC,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC;SAClC,CAAC;QACF,OAAO,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC7B,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;IACvE,CAAC;IAEK,mBAAmB,CAAC,KAAK;;YAC3B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;QAC9C,CAAC;KAAA;IAEK,sBAAsB,CAAC,KAAK;;YAC9B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC;YAClD,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;QAC5C,CAAC;KAAA;IAEK,oBAAoB,CAAC,KAAK;;YAC5B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC;YACtD,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QAC3C,CAAC;KAAA;IAEK,uBAAuB,CAAC,KAAK;;YAC/B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC;YAClD,MAAM,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC;YACtD,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QACvD,CAAC;KAAA;IAEK,YAAY,CAAC,KAAK;;YACpB,MAAM,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;YAChE,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC1C,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,IAAI,IAAI,GAAG,EAAE;gBACb,IAAI,CAAC,MAAM,CAAC,EAAE,wBAAwB,EAAE,GAAG,EAAE,CAAC,CAAC;aAClD;QACL,CAAC;KAAA;IAEK,YAAY,CAAC,KAAK;;YACpB,MAAM,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;YAChE,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC1C,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,IAAI,IAAI,GAAG,EAAE;gBACb,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,GAAG,CAAC;gBACzC,IAAI,CAAC,MAAM,CAAC,EAAE,0BAA0B,EAAE,GAAG,EAAE,CAAC,CAAC;aACpD;QACL,CAAC;KAAA;IAEK,YAAY,CAAC,KAAK;;YACpB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;YAChE,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAC1C,IAAI,IAAI,EAAE;gBACN,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBAChC,MAAM,QAAQ,GAAG,EAAW,CAAC;gBAC7B,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;oBACxB,iEAAiE;oBACjE,sCAAsC;oBACtC,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,EAAE;wBACjE,QAAQ,CAAC,IAAI,CAAC;4BACV,KAAK,EAAE,GAAG,CAAC,GAAG;4BACd,0BAA0B,EAAE,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK;yBACtF,CAAC,CAAC;qBACN;iBACJ;qBAAM;oBACH,QAAQ,CAAC,IAAI,CAAC;wBACV,KAAK,EAAE,GAAG;wBACV,0BAA0B,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ;qBAC5D,CAAC,CAAC;iBACN;gBACD,MAAM,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;gBAC7D,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;aACvB;QACL,CAAC;KAAA;IAED;;OAEG;IACH,eAAe;QACX,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;IAC5D,CAAC;IAED;;OAEG;IACG,OAAO,CAAC,GAAG,IAAI;;;;;YACjB,MAAM,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACjD,MAAM,KAAK,GAAQ,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAE1D,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,MAAM,OAAM,OAAO,YAAC,GAAG,IAAI,CAAC,CAAC;YAC7B,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAE/B,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,EAAE;gBACrB,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBACtC,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,KAAK,EAAE,CAAC;oBAChB,2FAA2F;oBAC3F,OAAO,CAAC,iBAAiB,IAAI,OAAO,CAAC,iBAAiB,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;iBACpG;aACJ;QACL,CAAC;KAAA;IAED;;OAEG;IACH,uBAAuB;QACnB,MAAM,UAAU,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAC1C,IAAI,UAAU,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;YAC3C,UAAU,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAC9C;IACL,CAAC;IAED;;OAEG;IACH,oBAAoB;QAChB,MAAM,UAAU,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAC1C,IAAI,UAAU,CAAC,MAAM,EAAE;YACnB,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC/C;IACL,CAAC;IAED,yBAAyB,CAAC,KAAK;QAC3B,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC;QAChD,MAAM,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC;QACtD,IAAI,+CAAsB,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE;YACpD,KAAK,EAAE,KAAK;SACf,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACpB,CAAC;IAED,wBAAwB,CAAC,KAAK;QAC1B,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC;QAChD,IAAI,6CAAqB,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAChF,CAAC;IAED,gBAAgB,CAAC,KAAK;QAClB,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC;QAChD,IAAI,6BAAa,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACxE,CAAC;IAED,sBAAsB,CAAC,KAAK;QACxB,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,OAAO,GAAG;YACZ,IAAI,EAAE,gBAAgB;YACtB,KAAK,EAAE,gBAAgB;SAC1B,CAAC;QACF,IAAI,uCAAiB,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC5D,CAAC;CACJ;AA1hBD,sCA0hBC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC5iBY,iB;;;;;;;;;;;;8BAYC;AACN,aAAO,EAAP;AACH;;;sCAEiB,I,EAAM;AAAA;;AACpB,MAAA,IAAI,CAAC,IAAL,CAAU,wBAAV,EAAoC,KAApC;AAAA,iGAA0C,iBAAO,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtC,kBAAA,KAAK,CAAC,cAAN;AACM,kBAAA,WAFgC,GAElB,IAAI,CAAC,KAAL,CAAW,CAAC,CAAC,eAAD,CAAD,CAAmB,GAAnB,EAAX,CAFkB;AAGhC,kBAAA,OAHgC,GAGtB,CAAC,CAAC,UAAD,CAAD,CAAc,EAAd,CAAiB,UAAjB,CAHsB;AAIhC,kBAAA,KAJgC,GAIxB,CAAC,CAAC,QAAD,CAAD,CAAY,EAAZ,CAAe,UAAf,CAJwB;AAKhC,kBAAA,SALgC,GAKpB,CAAC,CAAC,YAAD,CAAD,CAAgB,EAAhB,CAAmB,UAAnB,CALoB;AAMhC,kBAAA,SANgC,GAMpB,CAAC,CAAC,OAAD,CAAD,CAAW,EAAX,CAAc,UAAd,CANoB;AAOhC,kBAAA,SAPgC,GAOpB,CAAC,CAAC,YAAD,CAAD,CAAgB,EAAhB,CAAmB,UAAnB,CAPoB;AAQhC,kBAAA,MARgC,GAQvB,CAAC,CAAC,SAAD,CAAD,CAAa,EAAb,CAAgB,UAAhB,CARuB;AAShC,kBAAA,MATgC,GASvB,CAAC,CAAC,SAAD,CAAD,CAAa,EAAb,CAAgB,UAAhB,CATuB;AAWtC,kBAAA,OAAO,CAAC,GAAR,CAAY,WAAZ;;AAEM,kBAAA,QAbgC,GAarB,SAAX,QAAW,CAAC,GAAD,EAAS;AACtB,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,MAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,SAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,UAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,UAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,UAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,WAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,OAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,WAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,MAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,OAAP;AACH;;AACD,wBAAI,GAAG,CAAC,WAAJ,OAAsB,KAA1B,EAAiC;AAC7B,6BAAO,WAAP;AACH;AACJ,mBA/CqC;;AAiDhC,kBAAA,WAjDgC,GAiDlB,SAAd,WAAc,CAAC,GAAD,EAAS;AACzB,wBAAM,MAAM,GAAG;AACX,sBAAA,MAAM,EAAE,CADG;AAEX,sBAAA,IAAI,EAAE,UAFK;AAGX,sBAAA,MAAM,EAAE,CAHG;AAIX,sBAAA,OAAO,EAAE;AAJE,qBAAf;AAMA,wBAAM,KAAK,GAAG,GAAG,CAAC,KAAJ,CAAU,GAAV,CAAd;;AACA,wBAAI,KAAK,CAAC,MAAN,GAAe,CAAnB,EAAsB;AAClB,0BAAM,CAAC,GAAG,KAAK,CAAC,CAAD,CAAL,CAAS,KAAT,CAAe,YAAf,CAAV;AACA,0BAAI,CAAC,IAAI,CAAC,CAAC,CAAD,CAAV,EAAe,MAAM,CAAC,MAAP,GAAgB,QAAQ,CAAC,CAAC,CAAC,CAAD,CAAF,CAAxB;AACf,0BAAI,CAAC,IAAI,CAAC,CAAC,CAAD,CAAV,EAAe,MAAM,CAAC,IAAP,GAAc,CAAC,CAAC,CAAD,CAAD,KAAS,GAAT,GAAe,UAAf,GAA4B,MAA1C;AAClB;;AACD,yBAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,CAAC,MAA1B,EAAkC,CAAC,EAAnC,EAAuC;AACnC,0BAAM,EAAC,GAAG,KAAK,CAAC,CAAD,CAAL,CAAS,KAAT,CAAe,aAAf,CAAV;;AACA,0BAAI,EAAC,IAAI,EAAC,CAAC,CAAD,CAAV,EAAe;AACX,4BAAI,EAAC,CAAC,CAAD,CAAD,CAAK,WAAL,GAAmB,QAAnB,CAA4B,IAA5B,CAAJ,EAAuC,MAAM,CAAC,OAAP,GAAiB,QAAQ,CAAC,EAAC,CAAC,CAAD,CAAF,CAAzB,CAAvC,KACK,MAAM,CAAC,MAAP,GAAgB,QAAQ,CAAC,EAAC,CAAC,CAAD,CAAF,CAAxB;AACR;AACJ;;AACD,2BAAO,MAAP;AACH,mBAtEqC;;AAwEhC,kBAAA,SAxEgC,GAwEpB,SAAZ,SAAY,CAAC,GAAD,EAAS;AACvB,wBAAM,KAAK,GAAG,0BAAd;AACA,wBAAM,CAAC,GAAG,GAAG,CAAC,KAAJ,CAAU,KAAV,CAAV;AACA,2BAAO,CAAC,IAAI,CAAC,GAAD,CAAZ;AACH,mBA5EqC;;AA8EhC,kBAAA,QA9EgC,GA8ErB,SAAX,QAAW,CAAC,KAAD,EAAW;AACxB,2BAAO,KAAK,CAAC,OAAN,CAAc,KAAd,IAAuB,KAAvB,GAA+B,CAAC,KAAD,CAAtC;AACH,mBAhFqC;;AAiFhC,kBAAA,UAjFgC,GAiFnB,SAAS,CAAC,KAAI,CAAC,MAAL,CAAY,IAAb,CAjFU;AAkFhC,kBAAA,MAlFgC,GAkFvB,UAAU,CAAC,IAlFY;AAmFhC,kBAAA,KAnFgC,GAmFxB,EAnFwB;AAoFlC,kBAAA,KApFkC,GAoF1B,EApF0B,EAqFtC;;AACA,sBAAI,WAAW,CAAC,UAAZ,IAA0B,WAAW,CAAC,UAAZ,CAAuB,SAArD,EAAgE;AACtD,oBAAA,CADsD,GAClD,WAAW,CAAC,UAAZ,CAAuB,SAD2B;;AAE5D,wBAAI;AACA,0BAAI,CAAC,CAAC,UAAN,EAAkB;AACd,wBAAA,MAAM,CAAC,WAAP,GAAqB,CAAC,CAAC,UAAvB;AACH;;AACD,0BAAI,CAAC,CAAC,KAAN,EAAa;AACT,wBAAA,MAAM,CAAC,IAAP,GAAc,CAAC,CAAC,KAAhB;AACA,wBAAA,UAAU,CAAC,IAAX,GAAkB,CAAC,CAAC,KAApB;AACH;;AACD,0BAAI,CAAC,CAAC,QAAN,EAAgB;AACZ,wBAAA,MAAM,CAAC,QAAP,GAAkB,CAAC,CAAC,QAApB;AACH;;AACD,0BAAI,CAAC,CAAC,GAAN,EAAW;AACP,wBAAA,MAAM,CAAC,GAAP,GAAa,CAAC,CAAC,GAAf;AACH;;AACD,0BAAI,CAAC,CAAC,GAAN,EAAW;AACP,wBAAA,MAAM,CAAC,GAAP,GAAa,CAAC,CAAC,GAAf;AACH;;AACD,0BAAI,CAAC,CAAC,MAAN,EAAc;AACV,wBAAA,MAAM,CAAC,MAAP,GAAgB,CAAC,CAAC,MAAlB;AACH;;AACD,0BAAI,CAAC,CAAC,MAAN,EAAc;AACV,wBAAA,MAAM,CAAC,MAAP,GAAgB,CAAC,CAAC,MAAlB;AACH;;AACD,0BAAI,CAAC,CAAC,oBAAN,EAA4B;AACxB,wBAAA,MAAM,CAAC,WAAP,GAAqB,CAAC,CAAC,oBAAvB;AACH;;AACD,0BAAI,CAAC,CAAC,mBAAN,EAA2B;AACvB,wBAAA,MAAM,CAAC,SAAP,GAAmB,CAAC,CAAC,mBAArB;AACH;;AACD,0BAAI,CAAC,CAAC,yBAAN,EAAiC;AAC7B,wBAAA,MAAM,CAAC,gBAAP,GAA0B,CAAC,CAAC,yBAA5B;AACH;;AACD,0BAAI,CAAC,CAAC,KAAN,EAAa;AACT,wBAAA,MAAM,CAAC,KAAP,CAAa,SAAb,GAAyB,CAAC,CAAC,KAA3B;AACH;;AACD,0BAAI,CAAC,CAAC,UAAN,EAAkB;AACd,wBAAA,MAAM,CAAC,KAAP,CAAa,GAAb,GAAmB,CAAC,CAAC,UAArB;AACH;;AACD,0BAAI,CAAC,CAAC,YAAF,IAAkB,CAAC,CAAC,YAAF,CAAe,WAAf,OAAiC,MAAvD,EAA+D;AAC3D,wBAAA,MAAM,CAAC,OAAP,GAAiB,WAAjB;AACH;;AACD,0BACK,CAAC,CAAC,QAAF,IAAc,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,MAA5C,IACC,CAAC,CAAC,KAAF,IAAW,CAAC,CAAC,KAAF,CAAQ,WAAR,OAA0B,MAF1C,EAGE;AACE,wBAAA,MAAM,CAAC,OAAP,GAAiB,OAAjB;AACI,wBAAA,IAFN,GAEa,EAFb;;AAGE,4BACI,CAAC,CAAC,SAAF,IACA,CAAC,CAAC,SAAF,CAAY,cADZ,IAEA,CAAC,CAAC,SAAF,CAAY,cAAZ,CAA2B,IAH/B,EAIE;AACE,0BAAA,IAAI,GAAG,CAAC,CAAC,SAAF,CAAY,cAAZ,CAA2B,IAAlC;AACH,yBAND,MAMO,IAAI,CAAC,CAAC,SAAF,IAAe,CAAC,CAAC,SAAF,CAAY,eAA/B,EAAgD;AACnD,0BAAA,IAAI,GAAG,CAAC,CAAC,SAAF,CAAY,eAAZ,CACF,KADE,CACI,GADJ,EAEF,GAFE,CAEE,UAAC,IAAD;AAAA,mCAAU,IAAI,CAAC,IAAL,EAAV;AAAA,2BAFF,CAAP;AAGH;;AACD,wBAAA,IAAI,CAAC,OAAL,CAAa,UAAC,GAAD,EAAS;AAClB,0BAAA,GAAG,GAAG,QAAQ,CAAC,GAAD,CAAd;AACA,8BAAI,GAAG,KAAK,WAAZ,EAAyB,MAAM,CAAC,KAAP,CAAa,SAAb,GAAyB,GAAzB;AAC5B,yBAHD;AAIH;;AACD,0BAAI,CAAC,CAAC,QAAN,EAAgB;AACZ,wBAAA,MAAM,CAAC,UAAP,CAAkB,OAAlB,CAA0B,KAA1B,GAAkC,CAAC,CAAC,QAApC;AACH;;AACD,0BAAI,CAAC,CAAC,KAAN,EAAa;AACT,wBAAA,MAAM,CAAC,KAAP,GAAe,QAAQ,CAAC,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,GAAhB,EAAqB,EAArB,CAAD,CAAvB;AACH;AACJ,qBArED,CAqEE,OAAO,CAAP,EAAU;AACR,sBAAA,KAAK,yCAAkC,CAAlC,OAAL;AACH,qBAzE2D,CA0E5D;;;AACM,oBAAA,IA3EsD,GA2E/C,WAAW,CAAC,UAAZ,CAAuB,SAAvB,CAAiC,UAAjC,CAA4C,CAA5C,EAA+C,SA3EA;AA4E5D,oBAAA,IAAI,CAAC,OAAL,CAAa,UAAC,GAAD,EAAS;AAClB,0BAAI;AACA,4BAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAL,CAAvB;AACA,4BAAI,MAAJ,EAAY,MAAM,CAAC,UAAP,CAAkB,MAAlB,EAA0B,IAA1B,GAAiC,QAAQ,CAAC,GAAG,CAAC,KAAL,CAAzC;AACf,uBAHD,CAGE,OAAO,CAAP,EAAU;AACR,wBAAA,KAAK,qCAA8B,CAA9B,OAAL;AACH;AACJ,qBAPD,EA5E4D,CAoF5D;;AACA,wBAAI;AACA,0BAAI,CAAC,CAAC,SAAN,EAAiB;AACb;AACA,wBAAA,MAAM,CAAC,IAAP,CAAY,UAAZ,GAAyB,CAAC,CAAC,SAA3B;AACH;;AACD,0BAAI,CAAC,CAAC,QAAN,EAAgB;AACZ,wBAAA,MAAM,CAAC,IAAP,CAAY,eAAZ,GAA8B,CAAC,CAAC,QAAF,GAAa,CAA3C;AACH;AACJ,qBARD,CAQE,OAAO,CAAP,EAAU;AACR,sBAAA,KAAK,qCAA8B,CAA9B,OAAL;AACH,qBA/F2D,CAgG5D;;;AACM,oBAAA,MAjGsD,GAiG7C,CAAC,CAAC,MAAF,CAAS,KAjGoC;;AAkG5D,yBAAS,CAAT,GAAa,CAAb,EAAgB,CAAC,GAAG,MAAM,CAAC,MAA3B,EAAmC,CAAC,EAApC,EAAwC;AACpC,0BAAI;AACM,wBAAA,CADN,GACU,MAAM,CAAC,CAAD,CADhB;;AAEA,4BAAI,CAAC,CAAC,MAAF,GAAW,CAAX,IAAgB,CAAC,CAAC,UAAtB,EAAkC;AAC1B,0BAAA,KAD0B,GAClB,QADkB;AAE1B,0BAAA,KAF0B,GAElB,IAFkB;AAGxB,0BAAA,EAHwB,GAGnB,QAAQ,CAAC,EAAD,CAHW;;AAI9B,8BAAI,CAAC,CAAC,UAAF,IAAgB,CAAC,CAAC,UAAF,CAAa,WAAb,OAA+B,MAAnD,EAA2D;AACvD,4BAAA,KAAK,GAAG,EAAR;AACA,4BAAA,MAAM,CAAC,MAAP,CAAc,QAAd,CAAuB,KAAvB,CAA6B,EAA7B,IAAmC,KAAnC;AACA,4BAAA,KAAK,GAAG,UAAR;AACH,2BAJD,MAIO,IAAI,CAAC,CAAC,SAAF,IAAe,CAAC,CAAC,SAAF,CAAY,WAAZ,OAA8B,MAAjD,EAAyD;AACtD,4BAAA,QADsD,GAC3C,CAAC,CAAC,qBADyC;AAE5D,4BAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACA,4BAAA,KAAK,GAAG,EAAR;AACI,4BAAA,aAJwD;;AAK5D,gCAAI,QAAJ,EAAc;AACV,8BAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA8B,QAA9B;AACM,8BAAA,GAFI,GAEE,QAAQ,CAAC,WAAT,EAFF;AAGV,kCAAI,GAAG,KAAK,QAAZ,EACI,aAAa,GAAG,MAAM,CAAC,MAAP,CAAc,SAAd,CAAwB,MAAxB,CAA+B,KAA/C;AACJ,kCAAI,GAAG,KAAK,UAAZ,EACI,aAAa,GAAG,MAAM,CAAC,MAAP,CAAc,SAAd,CAAwB,QAAxB,CAAiC,KAAjD;AACJ,kCAAI,GAAG,KAAK,cAAZ,EACI,aAAa,GAAG,MAAM,CAAC,MAAP,CAAc,SAAd,CAAwB,YAAxB,CAAqC,KAArD;AACJ,kCAAI,GAAG,KAAK,UAAZ,EACI,aAAa,GAAG,MAAM,CAAC,MAAP,CAAc,SAAd,CAAwB,SAAxB,CAAkC,KAAlD;AACJ,kCAAI,aAAJ,EAAmB,aAAa,CAAC,EAAD,CAAb,GAAoB,KAApB;AACtB,6BAZD,MAYO;AACH,kCAAI,CAAC,CAAC,SAAF,CAAY,WAAZ,OAA8B,KAAlC,EAAyC;AACrC,gCAAA,MAAM,CAAC,MAAP,CAAc,SAAd,CAAwB,MAAxB,CAA+B,KAA/B,CAAqC,EAArC,IAA2C,KAA3C;AACH;;AACD,kCAAI,CAAC,CAAC,SAAF,CAAY,WAAZ,OAA8B,KAAlC,EAAyC;AACrC,gCAAA,MAAM,CAAC,MAAP,CAAc,SAAd,CAAwB,YAAxB,CAAqC,KAArC,CAA2C,EAA3C,IAAiD,KAAjD;AACH;AACJ;;AACD,4BAAA,KAAK,GAAG,WAAR;AACH,2BA1BM,MA0BA;AACC,4BAAA,IADD,GACQ,CAAC,CAAC,IAAF,CACN,WADM,GAEN,IAFM,GAGN,OAHM,CAGE,KAHF,EAGS,GAHT,EAIN,OAJM,CAIE,IAJF,EAIQ,GAJR,CADR;AAMH,gCAAI,IAAI,CAAC,QAAL,CAAc,QAAd,KAA2B,IAAI,CAAC,QAAL,CAAc,SAAd,CAA/B,EACI,IAAI,GAAG,IAAI,CAAC,OAAL,CAAa,SAAb,EAAwB,EAAxB,CAAP;AACJ,4BAAA,KAAK,GAAG,MAAM,CAAC,MAAP,CAAc,MAAd,CAAqB,IAArB,CAAR;AACH;;AACD,8BAAI,CAAC,KAAL,EAAY,OAAO,CAAC,KAAR,gCAAsC,CAAC,CAAC,IAAxC;;AACZ,8BAAI,KAAJ,EAAW;AACP,gCAAI,KAAK,KAAK,QAAd,EAAwB,KAAK,CAAC,IAAN,GAAa,CAAC,CAAC,IAAf;AACxB,4BAAA,KAAK,CAAC,IAAN,GAAa,QAAQ,CAAC,CAAC,CAAC,MAAH,CAArB;;AACA,gCAAI,CAAC,CAAC,oBAAN,EAA4B;AACxB,8BAAA,KAAK,CAAC,KAAN,GAAc,QAAQ,CAClB,CAAC,CAAC,oBAAF,CAAuB,mBAAvB,CAA2C,IADzB,CAAtB;AAGH;AACJ;AACJ;AACJ,uBAzDD,CAyDE,OAAO,CAAP,EAAU;AACR,wBAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACH;AACJ,qBA/J2D,CAgK5D;;;AACA,wBAAI,SAAS,IAAI,CAAC,CAAC,SAAf,IAA4B,CAAC,CAAC,SAAF,CAAY,OAA5C,EAAqD;AAC3C,sBAAA,UAD2C,GAC/B,QAAQ,CAAC,CAAC,CAAC,SAAF,CAAY,OAAb,CADuB;;AAEjD,sBAAA,UAAS,CAAC,OAAV,CAAkB,UAAC,CAAD,EAAO;AACrB,4BAAI;AACA,8BAAM,IAAI,GAAG,EAAb;AACA,0BAAA,IAAI,CAAC,IAAL,GAAY,CAAC,CAAC,WAAF,CAAc,WAAd,EAAZ;AACA,8BAAI,CAAC,CAAC,WAAN,EACI,IAAI,CAAC,WAAL,GAAmB;AACf,4BAAA,KAAK,EAAE,UAAU,CAAC,UAAX,CAAsB,CAAC,CAAC,WAAxB;AADQ,2BAAnB;AAIJ,8BAAM,QAAQ,GAAG;AACb,4BAAA,IAAI,EAAE,CAAC,CAAC,IADK;AAEb,4BAAA,IAAI,EAAE,SAFO;AAGb,4BAAA,IAAI,EAAJ;AAHa,2BAAjB;AAKA,0BAAA,KAAK,CAAC,IAAN,CAAW,QAAX;AACH,yBAdD,CAcE,OAAO,CAAP,EAAU;AACR,0BAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACH;AACJ,uBAlBD;AAmBH,qBAtL2D,CAuL5D;;;AACA,wBAAI,OAAO,IAAI,CAAC,CAAC,OAAF,IAAa,IAAxB,IAAgC,CAAC,CAAC,OAAF,CAAU,MAAV,IAAoB,IAAxD,EAA8D;AACpD,sBAAA,QADoD,GAC1C,QAAQ,CAAC,CAAC,CAAC,OAAF,CAAU,MAAX,CADkC;;AAE1D,sBAAA,QAAO,CAAC,OAAR,CAAgB,UAAC,CAAD,EAAO;AACnB,4BAAI;AACA,8BAAM,IAAI,GAAG,EAAb;AACA,8BAAM,MAAM,GAAG,EAAf;AACA,8BAAM,MAAM,GAAG,EAAf;AACA,0BAAA,MAAM,CAAC,MAAP,GAAgB,MAAhB;AACA,0BAAA,IAAI,CAAC,MAAL,GAAc,MAAd;;AAEA,8BAAI,CAAC,CAAC,WAAN,EAAmB;AACf,4BAAA,IAAI,CAAC,WAAL,GAAmB;AACf,8BAAA,KAAK,EAAE,UAAU,CAAC,UAAX,CAAsB,CAAC,CAAC,WAAxB;AADQ,6BAAnB;AAGH;;AAED,0BAAA,MAAM,CAAC,EAAP,GAAY;AACR,4BAAA,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,EAAH,CAAT,CAAgB,CAAhB,CAAD;AADN,2BAAZ;AAGA,0BAAA,MAAM,CAAC,IAAP,GAAc,QAAd;AACA,8BAAI,CAAC,CAAC,KAAN,EAAa,MAAM,CAAC,KAAP,GAAe,CAAC,CAAC,KAAF,CAAQ,WAAR,GAAsB,OAAtB,CAA8B,KAA9B,EAAqC,GAArC,CAAf,CAAb,KACK,IAAI,CAAC,CAAC,QAAF,IAAc,CAAC,CAAC,QAAF,CAAW,WAAX,GAAyB,QAAzB,CAAkC,QAAlC,CAAlB,EACD,MAAM,CAAC,KAAP,GAAe,CAAC,CAAC,QAAF,CACV,WADU,GAEV,OAFU,CAEF,UAFE,EAEU,EAFV,EAGV,OAHU,CAGF,KAHE,EAGK,GAHL,CAAf;AAIJ,8BAAI,MAAM,CAAC,KAAP,CAAa,QAAb,CAAsB,QAAtB,CAAJ,EACI,MAAM,CAAC,KAAP,GAAe,MAAM,CAAC,KAAP,CAAa,OAAb,CAAqB,SAArB,EAAgC,EAAhC,CAAf;AACJ,0BAAA,MAAM,CAAC,SAAP,GAAmB,SAAnB;AACA,0BAAA,MAAM,CAAC,KAAP,GAAe;AACX,4BAAA,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,QAAH,CAAT,CAAsB,CAAtB,CAAD;AADH,2BAAf;AAGA,0BAAA,MAAM,CAAC,OAAP,GAAiB;AACb,4BAAA,IAAI,EAAE;AADO,2BAAjB;;AAIA,8BAAI,CAAC,CAAC,IAAF,CAAO,WAAP,OAAyB,OAA7B,EAAsC;AAClC,4BAAA,MAAM,CAAC,IAAP,GAAc,SAAd;AACA,4BAAA,IAAI,CAAC,QAAL,GAAgB,OAAhB;AACA,gCAAM,KAAK,GAAG,EAAd;AACA,4BAAA,IAAI,CAAC,KAAL,GAAa,KAAb;AACA,4BAAA,KAAK,CAAC,KAAN,GAAc,QAAQ,CAAC,CAAC,CAAC,KAAH,CAAtB;AACH,2BAND,MAMO,IAAI,CAAC,CAAC,IAAF,CAAO,WAAP,OAAyB,QAA7B,EAAuC;AAC1C,4BAAA,IAAI,CAAC,QAAL,GAAgB,OAAhB;;AACA,gCAAI,CAAC,CAAC,KAAF,CAAQ,WAAR,GAAsB,QAAtB,CAA+B,OAA/B,CAAJ,EAA6C;AACzC,8BAAA,IAAI,CAAC,QAAL,GAAgB,QAAhB,CADyC,CACf;AAC7B;;AACD,gCAAM,KAAK,GAAG,EAAd;AACA,4BAAA,IAAI,CAAC,KAAL,GAAa,KAAb;AACA,4BAAA,KAAK,CAAC,EAAN,GAAW;AACP,8BAAA,IAAI,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,EAAH,CAAT,CAAgB,CAAhB,CAAD;AADP,6BAAX;;AAGA,gCAAI,CAAC,CAAC,IAAN,EAAY;AACR;AACA,kCAAM,KAAK,GAAG,CAAC,CAAC,IAAF,CAAO,WAAP,EAAd;AACA,8BAAA,KAAK,CAAC,KAAN,GAAc;AACV,gCAAA,WAAW,EAAE,KAAK,CAAC,QAAN,CAAe,IAAf,CADH;AAEV,gCAAA,SAAS,EAAE,KAAK,CAAC,QAAN,CAAe,IAAf,CAFD;AAGV,gCAAA,UAAU,EAAE,KAAK,CAAC,QAAN,CAAe,IAAf,CAHF;AAIV,gCAAA,SAAS,EAAE,KAAK,CAAC,QAAN,CAAe,IAAf;AAJD,+BAAd;AAMH;;AACD,gCAAI,CAAC,CAAC,KAAF,IAAW,IAAX,IAAmB,CAAC,CAAC,KAAF,CAAQ,IAAR,IAAgB,IAAvC,EAA6C;AACzC;AACA,kCAAM,KAAK,GAAG,KAAK,CAAC,OAAN,CAAc,CAAC,CAAC,KAAF,CAAQ,IAAtB,IACR,CAAC,CAAC,KAAF,CAAQ,IADA,GAER,CAAC,CAAC,CAAC,KAAF,CAAQ,IAAT,CAFN;AAGA,8BAAA,KAAK,CAAC,OAAN,CAAc,UAAC,IAAD,EAAU;AACpB,gCAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACH,+BAFD;AAGH;;AACD,gCACI,CAAC,CAAC,MAAF,IACA,CAAC,CAAC,MAAF,SADA,IAEA,CAAC,CAAC,MAAF,CAAS,MAFT,IAGA,CAAC,CAAC,MAAF,QAHA,IAIA,CAAC,CAAC,MAAF,CAAS,OALb,EAME;AACE,8BAAA,OAAO,CAAC,GAAR,CAAY,CAAC,CAAC,MAAd;AACA,8BAAA,KAAK,CAAC,MAAN,GAAe;AACX,yCAAO,QAAQ,CAAC,CAAC,CAAC,MAAF,UAAe,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAD,CADJ;AAEX,gCAAA,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,MAAF,CAAS,MAAT,CAAgB,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAD,CAFL;AAGX,wCAAM,QAAQ,CAAC,CAAC,CAAC,MAAF,SAAc,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAD,CAHH;AAIX,gCAAA,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,MAAF,CAAS,OAAT,CAAiB,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAAD;AAJN,+BAAf;AAMH,6BA3CyC,CA4C1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACH,2BAxDM,MAwDA,IAAI,CAAC,CAAC,IAAF,CAAO,WAAP,OAAyB,QAA7B,EAAuC;AAC1C,4BAAA,IAAI,CAAC,QAAL,GAAgB,QAAhB;AACH;;AACD;AACI;AACA,gCAAM,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,cAAH,CAArB;AACA,4BAAA,MAAM,CAAC,IAAP,GAAc,CAAC,CAAC,MAAhB;AACA,4BAAA,MAAM,CAAC,IAAP,GAAc,EAAd;AACA,4BAAA,MAAM,CAAC,IAAP,CAAY,IAAZ,GAAmB,CAAC,CAAC,IAArB;;AACA,gCAAI,CAAC,CAAC,OAAF,IAAa,CAAC,CAAC,MAAnB,EAA2B;AACvB,kCAAM,MAAM,GAAG,EAAf;AACA,8BAAA,IAAI,CAAC,MAAL,GAAc,MAAd;AACA,8BAAA,MAAM,CAAC,KAAP,GAAe;AACX,gCAAA,MAAM,EAAE,CAAC,CAAC,MADC;AAEX,gCAAA,OAAO,EAAE,CAAC,CAAC;AAFA,+BAAf;AAIH;AACJ;AAED,8BAAM,QAAQ,GAAG;AACb,4BAAA,IAAI,EAAE,CAAC,CAAC,IADK;AAEb,4BAAA,IAAI,EAAE,QAFO;AAGb,4BAAA,IAAI,EAAJ;AAHa,2BAAjB;AAKA,0BAAA,KAAK,CAAC,IAAN,CAAW,QAAX;AACH,yBAxHD,CAwHE,OAAO,CAAP,EAAU;AACR,0BAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACH;AACJ,uBA5HD;AA6HH,qBAvT2D,CAwT5D;;;AACA,wBAAI,KAAK,IAAI,CAAC,CAAC,MAAX,IAAqB,CAAC,CAAC,MAAF,CAAS,KAAlC,EAAyC;AAC/B,sBAAA,MAD+B,GACtB,QAAQ,CAAC,CAAC,CAAC,MAAF,CAAS,KAAV,CADc;AAErC,sBAAA,MAAM,CAAC,OAAP,CAAe,UAAC,CAAD,EAAO;AAClB,4BAAI;AACA,8BAAM,IAAI,GAAG,EAAb;AACA,8BAAM,MAAK,GAAG,EAAd;AACA,0BAAA,IAAI,CAAC,KAAL,GAAa,MAAb;AAEA,8BAAI,IAAI,GAAG,EAAX;AACA,0BAAA,MAAK,CAAC,GAAN,GAAY,CAAC,CAAC,KAAF,CAAQ,QAAR,CAAiB,GAAjB,CAAZ;AACA,0BAAA,MAAK,CAAC,KAAN,GAAc,QAAQ,CAAC,CAAC,CAAC,KAAF,CAAQ,OAAR,CAAgB,GAAhB,EAAqB,EAArB,CAAD,CAAtB;AACA,8BAAI,CAAC,CAAC,WAAN,EAAmB,IAAI,GAAG,CAAC,CAAC,WAAT;AAEnB,0BAAA,OAAO,CAAC,GAAR,CAAY,CAAZ;;AACA,8BAAI,CAAC,CAAC,SAAF,IAAe,CAAC,CAAC,SAAF,CAAY,QAA/B,EAAyC;AACrC,4BAAA,MAAK,CAAC,IAAN,GAAa,CAAb;AACA,4BAAA,MAAK,CAAC,WAAN,GAAoB,CAApB;AACA,4BAAA,MAAK,CAAC,IAAN,GAAa,CAAb;AACA,4BAAA,MAAK,CAAC,IAAN,GAAa,CAAb;AACA,4BAAA,MAAK,CAAC,SAAN,GAAkB,CAAlB;AAEA,gCAAM,OAAO,GAAG,EAAhB;AACA,gCAAM,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,SAAF,CAAY,QAAb,CAArB;AACA,4BAAA,IAAI,CAAC,OAAL,CAAa,UAAC,GAAD,EAAS;AAClB,kCAAI,GAAG,CAAC,IAAJ,CAAS,WAAT,GAAuB,QAAvB,CAAgC,iBAAhC,CAAJ,EAAwD;AACpD,gCAAA,MAAK,CAAC,IAAN,IAAc,QAAQ,CAAC,GAAG,CAAC,MAAL,CAAtB;AACH,+BAFD,MAEO,IAAI,GAAG,CAAC,IAAJ,CAAS,WAAT,GAAuB,QAAvB,CAAgC,iBAAhC,CAAJ,EAAwD;AAC3D,gCAAA,MAAK,CAAC,WAAN,IAAqB,QAAQ,CAAC,GAAG,CAAC,MAAL,CAA7B;AACH,+BAFM,MAEA,IAAI,GAAG,CAAC,IAAJ,CAAS,WAAT,GAAuB,QAAvB,CAAgC,YAAhC,CAAJ,EAAmD;AACtD,gCAAA,MAAK,CAAC,IAAN,IAAc,QAAQ,CAAC,GAAG,CAAC,MAAL,CAAtB;AACH,+BAFM,MAEA,IACH,GAAG,CAAC,IAAJ,CAAS,WAAT,GAAuB,QAAvB,CAAgC,qBAAhC,CADG,EAEL;AACE,gCAAA,MAAK,CAAC,SAAN,IAAmB,QAAQ,CAAC,GAAG,CAAC,MAAL,CAA3B;AACH;;AACD,kCAAI,GAAG,CAAC,MAAJ,KAAe,EAAnB,EAAuB;AACnB,gCAAA,OAAO,CAAC,IAAR,WAAgB,GAAG,CAAC,IAApB,eAA6B,GAAG,CAAC,MAAjC;AACH,+BAFD,MAEO;AACH,gCAAA,OAAO,CAAC,IAAR,CAAa,GAAG,CAAC,IAAjB;AACH;AACJ,6BAjBD;;AAkBA,gCAAI,OAAO,CAAC,MAAR,GAAiB,CAArB,EAAwB;AACpB;AACA,8BAAA,IAAI,aAAM,OAAO,CAAC,IAAR,CAAa,GAAb,CAAN,iBAA8B,IAA9B,CAAJ;AACH;AACJ;;AACD,8BAAI,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,MAAjC,EAAyC;AACrC,4BAAA,IAAI,CAAC,UAAL,GAAkB;AACd,8BAAA,QAAQ,EAAE;AADI,6BAAlB;AAGH;;AACD,0BAAA,IAAI,CAAC,WAAL,GAAmB;AACf,4BAAA,KAAK,EAAE,UAAU,CAAC,UAAX,CAAsB,IAAtB;AADQ,2BAAnB;AAIA,8BAAM,QAAQ,GAAG;AACb,4BAAA,IAAI,EAAE,CAAC,CAAC,IADK;AAEb,4BAAA,IAAI,EAAE,OAFO;AAGb,4BAAA,IAAI,EAAJ;AAHa,2BAAjB;AAKA,0BAAA,KAAK,CAAC,IAAN,CAAW,QAAX;AACH,yBA1DD,CA0DE,OAAO,CAAP,EAAU;AACR,0BAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACH;AACJ,uBA9DD;AA+DH,qBA1X2D,CA2X5D;;;AACA,wBAAI,SAAS,IAAI,CAAC,CAAC,UAAf,IAA6B,CAAC,CAAC,UAAF,CAAa,SAA9C,EAAyD;AAC/C,sBAAA,UAD+C,GAClC,QAAQ,CAAC,CAAC,CAAC,UAAF,CAAa,SAAd,CAD0B;AAErD,sBAAA,UAAU,CAAC,OAAX,CAAmB,UAAC,EAAD,EAAQ;AACvB,4BAAI;AACA,8BAAM,IAAI,GAAG,EAAb;AACA,0BAAA,IAAI,CAAC,WAAL,GAAmB;AACf,4BAAA,MAAM,EAAE,EAAE,CAAC,MADI;AAEf,4BAAA,KAAK,EAAE,EAAE,CAAC;AAFK,2BAAnB;AAIA,0BAAA,IAAI,CAAC,UAAL,GAAkB;AACd,4BAAA,QAAQ,EAAE;AADI,2BAAlB;AAGA,0BAAA,IAAI,CAAC,OAAL,GAAe,EAAE,CAAC,GAAlB;AACA,0BAAA,IAAI,CAAC,KAAL,GAAa,EAAE,CAAC,KAAhB;AACA,8BAAM,QAAQ,GAAG;AACb,4BAAA,IAAI,EAAE,EAAE,CAAC,IADI;AAEb,4BAAA,IAAI,EAAE,WAFO;AAGb,4BAAA,IAAI,EAAJ;AAHa,2BAAjB;AAKA,0BAAA,KAAK,CAAC,IAAN,CAAW,QAAX;AACH,yBAjBD,CAiBE,OAAO,CAAP,EAAU;AACR,0BAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACH;AACJ,uBArBD;AAsBH,qBApZ2D,CAqZ5D;;;AACA,wBAAI,MAAM,IAAI,CAAC,CAAC,MAAZ,IAAsB,CAAC,CAAC,MAAF,CAAS,KAAnC,EAA0C;AAChC,sBAAA,OADgC,GACvB,QAAQ,CAAC,CAAC,CAAC,MAAF,CAAS,KAAV,CADe;;AAEtC,sBAAA,OAAM,CAAC,OAAP,CAAe,UAAC,CAAD,EAAO;AAClB,4BAAM,IAAI,GAAG,EAAb;AACA,4BAAI,CAAC,CAAC,WAAN,EACI,IAAI,CAAC,WAAL,GAAmB;AACf,0BAAA,KAAK,EAAE,UAAU,CAAC,UAAX,CAAsB,CAAC,CAAC,WAAxB;AADQ,yBAAnB;AAGJ,wBAAA,IAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,CAAC,CAAC,MAAH,CAArB;AACA,wBAAA,CAAC,CAAC,EAAF,GAAO,QAAQ,CAAC,CAAC,CAAC,WAAH,CAAf;AAEA,4BAAM,QAAQ,GAAG;AACb,0BAAA,IAAI,EAAE,CAAC,CAAC,IADK;AAEb,0BAAA,IAAI,EAAE,aAFO;AAGb,0BAAA,IAAI,EAAJ;AAHa,yBAAjB;AAKA,wBAAA,KAAK,CAAC,IAAN,CAAW,QAAX;AACH,uBAfD;AAgBH,qBAxa2D,CAya5D;;;AACA,wBAAI,SAAS,IAAI,CAAC,CAAC,KAAf,IAAwB,CAAC,CAAC,KAAF,CAAQ,IAApC,EAA0C;AAChC,sBAAA,KADgC,GACxB,QAAQ,CAAC,CAAC,CAAC,KAAF,CAAQ,IAAT,CADgB;AAEtC,sBAAA,KAAK,CAAC,OAAN,CAAc,UAAC,CAAD,EAAO;AACjB,4BAAI;AACA,8BAAM,IAAI,GAAG,EAAb;AADA,8BAEM,KAFN,GAEe,CAFf,CAEM,IAFN;AAGA,8BAAI,CAAC,CAAC,KAAN,EAAa,KAAI,gBAAS,CAAC,CAAC,KAAX,MAAJ;AACb,0BAAA,IAAI,CAAC,UAAL,GAAkB;AACd,4BAAA,MAAM,EAAE,CAAC,CAAC,MADI;AAEd,4BAAA,QAAQ,EAAE,CAAC,CAAC;AAFE,2BAAlB;AAIA,0BAAA,IAAI,CAAC,WAAL,GAAmB;AACf,4BAAA,KAAK,EAAE,CAAC,CAAC;AADM,2BAAnB;AAGA,8BAAM,QAAQ,GAAG;AACb,4BAAA,IAAI,EAAJ,KADa;AAEb,4BAAA,IAAI,EAAE,WAFO;AAGb,4BAAA,IAAI,EAAJ;AAHa,2BAAjB;AAKA,0BAAA,KAAK,CAAC,IAAN,CAAW,QAAX;AACH,yBAjBD,CAiBE,OAAO,CAAP,EAAU;AACR,0BAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACH;AACJ,uBArBD;AAsBH,qBAlc2D,CAmc5D;;;AACA,wBAAI,MAAM,IAAI,CAAC,CAAC,MAAZ,IAAsB,CAAC,CAAC,MAAF,CAAS,KAAnC,EAA0C;AAChC,sBAAA,OADgC,GACvB,QAAQ,CAAC,CAAC,CAAC,MAAF,CAAS,KAAV,CADe;;AAEtC,sBAAA,OAAM,CAAC,OAAP,CAAe,UAAC,CAAD,EAAO;AAClB,4BAAI;AACA,8BAAI,CAAC,CAAC,OAAF,CAAU,WAAV,OAA4B,MAAhC,EAAwC;AACpC,gCAAM,MAAM,GAAG,EAAf;AACA,gCAAM,IAAI,GAAG,EAAb;AACA,4BAAA,IAAI,CAAC,MAAL,GAAc,MAAd;AACA,4BAAA,IAAI,CAAC,QAAL,GAAgB,CAAC,CAAC,QAAF,CAAW,WAAX,GAAyB,OAAzB,CAAiC,KAAjC,EAAwC,GAAxC,CAAhB;AACA,4BAAA,IAAI,CAAC,IAAL,GAAY,CAAC,CAAC,IAAd;AACA,4BAAA,IAAI,CAAC,IAAL,GAAY,CAAC,CAAC,IAAF,KAAW,GAAX,GAAiB,MAAjB,GAA0B,UAAtC;AACA,4BAAA,IAAI,CAAC,KAAL,GACI,CAAC,CAAC,KAAF,KAAY,GAAZ,GACM,OADN,GAEM,CAAC,CAAC,KAAF,CACK,WADL,GAEK,OAFL,CAEa,KAFb,EAEoB,GAFpB,EAGK,OAHL,CAGa,GAHb,EAGkB,EAHlB,EAIK,OAJL,CAIa,GAJb,EAIkB,EAJlB,CAHV;AAQA,4BAAA,IAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,CAAC,CAAC,EAAF,CAAK,OAAL,CAAa,GAAb,EAAkB,EAAlB,CAAD,CAArB;AACA,gCAAI,WAAW,GAAG,EAAlB;AACA,gCAAI,CAAC,CAAC,WAAN,EAAmB,WAAW,GAAG,CAAC,CAAC,WAAhB;AACnB,gCAAI,CAAC,CAAC,WAAN,EAAmB,WAAW,gBAAS,CAAC,CAAC,WAAX,CAAX;AACnB,4BAAA,IAAI,CAAC,WAAL,GAAmB,EAAnB;AACA,4BAAA,IAAI,CAAC,WAAL,CAAiB,SAAjB,GAA6B,UAAU,CAAC,UAAX,CAAsB,WAAtB,CAA7B;AAEA,gCAAI,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,GAAjC,EAAsC,IAAI,CAAC,QAAL,GAAgB,WAAhB,CAAtC,KACK,IAAI,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,GAAjC,EACD,IAAI,CAAC,QAAL,GAAgB,SAAhB,CADC,KAEA,IAAI,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,GAAjC,EACD,IAAI,CAAC,QAAL,GAAgB,WAAhB;AAEJ,4BAAA,MAAM,CAAC,IAAP,GAAc,QAAd;AACA,4BAAA,MAAM,CAAC,KAAP,GAAe,cAAf;AACA,4BAAA,MAAM,CAAC,SAAP,GAAmB,OAAnB;;AAEA,gCAAI,CAAC,CAAC,WAAN,EAAmB;AACf,kCAAM,IAAI,GAAG,CAAC,CAAC,WAAF,CAAc,WAAd,EAAb;;AACA,kCAAI,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,QAAjC,EAA2C;AACvC,gCAAA,IAAI,CAAC,MAAL,GAAc,EAAd;;AACA,oCAAI,IAAI,CAAC,QAAL,CAAc,QAAd,CAAJ,EAA6B;AACzB,kCAAA,IAAI,CAAC,MAAL,CAAY,SAAZ,GAAwB,UAAxB;AACA,kCAAA,MAAM,CAAC,OAAP,GAAiB;AACb,oCAAA,IAAI,EAAE;AADO,mCAAjB;AAGH,iCALD,MAKO;AACH,kCAAA,IAAI,CAAC,MAAL,CAAY,SAAZ,GAAwB,QAAxB;;AACA,sCAAI,IAAI,CAAC,IAAL,KAAc,MAAlB,EAA0B;AACtB,oCAAA,MAAM,CAAC,OAAP,GAAiB;AACb,sCAAA,IAAI,EAAE,QADO;AAEb,sCAAA,SAAS,EAAE;AAFE,qCAAjB;AAIH,mCALD,MAKO,IAAI,IAAI,CAAC,IAAL,KAAc,UAAlB,EAA8B;AACjC,oCAAA,MAAM,CAAC,OAAP,GAAiB;AACb,sCAAA,IAAI,EAAE,QADO;AAEb,sCAAA,SAAS,EAAE;AAFE,qCAAjB;AAIH;AACJ;AACJ;;AACD,kCAAI,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,WAAjC,EAA8C;AAC1C,gCAAA,IAAI,CAAC,SAAL,GAAiB,EAAjB;AACA,oCAAM,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,GAAX,CAAd;AACA,gCAAA,KAAK,CAAC,OAAN,CAAc,UAAC,KAAD,EAAW;AACrB,kCAAA,KAAK,GAAG,KAAK,IAAI,EAAjB;AACA,kCAAA,KAAK,GAAG,KAAK,CAAC,OAAN,CAAc,kBAAd,EAAkC,EAAlC,CAAR;AACA,sCAAI,CAAC,KAAL,EAAY;AACZ,sCAAI,KAAK,CAAC,QAAN,CAAe,MAAf,CAAJ,EAA4B;AAE5B,sCAAI,KAAK,CAAC,QAAN,CAAe,SAAf,CAAJ,EACI,IAAI,CAAC,SAAL,CAAe,OAAf,GAAyB,IAAzB,CADJ,KAEK,IAAI,KAAK,CAAC,QAAN,CAAe,QAAf,CAAJ,EACD,IAAI,CAAC,SAAL,CAAe,OAAf,GAAyB,KAAzB,CADC,KAEA,IAAI,KAAJ,EACD,IAAI,CAAC,SAAL,CAAe,SAAf,GAA2B,KAAK,CAAC,WAAN,EAA3B;AACP,iCAZD;;AAaA,oCAAI,CAAC,IAAI,CAAC,SAAL,CAAe,OAApB,EAA6B;AACzB,kCAAA,MAAM,CAAC,OAAP,GAAiB;AACb,oCAAA,IAAI,EAAE,QADO;AAEb,oCAAA,SAAS,EAAE,WAFE;AAGb,oCAAA,UAAU,EAAE;AAHC,mCAAjB;AAKH;AACJ;;AACD,kCAAI,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,UAAjC,EAA6C;AACzC,gCAAA,IAAI,CAAC,QAAL,GAAgB,EAAhB;;AACA,oCAAM,MAAK,GAAG,IAAI,CAAC,KAAL,CAAW,GAAX,CAAd;;AACA,gCAAA,MAAK,CAAC,OAAN,CAAc,UAAC,KAAD,EAAW;AACrB,kCAAA,KAAK,GAAG,KAAK,IAAI,EAAjB;AACA,kCAAA,KAAK,GAAG,KAAK,CAAC,OAAN,CAAc,iBAAd,EAAiC,EAAjC,CAAR;AACA,sCAAI,CAAC,KAAL,EAAY;AACZ,sCAAI,KAAK,CAAC,QAAN,CAAe,MAAf,CAAJ,EAA4B;AAE5B,sCAAI,KAAK,CAAC,QAAN,CAAe,OAAf,CAAJ,EACI,IAAI,CAAC,QAAL,CAAc,KAAd,GAAsB,KAAK,CAAC,WAAN,EAAtB,CADJ,KAEK,IAAI,KAAJ,EACD,IAAI,CAAC,QAAL,CAAc,SAAd,GAA0B,KAAK,CAAC,WAAN,EAA1B;AACP,iCAVD;;AAWA,oCAAI,IAAI,CAAC,IAAL,KAAc,MAAlB,EAA0B;AACtB,kCAAA,MAAM,CAAC,OAAP,GAAiB;AACb,oCAAA,IAAI,EAAE,QADO;AAEb,oCAAA,SAAS,EAAE,WAFE;AAGb,oCAAA,UAAU,EAAE;AAHC,mCAAjB;AAKH,iCAND,MAMO;AACH,kCAAA,MAAM,CAAC,OAAP,GAAiB;AACb,oCAAA,IAAI,EAAE,QADO;AAEb,oCAAA,SAAS,EAAE,WAFE;AAGb,oCAAA,UAAU,EAAE;AAHC,mCAAjB;AAKH;AACJ;;AACD,kCAAI,CAAC,CAAC,QAAF,CAAW,WAAX,OAA6B,cAAjC,EAAiD;AAC7C,gCAAA,IAAI,CAAC,YAAL,GAAoB,EAApB;AACA,oCAAI,IAAI,CAAC,QAAL,CAAc,eAAd,CAAJ,EACI,IAAI,CAAC,YAAL,CAAkB,aAAlB,GAAkC,IAAlC;AACJ,oCAAI,IAAI,CAAC,QAAL,CAAc,UAAd,CAAJ,EACI,IAAI,CAAC,YAAL,CAAkB,QAAlB,GAA6B,IAA7B;AACJ,oCAAI,IAAI,CAAC,QAAL,CAAc,QAAd,CAAJ,EACI,IAAI,CAAC,YAAL,CAAkB,MAAlB,GAA2B,IAA3B,CAPyC,CAQ7C;;AAEA,oCAAI,IAAI,CAAC,YAAL,CAAkB,MAAtB,EAA8B;AAC1B,kCAAA,MAAM,CAAC,OAAP,GAAiB;AACb,oCAAA,IAAI,EAAE,QADO;AAEb,oCAAA,SAAS,EAAE,WAFE;AAGb,oCAAA,UAAU,EAAE;AAHC,mCAAjB;AAKH;;AACD,oCAAI,IAAI,CAAC,YAAL,CAAkB,QAAtB,EAAgC;AAC5B,kCAAA,MAAM,CAAC,OAAP,GAAiB;AACb,oCAAA,IAAI,EAAE,QADO;AAEb,oCAAA,SAAS,EAAE,MAFE;AAGb,oCAAA,UAAU,EAAE;AAHC,mCAAjB;AAKH;AACJ;AACJ;;AACD,gCAAM,QAAQ,GAAG;AACb,8BAAA,IAAI,EAAE,CAAC,CAAC,IADK;AAEb,8BAAA,IAAI,EAAE,OAFO;AAGb,8BAAA,IAAI,EAAJ;AAHa,6BAAjB;AAKA,4BAAA,KAAK,CAAC,IAAN,CAAW,QAAX;AACH;AACJ,yBA9ID,CA8IE,OAAO,CAAP,EAAU;AACR,0BAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACH;AACJ,uBAlJD;AAmJH;AACJ;;AAhrBqC;AAAA,yBAirBhC,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,UAAnB,CAjrBgC;;AAAA;AAAA;AAAA,yBAkrBhC,KAAI,CAAC,MAAL,CAAY,oBAAZ,CAAiC,WAAjC,EAA8C,KAA9C,CAlrBgC;;AAAA;AAmrBtC,kBAAA,EAAE,CAAC,aAAH,CAAiB,IAAjB,CACI,qJADJ;;AAGA,kBAAA,KAAI,CAAC,KAAL;;AAtrBsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA1C;;AAAA;AAAA;AAAA;AAAA;AAwrBH;;;wBAxsB2B;AACxB,UAAM,OAAO,qGAAb;AACA,MAAA,OAAO,CAAC,EAAR,GAAa,gBAAb;AACA,MAAA,OAAO,CAAC,OAAR,GAAkB,CAAC,aAAD,CAAlB;AACA,MAAA,OAAO,CAAC,KAAR,GAAgB,yBAAhB;AACA,MAAA,OAAO,CAAC,QAAR,GAAmB,qDAAnB;AACA,MAAA,OAAO,CAAC,KAAR,GAAgB,GAAhB;AACA,MAAA,OAAO,CAAC,MAAR,GAAiB,MAAjB;AACA,aAAO,OAAP;AACH;;;EAVkC,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAvC;;;IAGa,qB;;;;;;;;;;;;8BAeC;AACN;AACA,UAAM,MAAM,GAAG,IAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,UAAC,GAAD,EAAM,IAAN,EAAe;AAC5C,YAAI,CAAC,IAAI,CAAC,IAAN,IAAc,IAAI,CAAC,SAAvB,EAAkC;AAC9B,UAAA,GAAG,CAAC,IAAJ,CAAS,IAAI,CAAC,SAAL,CAAe,IAAxB;AACH;;AACD,eAAO,GAAP;AACH,OALc,EAKZ,EALY,CAAf;AAOA,aAAO;AACH,QAAA,MAAM,EAAN;AADG,OAAP;AAGH;;;sCAEiB,I,EAAM;AACpB,MAAA,IAAI,CAAC,IAAL,CAAU,wBAAV,EAAoC,EAApC,CAAuC,OAAvC,EAAgD,KAAK,oBAAL,CAA0B,IAA1B,CAA+B,IAA/B,CAAhD;AACA,MAAA,IAAI,CAAC,IAAL,CAAU,sBAAV,EAAkC,EAAlC,CAAqC,OAArC,EAA8C,KAAK,kBAAL,CAAwB,IAAxB,CAA6B,IAA7B,CAA9C;AACA,MAAA,IAAI,CAAC,IAAL,CAAU,wBAAV,EAAoC,EAApC,CAAuC,QAAvC,EAAiD,KAAK,kBAAL,CAAwB,IAAxB,CAA6B,IAA7B,CAAjD;AACA,MAAA,IAAI,CAAC,IAAL,CAAU,kCAAV,EAA8C,EAA9C,CACI,OADJ,EAEI,KAAK,iBAAL,CAAuB,IAAvB,CAA4B,IAA5B,CAFJ;AAIH,K,CAED;;;;uCACmB,K,EAAO;AACtB,UAAM,EAAE,GAAG,KAAK,CAAC,aAAN,CAAoB,OAApB,CAA4B,OAA5B,EAAqC,OAArC,CAA6C,OAAxD;AACA,UAAI,EAAJ,EAAQ,OAAO,IAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,UAAC,CAAD;AAAA,eAAO,CAAC,CAAC,GAAF,KAAU,EAAjB;AAAA,OAAjB,CAAP;AACX;;;uCAEkB,K,EAAO;AAAA;;AACtB,UAAM,KAAK,GAAG,KAAK,kBAAL,CAAwB,KAAxB,CAAd;;AACA,UAAM,MAAM,GAAG,KAAK,CAAC,aAAN,CAAoB,KAAnC;;AACA,UAAI,MAAM,IAAI,KAAd,EAAqB;AACjB,QAAA,KAAK,CAAC,iBAAN,CAAwB,MAAxB,EAAgC,IAAhC,CAAqC;AAAA,iBAAM,KAAI,CAAC,MAAL,EAAN;AAAA,SAArC;AACH;AACJ;;;uCAEkB,K,EAAO;AAAA;;AACtB,UAAM,KAAK,GAAG,KAAK,kBAAL,CAAwB,KAAxB,CAAd;;AACA,UAAM,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,aAAN,CAAoB,OAApB,CAA4B,MAA7B,CAAvB;;AACA,UAAI,MAAM,IAAI,KAAd,EAAqB;AACjB,YAAM,EAAE,GAAG,KAAK,CAAC,iBAAN,EAAX;AACA,QAAA,KAAK,CAAC,iBAAN,CAAwB,EAAE,GAAG,MAA7B,EAAqC,IAArC,CAA0C;AAAA,iBAAM,MAAI,CAAC,MAAL,EAAN;AAAA,SAA1C;AACH;AACJ;;;yCAEoB,K,EAAO;AAAA;;AACxB,MAAA,KAAK,CAAC,cAAN;;AACA,UAAM,KAAK,GAAG,KAAK,kBAAL,CAAwB,KAAxB,CAAd;;AACA,UAAI,KAAJ,EAAW;AACP,QAAA,KAAK,CAAC,iBAAN,CAAwB,CAAxB,EAA2B,IAA3B,CAAgC;AAAA,iBAAM,MAAI,CAAC,MAAL,EAAN;AAAA,SAAhC;AACH;AACJ;;;sCAEiB,K,EAAO;AAAA;;AACrB,MAAA,KAAK,CAAC,cAAN;;AACA,UAAM,KAAK,GAAG,KAAK,kBAAL,CAAwB,KAAxB,CAAd;;AACA,UAAI,KAAJ,EAAW;AACP;AACA,YAAM,IAAI,GAAG,IAAI,IAAJ,CAAS,qBAAqB,CAAC,wBAA/B,CAAb;AACA,QAAA,IAAI,CAAC,IAAL,GAHO,CAKP;AACA;AACA;;AAEA,YAAI,IAAI,CAAC,KAAT,EAAgB;AACZ,cAAM,EAAE,GAAG,KAAK,CAAC,iBAAN,EAAX;AACA,UAAA,KAAK,CAAC,iBAAN,CAAwB,EAAE,GAAG,IAAI,CAAC,KAAlC,EAAyC,IAAzC,CAA8C;AAAA,mBAAM,MAAI,CAAC,MAAL,EAAN;AAAA,WAA9C;AACH;AACJ;AACJ;;;wBArF2B;AACxB,UAAM,OAAO,yGAAb;AACA,MAAA,OAAO,CAAC,EAAR,GAAa,yBAAb;AACA,MAAA,OAAO,CAAC,OAAR,GAAkB,CAAC,KAAD,CAAlB;AACA,MAAA,OAAO,CAAC,KAAR,GAAgB,IAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,gCAAnB,CAAhB;AACA,MAAA,OAAO,CAAC,QAAR,GACI,8EADJ;AAEA,MAAA,OAAO,CAAC,KAAR,GAAgB,GAAhB;AACA,MAAA,OAAO,CAAC,MAAR,GAAiB,MAAjB;AACA,MAAA,OAAO,CAAC,SAAR,GAAoB,IAApB;AACA,aAAO,OAAP;AACH;;;EAbsC,W;;;iCAA9B,qB,8BACyB,K;;;;;;ACJtC,mEAAgE;AAGhE,MAAa,sBAAuB,SAAQ,6CAAqB;IAM7D,YAAY,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO;QACzC,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QAC/B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;IAPD,aAAa;QACT,OAAO,yBAAyB,IAAI,CAAC,QAAQ,UAAU,IAAI,CAAC,OAAO,EAAE,CAAC;IAC1E,CAAC;CAMJ;AAVD,wDAUC;;;;;ACbD,mDAAgD;AAEhD,MAAa,qBAAsB,SAAQ,6BAAa;IACpD,aAAa;QACT,OAAO,8BAA8B,IAAI,CAAC,OAAO,EAAE,CAAC;IACxD,CAAC;IAED,OAAO;QACH,OAAO,WAAW,CAAC,KAAK,CAAC,OAAO,EAAE,EAAE;YAChC,aAAa,EAAE,IAAI;SACtB,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB;IAChB,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,UAAU;QACvC,KAAK,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;QACnD,MAAM,IAAI,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC;QACnC,MAAM,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE,CAAC;QAC3D,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,mCACzB,WAAW,KACd,IAAI,GACP,CAAC;IACN,CAAC;CACJ;AArBD,sDAqBC;;;;;;;;;;;;;;ACrBD,MAAa,aAAc,SAAQ,eAAe;IAG9C,YAAY,KAAK,EAAE,OAAO,EAAE,OAAO;QAC/B,KAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACtB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC3B,CAAC;IAED,aAAa;QACT,OAAO,sBAAsB,IAAI,CAAC,OAAO,EAAE,CAAC;IAChD,CAAC;IAED,MAAM,KAAK,cAAc;QACrB,MAAM,OAAO,GAAG,KAAK,CAAC,cAAc,CAAC;QACrC,OAAO,WAAW,CAAC,OAAO,EAAE;YACxB,EAAE,EAAE,cAAc;YAClB,OAAO,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,mBAAmB,CAAC;YAC9C,QAAQ,EAAE,yDAAyD;YACnE,KAAK,EAAE,GAAG;YACV,aAAa,EAAE,IAAI;YACnB,cAAc,EAAE,IAAI;YACpB,aAAa,EAAE,KAAK;YACpB,SAAS,EAAE,IAAI;SAClB,CAAC,CAAC;IACP,CAAC;IAED,IAAI,KAAK;QACL,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;QACjC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,MAAM,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,EAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;IAC3G,CAAC;IAED,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,UAAU;QACvC,iBAAiB;QACjB,MAAM,IAAI,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC;QAEnC,0BAA0B;QAC1B,MAAM,UAAU,GAAG,oBAAoB,CAAC;QACxC,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,CAAgB,EAAE,EAAE;YACjF,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YACpC,IAAI,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE;gBACnB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACrB;YACD,OAAO,OAAO,CAAC;QACnB,CAAC,EAAE,EAAW,CAAC,CAAC;QAEhB,kBAAkB;QAClB,MAAM,aAAa,GAAG,wBAAwB,CAAC;QAC/C,MAAM,eAAe,GAAG,0BAA0B,CAAC;QACnD,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,KAAK,CAAgB,EAAE,EAAE;YACnF,MAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAC1C,MAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;YAC5C,IAAI,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;gBACxC,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,SAAS;oBAAE,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;gBACtD,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,KAAK,CAAC;aAC9B;iBAAM,IAAI,QAAQ,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;gBAC/C,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,SAAS;oBAAE,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;gBACtD,OAAO,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;aAChC;YAED,OAAO,OAAO,CAAC;QACnB,CAAC,EAAE,EAAW,CAAC,CAAC;QAEhB,MAAM,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE,CAAC;QAC3D,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,mCACzB,WAAW,KACd,IAAI;YACJ,KAAK;YACL,KAAK,GACR,CAAC;IACN,CAAC;IAED,gBAAgB;IACV,aAAa,CAAC,KAAK,EAAE,QAAQ;;YAC/B,MAAM,UAAU,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;YAClD,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACzC,CAAC;KAAA;IAED,iBAAiB,CAAC,IAAI;QAClB,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACnE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5E,CAAC;IAEK,YAAY,CAAC,KAAK;;YACpB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,UAAU,GAAG,EAAE,CAAC;YACtB,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;YACjC,IAAI,CAAC,IAAI;gBAAE,OAAO;YAClB,MAAM,EAAE,KAAK,GAAG,EAAE,EAAE,GAAG,IAAI,CAAC;YAC5B,+BAA+B;YAC/B,UAAU,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;YAChF,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACzC,CAAC;KAAA;IAEK,YAAY,CAAC,KAAK;;YACpB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,UAAU,GAAG,EAAE,CAAC;YACtB,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;YACjC,IAAI,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,EAAE;gBACb,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;gBACvB,MAAM,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC/C,IAAI,KAAK,IAAI,CAAC,EAAE;oBACZ,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBACvB,UAAU,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,GAAG,KAAK,CAAC;oBACpD,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;iBACxC;aACJ;QACL,CAAC;KAAA;IAEK,WAAW,CAAC,KAAK;;YACnB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,UAAU,GAAG,EAAE,CAAC;YACtB,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;YACjC,IAAI,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,EAAE;gBACb,4BAA4B;gBAC5B,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;gBACvB,UAAU,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC,CAAC;aAChE;YACD,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACzC,CAAC;KAAA;IAEK,WAAW,CAAC,KAAK;;YACnB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,UAAU,GAAG,EAAE,CAAC;YACtB,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;YACjC,IAAI,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,EAAE;gBACb,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;gBACvB,MAAM,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC/C,IAAI,KAAK,IAAI,CAAC,EAAE;oBACZ,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBACvB,UAAU,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,GAAG,KAAK,CAAC;oBACpD,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;iBACxC;aACJ;QACL,CAAC;KAAA;IAED,OAAO;QACH,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;QAC7B,MAAM,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACrE,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ;AApJD,sCAoJC;;;;;ACtJD;;;;;;;;GAQG;AACH,2CAA0C;AAE7B,QAAA,eAAe,GAAG,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,UAAU,GAAG,IAAI,EAAE,GAAG,EAAE;IACvE,IAAI,CAAC,UAAU,EACX,EAAG,0CAA0C;QACzC,aAAa;QACb,OAAO,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE;YACjD,UAAU;SACb,CAAC,CAAC;KACd;IACL,MAAM,EAAE,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;IAClC,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAC5B,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IAC5C,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IAE5C,gDAAgD;IAChD,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACnC,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IAEpC,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,uBAAW,EAAE,kBAAkB,CAAC,CAAC;IAExE,IAAI,YAAY,KAAK,OAAO,EAAE;QAC1B,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QACvC,MAAM,MAAM,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,SAAS,CAAC;QACzD,OAAO,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC;KAC9C;IACD,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC;AACpE,CAAC,CAAC;;;;;;;;;;;;;;ACpCF,2CAA0C;AAE7B,QAAA,eAAe,GAAG,UAAgB,MAAM,EAAE,OAAO,EAAE,OAAO;;QACnE,qCAAqC;QACrC,IAAI,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,EAAE;YAC/D,IAAI,WAAW,GAAG,IAAI,CAAC;YACvB,KAAK,MAAM,CAAC,IAAI,MAAM,CAAC,UAAU,EAAE;gBAC/B,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;gBAChC,IAAI,IAAI,EAAE,CAAC;gBACX,IAAI,IAAI,GAAG,CAAC;oBAAE,WAAW,GAAG,KAAK,CAAC;aACrC;YACD,IAAI,CAAC,WAAW,EAAE;gBACd,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;aAChC;YACD,uCAAuC;YACvC,uEAAuE;YACvE,qCAAqC;YACrC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBAChB,MAAM,6BAAqB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aACjD;iBAAM;gBACH,aAAa;gBACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,EAAE;oBACnC,cAAc,EAAE;wBACZ,OAAO;wBACP,OAAO;qBACV;iBACJ,CAAC,CAAC;aACN;SACJ;IACL,CAAC;CAAA,CAAC;AAEW,QAAA,qBAAqB,GAAG,CAAO,OAAO,EAAE,OAAO,EAAE,EAAE;IAC5D,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC;IACxB,6EAA6E;IAC7E,MAAM,iBAAiB,GAAG,MAAM,CAAC,OAAO,CAAC,uBAAW,EAAE,mBAAmB,CAAC,IAAI,EAAE,CAAC;IACjF,MAAM,UAAU,GAAG,EAAE,CAAC;IACtB,KAAK,MAAM,CAAC,IAAI,MAAM,CAAC,UAAU,EAAE;QAC/B,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;QAChC,IAAI,IAAI,EAAE,CAAC;QACX,IAAI,IAAI,IAAI,CAAC;YAAE,iBAAiB,CAAC,IAAI,mBAAM,CAAC,EAAG,CAAC;aAC3C;YACD,aAAa;YACb,UAAU,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;SACrD;KACJ;IACD,MAAM,MAAM,CAAC,oBAAoB,CAC7B,WAAW,EACX,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EACnC,EAAE,CACL,CAAC;IACF,MAAM,MAAM,CAAC,oBAAoB,CAAC,WAAW,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;IAC/D,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;QACzB,MAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,MAAM,cAAc,GAAG,OAAO,CAAC,cAAc,IAAI,EAAE,CAAC;QAEpD,KAAK,MAAM,CAAC,IAAI,iBAAiB,EAAE;YAC/B,MAAM,SAAS,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YAC9C,aAAa;YACb,MAAM,OAAO,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;YAEhD,MAAM,IAAI,GAAS,IAAI,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;YACvD,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC;YAE1B,MAAM,QAAQ,GAAG,cAAc,CAAC,QAAQ,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC;YAC3F,MAAM,WAAW,GAAG,WAAW,CAC3B;gBACI,OAAO,EAAE;oBACL,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,GAAG;oBACvB,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI;oBACnC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG;oBAClB,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI;iBACtB;gBACD,MAAM,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,wBAAwB;aAClD,EACD,cAAc,CACjB,CAAC;YACF,MAAM,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;gBAC9B,QAAQ;aACX,CAAC,CAAC;SACN;QACD,MAAM,MAAM,CAAC,oBAAoB,CAAC,WAAW,EAAE,iBAAiB,EAAE,EAAE,CAAC,CAAC;QACtE,MAAM,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACnC,MAAM,MAAM,CAAC,SAAS,CAAC,uBAAW,EAAE,mBAAmB,CAAC,CAAC;QACzD,aAAa;QACb,MAAM,MAAM,CAAC,QAAQ,EAAE,CAAC;QACxB,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;QACvB,MAAM,MAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;KACpC;SAAM,IAAI,iBAAiB,CAAC,MAAM,EAAE;QACjC,MAAM,MAAM,CAAC,OAAO,CAAC,uBAAW,EAAE,mBAAmB,EAAE,iBAAiB,CAAC,CAAC;QAC1E,MAAM,MAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;KACpC;AACL,CAAC,CAAA,CAAC;;;;;AC3FW,QAAA,GAAG,GAAG,EAAE,CAAC;AAEtB,WAAG,CAAC,YAAY,CAAC,GAAG;IAChB,IAAI,EAAE,cAAc;IACpB,OAAO,EAAE,iBAAiB;IAC1B,QAAQ,EAAE,kBAAkB;IAC5B,QAAQ,EAAE,kBAAkB;IAC5B,SAAS,EAAE,mBAAmB;IAC9B,KAAK,EAAE,eAAe;IACtB,SAAS,EAAE,mBAAmB;IAC9B,QAAQ,EAAE,kBAAkB;IAC5B,KAAK,EAAE,eAAe;IACtB,SAAS,EAAE,mBAAmB;IAC9B,IAAI,EAAE,cAAc;IACpB,OAAO,EAAE,iBAAiB;IAC1B,MAAM,EAAE,sBAAsB;IAC9B,MAAM,EAAE,sBAAsB;IAC9B,eAAe,EAAE,wBAAwB;IACzC,QAAQ,EAAE,wBAAwB;CACrC,CAAC;AAEF,WAAG,CAAC,QAAQ,CAAC,GAAG;IACZ,QAAQ,EAAE,mBAAmB;IAC7B,MAAM,EAAE,iBAAiB;IACzB,MAAM,EAAE,iBAAiB;IACzB,MAAM,EAAE,sBAAsB;IAC9B,MAAM,EAAE,sBAAsB;IAC9B,eAAe,EAAE,wBAAwB;IACzC,QAAQ,EAAE,wBAAwB;CACrC,CAAC;AAEF,WAAG,CAAC,cAAc,CAAC,GAAG;IAClB,OAAO,EAAE,aAAa;IACtB,KAAK,EAAE,cAAc;IACrB,SAAS,EAAE,aAAa;CAC3B,CAAC;AAEF,WAAG,CAAC,aAAa,CAAC,GAAG;IACjB,QAAQ,EAAE,qBAAqB;IAC/B,IAAI,EAAE,iBAAiB;IACvB,MAAM,EAAE,mBAAmB;CAC9B,CAAC;AAEF,WAAG,CAAC,cAAc,CAAC,GAAG;IAClB,IAAI,EAAE,iBAAiB;IACvB,IAAI,EAAE,iBAAiB;IACvB,IAAI,EAAE,iBAAiB;IACvB,WAAW,EAAE,wBAAwB;IACrC,SAAS,EAAE,sBAAsB;CACpC,CAAC;AAEF,WAAG,CAAC,iBAAiB,CAAC,GAAG;IACrB,MAAM,EAAE,oBAAoB;IAC5B,SAAS,EAAE,uBAAuB;IAClC,MAAM,EAAE,oBAAoB;IAC5B,QAAQ,EAAE,sBAAsB;IAChC,YAAY,EAAE,0BAA0B;CAC3C,CAAC;AAEF,WAAG,CAAC,YAAY,CAAC,GAAG;IAChB,QAAQ,EAAE,uBAAuB;IACjC,IAAI,EAAE,mBAAmB;CAC5B,CAAC;AAEF,WAAG,CAAC,aAAa,CAAC,GAAG;IACjB,KAAK,EAAE,qBAAqB;IAC5B,GAAG,EAAE,mBAAmB;IACxB,KAAK,EAAE,oBAAoB;CAC9B,CAAC;AAEF,WAAG,CAAC,kBAAkB,CAAC,GAAG;IACtB,MAAM,EAAE,uBAAuB;IAC/B,QAAQ,EAAE,yBAAyB;CACtC,CAAC;AAEF,WAAG,CAAC,qBAAqB,CAAC,GAAG;IACzB,WAAW,EAAE,+BAA+B;IAC5C,OAAO,EAAE,2BAA2B;IACpC,IAAI,EAAE,wBAAwB;CACjC,CAAC;AAEF,WAAG,CAAC,oBAAoB,CAAC,GAAG;IACxB,OAAO,EAAE,0BAA0B;IACnC,SAAS,EAAE,4BAA4B;CAC1C,CAAC;AAEF,WAAG,CAAC,qBAAqB,CAAC,GAAG;IACzB,cAAc,EAAE,8BAA8B;IAC9C,aAAa,EAAE,6BAA6B;CAC/C,CAAC;AAEF,WAAG,CAAC,gBAAgB,CAAC,GAAG;IACpB,SAAS,EAAE,mBAAmB;IAC9B,UAAU,EAAE,mBAAmB;IAC/B,gBAAgB,EAAE,yBAAyB;IAC3C,MAAM,EAAE,gBAAgB;CAC3B,CAAC;AAEF,WAAG,CAAC,eAAe,CAAC,GAAG;IACnB,OAAO,EAAE,mBAAmB;IAC5B,MAAM,EAAE,kBAAkB;IAC1B,IAAI,EAAE,gBAAgB;IACtB,IAAI,EAAE,gBAAgB;IACtB,MAAM,EAAE,kBAAkB;IAC1B,KAAK,EAAE,iBAAiB;CAC3B,CAAC;AAEF,WAAG,CAAC,WAAW,CAAC,GAAG;IACf,OAAO,EAAE,qBAAqB;IAC9B,SAAS,EAAE,uBAAuB;IAClC,SAAS,EAAE,uBAAuB;CACrC,CAAC;AAEF,WAAG,CAAC,kBAAkB,CAAC,GAAG;IACtB,KAAK,EAAE,oBAAoB;IAC3B,KAAK,EAAE,oBAAoB;IAC3B,MAAM,EAAE,qBAAqB;CAChC,CAAC;AAEF,WAAG,CAAC,cAAc,CAAC,GAAG;IAClB,KAAK,EAAE,sBAAsB;IAC7B,MAAM,EAAE,uBAAuB;IAC/B,IAAI,EAAE,qBAAqB;IAC3B,OAAO,EAAE,wBAAwB;CACpC,CAAC;AAEF,WAAG,CAAC,cAAc,CAAC,GAAG;IAClB,QAAQ,EAAE,yBAAyB;IACnC,QAAQ,EAAE,yBAAyB;CACtC,CAAC;AAEF,WAAG,CAAC,kBAAkB,CAAC,GAAG;IACtB,QAAQ,EAAE,uBAAuB;IACjC,SAAS,EAAE,wBAAwB;CACtC,CAAC;AAEF,WAAG,CAAC,iBAAiB,CAAC,GAAG;IACrB,QAAQ,EAAE,4BAA4B;IACtC,KAAK,EAAE,yBAAyB;IAChC,IAAI,EAAE,wBAAwB;IAC9B,KAAK,EAAE,yBAAyB;IAChC,IAAI,EAAE,wBAAwB;CACjC,CAAC;AAEF,WAAG,CAAC,0BAA0B,CAAC,GAAG;IAC9B,MAAM,EAAE,0BAA0B;IAClC,QAAQ,EAAE,4BAA4B;IACtC,YAAY,EAAE,gCAAgC;IAC9C,SAAS,EAAE,6BAA6B;CAC3C,CAAC;AAEF,WAAG,CAAC,cAAc,CAAC,GAAG;IAClB,OAAO,EAAE,kBAAkB;IAC3B,UAAU,EAAE,qBAAqB;IACjC,MAAM,EAAE,iBAAiB;IACzB,KAAK,EAAE,gBAAgB;IACvB,YAAY,EAAE,sBAAsB;IACpC,YAAY,EAAE,sBAAsB;IACpC,aAAa,EAAE,uBAAuB;IACtC,QAAQ,EAAE,mBAAmB;IAC7B,OAAO,EAAE,kBAAkB;IAC3B,gBAAgB,EAAE,0BAA0B;IAC5C,cAAc,EAAE,wBAAwB;IACxC,QAAQ,EAAE,mBAAmB;IAC7B,MAAM,EAAE,iBAAiB;IACzB,aAAa,EAAE,uBAAuB;IACtC,SAAS,EAAE,mBAAmB;IAC9B,UAAU,EAAE,qBAAqB;IACjC,OAAO,EAAE,kBAAkB;IAC3B,UAAU,EAAE,qBAAqB;IACjC,OAAO,EAAE,kBAAkB;IAC3B,QAAQ,EAAE,mBAAmB;IAC7B,QAAQ,EAAE,mBAAmB;IAC7B,QAAQ,EAAE,mBAAmB;IAC7B,QAAQ,EAAE,mBAAmB;IAC7B,GAAG,EAAE,cAAc;IACnB,SAAS,EAAE,oBAAoB;IAC/B,aAAa,EAAE,wBAAwB;IACvC,WAAW,EAAE,sBAAsB;IACnC,YAAY,EAAE,uBAAuB;IACrC,UAAU,EAAE,qBAAqB;IACjC,WAAW,EAAE,sBAAsB;IACnC,WAAW,EAAE,sBAAsB;IACnC,OAAO,EAAE,kBAAkB;IAC3B,MAAM,EAAE,iBAAiB;IACzB,UAAU,EAAE,qBAAqB;IACjC,SAAS,EAAE,oBAAoB;IAC/B,aAAa,EAAE,uBAAuB;IACtC,SAAS,EAAE,oBAAoB;IAC/B,OAAO,EAAE,kBAAkB;IAC3B,eAAe,EAAE,0BAA0B;IAC3C,aAAa,EAAE,wBAAwB;IACvC,mBAAmB,EAAE,6BAA6B;IAClD,YAAY,EAAE,uBAAuB;IACrC,SAAS,EAAE,oBAAoB;IAC/B,SAAS,EAAE,oBAAoB;IAC/B,WAAW,EAAE,sBAAsB;IACnC,WAAW,EAAE,sBAAsB;IACnC,oBAAoB,EAAE,8BAA8B;IACpD,mBAAmB,EAAE,6BAA6B;IAClD,mBAAmB,EAAE,6BAA6B;IAClD,iBAAiB,EAAE,2BAA2B;IAC9C,eAAe,EAAE,yBAAyB;IAC1C,OAAO,EAAE,kBAAkB;IAC3B,OAAO,EAAE,kBAAkB;IAC3B,aAAa,EAAE,wBAAwB;IACvC,SAAS,EAAE,oBAAoB;IAC/B,QAAQ,EAAE,mBAAmB;IAC7B,WAAW,EAAE,sBAAsB;IACnC,eAAe,EAAE,0BAA0B;IAC3C,WAAW,EAAE,sBAAsB;IACnC,kBAAkB,EAAE,4BAA4B;IAChD,SAAS,EAAE,mBAAmB;IAC9B,OAAO,EAAE,kBAAkB;IAC3B,OAAO,EAAE,kBAAkB;IAC3B,QAAQ,EAAE,mBAAmB;IAC7B,SAAS,EAAE,oBAAoB;IAC/B,QAAQ,EAAE,mBAAmB;IAC7B,UAAU,EAAE,qBAAqB;IACjC,QAAQ,EAAE,mBAAmB;IAC7B,OAAO,EAAE,kBAAkB;IAC3B,eAAe,EAAE,yBAAyB;IAC1C,cAAc,EAAE,wBAAwB;IACxC,YAAY,EAAE,sBAAsB;IACpC,kBAAkB,EAAE,2BAA2B;IAC/C,iBAAiB,EAAE,0BAA0B;IAC7C,oBAAoB,EAAE,6BAA6B;CACtD,CAAC;AAEF,WAAG,CAAC,aAAa,CAAC,GAAG;IACjB,IAAI,EAAE,oBAAoB;IAC1B,IAAI,EAAE,oBAAoB;IAC1B,MAAM,EAAE,sBAAsB;IAC9B,OAAO,EAAE,uBAAuB;IAChC,MAAM,EAAE,sBAAsB;CACjC,CAAC;AAEF,WAAG,CAAC,kBAAkB,CAAC,GAAG;IACtB,MAAM,EAAE,sBAAsB;IAC9B,MAAM,EAAE,sBAAsB;IAC9B,eAAe,EAAE,wBAAwB;IACzC,QAAQ,EAAE,wBAAwB;CACrC,CAAC;AAEF,WAAG,CAAC,sBAAsB,CAAC,GAAG;IAC1B,SAAS,EAAE,sBAAsB;IACjC,MAAM,EAAE,mBAAmB;IAC3B,MAAM,EAAE,mBAAmB;CAC9B,CAAC;AAEF,WAAG,CAAC,mBAAmB,CAAC,GAAG;IACvB,MAAM,EAAE,YAAY;IACpB,KAAK,EAAE,WAAW;CACrB,CAAC;AAEF,WAAG,CAAC,aAAa,CAAC,GAAG;IACjB,MAAM,EAAE,YAAY;IACpB,KAAK,EAAE,WAAW;IAClB,GAAG,EAAE,SAAS;IACd,IAAI,EAAE,UAAU;IAChB,QAAQ,EAAE,cAAc;CAC3B,CAAC;AAEF,WAAG,CAAC,gBAAgB,CAAC,GAAG;IACpB,MAAM,EAAE,qBAAqB;IAC7B,QAAQ,EAAE,uBAAuB;IACjC,GAAG,EAAE,kBAAkB;IACvB,MAAM,EAAE,qBAAqB;IAC7B,IAAI,EAAE,mBAAmB;IACzB,MAAM,EAAE,qBAAqB;IAC7B,KAAK,EAAE,oBAAoB;CAC9B,CAAC;AAEF,WAAG,CAAC,OAAO,CAAC,GAAG;IACX,QAAQ,EAAE,UAAU;IACpB,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,SAAS;CAClB,CAAC;AAEF,WAAG,CAAC,gBAAgB,CAAC,GAAG;IACpB,IAAI,EAAE,cAAc;IACpB,KAAK,EAAE,WAAW;IAClB,KAAK,EAAE,WAAW;IAClB,cAAc,EAAE,mBAAmB;IACnC,YAAY,EAAE,iBAAiB;IAC/B,YAAY,EAAE,iBAAiB;IAC/B,UAAU,EAAE,eAAe;IAC3B,cAAc,EAAE,mBAAmB;IACnC,eAAe,EAAE,mBAAmB;IACpC,oBAAoB,EAAE,mBAAmB;IACzC,iBAAiB,EAAE,gBAAgB;IACnC,sBAAsB,EAAE,gBAAgB;IACxC,iBAAiB,EAAE,gBAAgB;IACnC,sBAAsB,EAAE,gBAAgB;IACxC,SAAS,EAAE,mBAAmB;IAC9B,UAAU,EAAE,mBAAmB;IAC/B,gBAAgB,EAAE,yBAAyB;IAC3C,MAAM,EAAE,gBAAgB;IACxB,IAAI,EAAE,UAAU;IAChB,GAAG,EAAE,SAAS;IACd,OAAO,EAAE,iBAAiB;IAC1B,eAAe,EAAE,oBAAoB;IACrC,OAAO,EAAE,iBAAiB;IAC1B,IAAI,EAAE,cAAc;IACpB,MAAM,EAAE,YAAY;CACvB,CAAC;AAEF,WAAG,CAAC,cAAc,CAAC,GAAG;IAClB,cAAc,EAAE,mBAAmB;IACnC,eAAe,EAAE,oBAAoB;IACrC,KAAK,EAAE,WAAW;CACrB,CAAC;;;;;ACvTW,QAAA,WAAW,GAAG,aAAa,CAAC;;;;;;;;;;;;;;ACAzC,uCAAoC;AAEvB,QAAA,0BAA0B,GAAG,GAAS,EAAE;IACjD,MAAM,aAAa,GAAG;QAClB,qEAAqE;QACrE,qEAAqE;QACrE,kEAAkE;QAClE,kEAAkE;QAClE,mEAAmE;QACnE,kEAAkE;QAClE,+DAA+D;QAC/D,kEAAkE;QAClE,gEAAgE;QAChE,+DAA+D;QAC/D,2DAA2D;QAC3D,qEAAqE;QACrE,qEAAqE;QACrE,2DAA2D;QAC3D,2DAA2D;QAC3D,4DAA4D;QAC5D,0DAA0D;QAC1D,iEAAiE;QACjE,2DAA2D;QAC3D,0DAA0D;QAC1D,2DAA2D;QAC3D,wDAAwD;QACxD,4DAA4D;QAC5D,8DAA8D;QAC9D,yDAAyD;QACzD,iEAAiE;QACjE,4DAA4D;QAC5D,sEAAsE;KACzE,CAAC;IAEF,OAAO,aAAa,CAAC,aAAa,CAAC,CAAC;AACxC,CAAC,CAAA,CAAC;AAEW,QAAA,wBAAwB,GAAG,GAAG,EAAE;IACzC,UAAU,CAAC,cAAc,CAAC,YAAY,EAAE,UAAU,KAAK,EAAE,GAAG;QACxD,IAAI,GAAG;YAAE,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC,CAAC,CAAC;IAEH,UAAU,CAAC,cAAc,CAAC,cAAc,EAAE,UAAU,GAAG;QACnD,IAAI,GAAG;YAAE,OAAO,iBAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACnC,OAAO,EAAE,CAAC;IACd,CAAC,CAAC,CAAC;IAEH,UAAU,CAAC,cAAc,CAAC,QAAQ,EAAE,UAAU,IAAI,EAAE,CAAC,GAAG,GAAG;QACvD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACrB,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SACvB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC,CAAC,CAAC;IACH,UAAU,CAAC,cAAc,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE,IAAI,EAAE,OAAO;QAC7D,IAAI,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;YAC1B,OAAO,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;SAC3B;;YAAM,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IACH,UAAU,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE,OAAO;QACzD,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC;YAAE,OAAO,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;;YAC1C,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IACH,kBAAkB;IAClB,UAAU,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,OAAO;QACvD,IAAI,EAAE,GAAG,EAAE;YAAE,OAAO,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;;YAChC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IACH,eAAe;IACf,UAAU,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,OAAO;QACvD,IAAI,EAAE,KAAK,EAAE;YAAE,OAAO,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;;YAClC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IACH,WAAW;IACX,UAAU,CAAC,cAAc,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE,EAAE,EAAE,OAAO;QACtD,IAAI,EAAE,KAAK,EAAE;YAAE,OAAO,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;;YAClC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IACH,UAAU,CAAC,cAAc,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE,EAAE;QAC7C,OAAO,EAAE,GAAG,EAAE,CAAC;IACnB,CAAC,CAAC,CAAC;IACH,UAAU,CAAC,cAAc,CAAC,oBAAoB,EAAE,UAAU,MAAM;QAC5D,IAAI,MAAM,KAAK,UAAU;YAAE,OAAO,GAAG,CAAC;QACtC,IAAI,MAAM,KAAK,MAAM;YAAE,OAAO,GAAG,CAAC;QAClC,IAAI,MAAM,KAAK,QAAQ;YAAE,OAAO,GAAG,CAAC;QACpC,OAAO,EAAE,CAAC;IACd,CAAC,CAAC,CAAC;IACH,UAAU,CAAC,cAAc,CAAC,UAAU,EAAE,UAAU,IAAI;QAChD,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,QAAQ,IAAI,CAAC,IAAI,EAAE;gBACf,KAAK,CAAC;oBACF,OAAO,KAAK,CAAC;gBACjB,KAAK,CAAC;oBACF,OAAO,MAAM,CAAC;gBAClB,KAAK,CAAC;oBACF,OAAO,MAAM,CAAC;gBAClB,KAAK,CAAC;oBACF,OAAO,MAAM,CAAC;gBAClB,KAAK,CAAC;oBACF,OAAO,OAAO,CAAC;gBACnB,KAAK,CAAC;oBACF,OAAO,OAAO,CAAC;aACtB;SACJ;IACL,CAAC,CAAC,CAAC;IAEH,UAAU,CAAC,cAAc,CAAC,aAAa,EAAE,UAAU,OAAO;QACtD,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,OAAO,KAAK,aAAa,EAAE;YAC3B,IAAI,GAAG,aAAa,CAAC;SACxB;aAAM,IAAI,OAAO,KAAK,WAAW,EAAE;YAChC,IAAI,GAAG,sBAAsB,CAAC;SACjC;aAAM,IAAI,OAAO,KAAK,MAAM,EAAE;YAC3B,IAAI,GAAG,aAAa,CAAC;SACxB;aAAM,IAAI,OAAO,KAAK,MAAM,EAAE;YAC3B,IAAI,GAAG,cAAc,CAAC;SACzB;aAAM,IAAI,OAAO,KAAK,MAAM,EAAE;YAC3B,IAAI,GAAG,kBAAkB,CAAC;SAC7B;QACD,OAAO,IAAI,CAAC;IAChB,CAAC,CAAC,CAAC;IAEH,UAAU,CAAC,cAAc,CAAC,WAAW,EAAE,UAAU,KAAK;QAClD,OAAO,KAAK,KAAK,SAAS,CAAC;IAC/B,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;;;;;AC1HF,MAAa,OAAO;IAChB,MAAM,CAAC,SAAS,CAAC,IAAI;QACjB,MAAM,OAAO,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC;QAC1C,IAAI,CAAC,IAAI;YAAE,OAAO,CAAC,CAAC;QACpB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;YAAE,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;QACxD,8BAA8B;QAC9B,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAClD,CAAC;IAED,0CAA0C;IAC1C,MAAM,CAAC,SAAS,CAAC,IAAI;QACjB,IAAI,OAAO,IAAI,KAAK,QAAQ;YAAE,OAAO,IAAI,CAAC;QAC1C,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,KAAK,IAAI;YAAE,OAAO,IAAI,CAAC;QACrD,MAAM,OAAO,GAAG,EAAE,CAAC;QACnB,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC7C,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAC/C,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SAC3C;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IACD,yCAAyC;IACzC,MAAM,CAAC,SAAS,CAAC,IAAI;QACjB,IAAI,OAAO,IAAI,KAAK,QAAQ;YAAE,OAAO,IAAI,CAAC;QAC1C,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,KAAK,IAAI;YAAE,OAAO,IAAI,CAAC;QACrD,MAAM,OAAO,GAAG,EAAE,CAAC;QACnB,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YAC7C,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YAC/C,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SAC3C;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,MAAM,CAAC,QAAQ,CAAC,IAA8E;QAC1F,IAAI,CAAC,IAAI;YAAE,OAAO,KAAK,CAAC;QACxB,IAAI,OAAO,IAAI,KAAK,SAAS,IAAI,IAAI;YAAE,OAAO,IAAI,CAAC;QACnD,MAAM,UAAU,GAAG,CAAC,UAAU,EAAE,iBAAiB,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,aAAa,EAAE,oBAAoB,EAAE,UAAU,CAAC,CAAC;QAC/I,MAAM,YAAY,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;YAAE,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC;gBAAE,OAAO,IAAI,CAAC;iBAChE,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC;gBAAE,OAAO,IAAI,CAAC;QAC3D,CAAC,CAAC,CAAC;QACH,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,MAAM,CAAC,kBAAkB,CAAC,GAA2C;QACjE,IAAI,GAAG,KAAK,SAAS;YAAE,OAAO,EAAE,CAAC;QACjC,IAAI,OAAO,GAAG,KAAK,QAAQ;YAAE,OAAO,GAAG,CAAC,QAAQ,EAAE,CAAC;QACnD,IAAI,OAAO,GAAG,KAAK,QAAQ;YAAE,OAAO,GAAG,CAAC;QACxC,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACpB,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACxB;QACD,OAAO,EAAE,CAAC;IACd,CAAC;IAED,MAAM,CAAC,kBAAkB,CAAC,GAA2C;QACjE,IAAI,OAAO,GAAG,KAAK,QAAQ;YAAE,OAAO,GAAG,CAAC;QACxC,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;YACzB,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC;YACjB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;gBAAE,OAAO,GAAG,CAAC;YAC5B,OAAO,CAAC,CAAC;SACZ;QACD,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACpB,MAAM,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACzB,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC;YACjB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;gBAAE,OAAO,GAAG,CAAC;YAC5B,OAAO,CAAC,CAAC;SACZ;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IAED,MAAM,CAAC,mBAAmB,CAAC,GAAG,EAAE,IAAI;QAChC,MAAM,UAAU,GAAG,CAAC,EAAE,EAAE,EAAE;YACtB,MAAM,QAAQ,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;YACxD,MAAM,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAC/C,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;gBAC7B,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;gBACzC,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;aACzC;iBAAM;gBACH,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;gBACnC,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;aAC/C;QACL,CAAC,CAAC;QACF,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC;YAC7B,UAAU,CAAC,IAAI,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IAC1E,CAAC;IAED,MAAM,CAAC,qBAAqB,CAAC,MAAM;QAC/B,IAAI,MAAM,KAAK,CAAC;YAAE,OAAO,CAAC,CAAC;QAC3B,IAAI,MAAM,KAAK,CAAC;YAAE,OAAO,CAAC,CAAC,CAAC;QAC5B,IAAI,MAAM,KAAK,CAAC;YAAE,OAAO,CAAC,CAAC,CAAC;QAC5B,IAAI,MAAM,KAAK,EAAE;YAAE,OAAO,CAAC,CAAC,CAAC;QAC7B,OAAO,CAAC,CAAC;IACb,CAAC;IAED,MAAM,CAAC,sBAAsB,CAAC,MAAM;QAChC,IAAI,MAAM,KAAK,CAAC;YAAE,OAAO,EAAE,CAAC;QAC5B,IAAI,MAAM,KAAK,CAAC;YAAE,OAAO,IAAI,CAAC;QAC9B,IAAI,MAAM,KAAK,CAAC;YAAE,OAAO,IAAI,CAAC;QAC9B,IAAI,MAAM,KAAK,EAAE;YAAE,OAAO,IAAI,CAAC;QAC/B,IAAI,MAAM,KAAK,EAAE;YAAE,OAAO,iBAAiB,CAAC;QAC5C,OAAO,EAAE,CAAC;IACd,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,GAAG;QACZ,MAAM,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACnC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SACnE;QACD,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE;YACxB,IAAI,IAAI,KAAK,YAAY;gBAAE,KAAK,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;YAChD,IAAI,IAAI,KAAK,UAAU;gBAAE,KAAK,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;QAClD,CAAC,CAAC,CAAC;QACH,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3B,CAAC;IAED,MAAM,CAAC,SAAS,CAAC,GAAG;QAChB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,QAAQ,CAAC,EAAE,EAAE,EAAE;YACvD,IAAI,EAAE,GAAG,EAAE;gBAAE,OAAO,CAAC,CAAC,CAAC;YACvB,IAAI,EAAE,GAAG,EAAE;gBAAE,OAAO,CAAC,CAAC,CAAC;YACvB,OAAO,CAAC,CAAC;QACb,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,CAAC;QACN,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC9B,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SACvB;QAED,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC9B,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SACjC;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG;QAChC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC9B,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACvD,IAAI,GAAG,EAAE;YACL,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC;YACxC,GAAG,GAAG,GAAG,CAAC;SACb;IACL,CAAC;IAED,MAAM,CAAC,YAAY,CAAC,KAAK;QACrB,OAAO,KAAK,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;IACvF,CAAC;IAED,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI;QACnB,MAAM,MAAM,GAAG,EAAE,CAAC;QAClB,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE;YACzC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE;gBACzC,IAAI,IAAI,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;oBAAE,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YAChD,CAAC,CAAC,CAAC;SACN;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK;QACvB,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE;YACzC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,KAAK,KAAK,EAAE,EAAE;gBAC7E,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;aACrB;YACD,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;iBACd,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC;iBAChD,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;SACjE;IACL,CAAC;CACJ;AAhLD,0BAgLC;;;;;ACnLD,wCAAqC;AAGxB,QAAA,QAAQ,GAAG;IACpB,MAAM,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAC5B,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,MAAM,eAAe,GAAa,EAAE,CAAC;YACrC,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;gBACnB,eAAe,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;gBACvD,eAAe,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;aAC9D;iBAAM,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;gBAC/B,eAAe,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC3D,eAAe,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;aAC/D;iBAAM,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;gBAC9B,eAAe,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;aAC9D;YACD,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE;gBACjB,eAAe,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;gBAClF,kCAAkC;gBAClC,4DAA4D;gBAC5D,oEAAoE;gBACpE,KAAK;aACR;YACD,IAAI,eAAe,CAAC,MAAM,EAAE;gBACxB,MAAM,CAAC,IAAI,GAAG,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC7C;YAED,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE;gBAC1B,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;gBAChC,IAAI,OAAO,CAAC,IAAI,KAAK,QAAQ;oBAAE,MAAM,CAAC,WAAW,GAAG,OAAO,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;qBACpF,IAAI,OAAO,CAAC,KAAK;oBAAE,MAAM,CAAC,WAAW,GAAG,OAAO,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;qBAClH,IAAI,OAAO,CAAC,UAAU;oBAAE,MAAM,CAAC,WAAW,GAAG,OAAO,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;qBAC5H,IAAI,OAAO,CAAC,SAAS;oBAAE,MAAM,CAAC,WAAW,GAAG,OAAO,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;aAC9F;YAED,qBAAqB;YACrB,gDAAgD;YAChD,wFAAwF;YACxF,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,MAAM,EAAE;gBACzF,KAAK,CAAC,IAAI,CAAC,GAAG,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC3D;YACD,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK;gBAAE,KAAK,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;YAC5E,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE;gBAC/B,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC/B,IAAI,YAAY,GAAG,EAAE,CAAC;gBACtB,IAAI,aAAa,GAAG,EAAE,CAAC;gBACvB,IAAI,MAAM,CAAC,KAAK,EAAE;oBACd,YAAY,GAAG,MAAM,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;iBAC5G;gBACD,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE;oBACtB,iFAAiF;oBACjF,IAAI,MAAM,CAAC,KAAK,EAAE;wBACd,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,KAAK,aAAa,EAAE;4BACxC,YAAY,IAAI,MAAM,CAAC;yBAC1B;6BAAM;4BACH,aAAa,GAAG,iBAAO,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;yBACvD;qBACJ;yBAAM;wBACH,aAAa,GAAG,iBAAO,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;qBACvD;iBACJ;gBACD,IAAI,YAAY;oBAAE,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC3C,IAAI,aAAa;oBAAE,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC7C,IAAI,MAAM,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,CAAC,KAAK;oBAAE,KAAK,CAAC,IAAI,CAAC,MAAM,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;aACzE;SACJ;IACL,CAAC;IACD,GAAG,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QACzB,KAAK,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC9B,KAAK,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,IAAI,KAAK,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,OAAO,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAC7B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtB,KAAK,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;QAC5C,KAAK,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IAC1C,CAAC;IAED,SAAS,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAC/B,KAAK,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrC,IAAI,IAAI,CAAC,IAAI;YAAE,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,QAAQ;YAAE,KAAK,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,QAAQ;YAAE,KAAK,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,YAAY;YAAE,KAAK,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QACvE,IAAI,IAAI,CAAC,MAAM;YAAE,KAAK,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;IACzD,CAAC;IAED,WAAW,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QACjC,gBAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACrC,KAAK,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;QAC5B,KAAK,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACzC,CAAC;IAED,KAAK,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAC3B,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK;gBAAE,KAAK,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;YAC1F,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI;gBAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;YAC3D,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI;gBAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;YAC3D,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI;gBAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;YAC3D,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW;gBAAE,KAAK,CAAC,IAAI,CAAC,eAAe,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;YAChF,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS;gBAAE,KAAK,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;SAC7E;IACL,CAAC;IAED,OAAO,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAC7B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvE,CAAC;IAED,YAAY,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAClC,gBAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACrC,KAAK,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QACrE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;QACtB,IAAI,IAAI,GAAG,CAAC;YAAE,KAAK,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC;aACtC,IAAI,IAAI,GAAG,CAAC;YAAE,KAAK,CAAC,IAAI,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC;;YAC1C,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC9B,CAAC;IAED,SAAS,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAC/B,gBAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACrC,gBAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACpC,IAAI,IAAI,CAAC,OAAO;YAAE,KAAK,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IACxD,CAAC;IAED,MAAM,EAAE,CAAC,IAAgB,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QACxC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM;YAAE,KAAK,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;QAC9F,IAAI,IAAI,CAAC,QAAQ,KAAK,WAAW,EAAE;YAC/B,KAAK,MAAM,IAAI,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBACzC,KAAK,CAAC,IAAI,CAAC,GAAG,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;aAC1D;SACJ;IACL,CAAC;IAED,SAAS,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAC/B,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM;YAAE,KAAK,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;IAClG,CAAC;IAED,OAAO,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAC7B,gBAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACrC,KAAK,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACzC,CAAC;IAED,sDAAsD;IACtD,KAAK,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE;QAC3B,0BAA0B;QAC1B,KAAK,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAEnE,mBAAmB;QACnB,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;YAC5B,KAAK,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;SAC/C;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;SACtC;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YACrC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC/B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACnC;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,cAAc,EAAE;YACzC,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ;gBAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACvD,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM;gBAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACnD,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa;gBAAE,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACjE,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ;gBAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC1D;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,WAAW,EAAE;YACtC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC/B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;YACzD,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ;gBAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACtD;QACD,YAAY;QACZ,KAAK,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAEtC,kBAAkB;QAClB,gBAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QAErC,oBAAoB;QACpB,KAAK,CAAC,IAAI,CAAC,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEzC,iBAAiB;QACjB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;QACvB,IAAI,KAAK,GAAG,CAAC;YAAE,KAAK,CAAC,IAAI,CAAC,WAAW,KAAK,EAAE,CAAC,CAAC;aACzC,IAAI,KAAK,GAAG,CAAC;YAAE,KAAK,CAAC,IAAI,CAAC,UAAU,KAAK,EAAE,CAAC,CAAC;;YAC7C,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE3B,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC;IACzB,CAAC;IAED,MAAM,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE;;QAClC,gBAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACrC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACnC,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACtB,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;gBACxB,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;aAChD;SACJ;QAED,MAAM,YAAY,GAAG,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,eAAe,EAAE,CAAC;QAC7C,IAAI,YAAY,IAAI,IAAI,CAAC,IAAI,WAAI,IAAI,CAAC,IAAI,CAAC,OAAO,0CAAE,GAAG,CAAA,EAAE;YACrD,IAAI,YAAY,EAAE;gBACd,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC3C,IAAI,YAAY,CAAC,IAAI;oBAAE,KAAK,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,IAAI,KAAK,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC;gBAC5F,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM;oBAAE,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;gBACxI,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO;oBAAE,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,CAAC,CAAC;gBACvI,IAAI,WAAW,IAAI,WAAW,CAAC,GAAG;oBAAE,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,KAAK,WAAW,CAAC,KAAK,IAAI,WAAW,CAAC,GAAG,GAAG,CAAC,CAAC;aACvI;SACJ;QAED,gBAAI,IAAI,CAAC,UAAU,0CAAE,OAAO,0CAAE,KAAK,EAAE;YACjC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC;SACvF;QAED,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;YAC3B,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE;gBACf,IAAI,QAAQ,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;gBACxF,IAAI,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,EAAE;oBACb,QAAQ,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,GAAG,CAAC;iBACzH;gBACD,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxB;YACD,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;gBAClB,MAAM,QAAQ,GAAa,EAAE,CAAC;gBAC9B,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;gBAC7B,IAAI,KAAK,CAAC,WAAW;oBAAE,QAAQ,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;gBACtE,IAAI,KAAK,CAAC,SAAS;oBAAE,QAAQ,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;gBAClE,IAAI,KAAK,CAAC,UAAU;oBAAE,QAAQ,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;gBACpE,IAAI,KAAK,CAAC,SAAS;oBAAE,QAAQ,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;gBAClE,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;aACpE;YACD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM;gBAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SAC7F;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;YAClC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;gBAClB,MAAM,WAAW,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBAC7E,uDAAuD;gBACvD,MAAM,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;gBAChE,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE;oBACf,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,CAAC,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC;iBAC9C;qBAAM;oBACH,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC3B;aACJ;SACJ;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;YACnC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;YAC9B,IAAI,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM;gBAAE,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YAC3F,IAAI,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,OAAO;gBAAE,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,OAAO,IAAI,CAAC,CAAC;YAE1F,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;gBACpB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,KAAI,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,CAAA,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnI,MAAM,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBAC1H,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;aACrD;SACJ;IACL,CAAC;CACJ,CAAC;;;;;;;;;;;;;;ACxPF,wCAAqC;AAYrC,yCAAsC;AACtC,4CAA2C;AAE3C,MAAa,OAAQ,SAAQ,IAAI;IAAjC;;QACI,WAAM,GAAO,EAAE,CAAC;IA4wBpB,CAAC;IAxwBG,iBAAiB;IACjB,eAAe;QACX,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;IACrE,CAAC;IACK,eAAe,CAAC,QAAsB;;YACxC,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,cAAc,EAAE,QAAQ,CAAC,CAAC;QAC/D,CAAC;KAAA;IACD,iBAAiB;QACb,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,gBAAgB,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;IACvE,CAAC;IACK,iBAAiB,CAAC,KAAqB;;YACzC,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,gBAAgB,EAAE,KAAK,CAAC,CAAC;QAC9D,CAAC;KAAA;IACD,uBAAuB;QACnB,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,sBAAsB,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;IAC7E,CAAC;IACK,uBAAuB,CAAC,KAA2B;;YACrD,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,sBAAsB,EAAE,KAAK,CAAC,CAAC;QACpE,CAAC;KAAA;IACD,mBAAmB;QACf,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,eAAe,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;IACtE,CAAC;IACK,mBAAmB,CAAC,gBAA+B;;YACrD,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,eAAe,EAAE,gBAAgB,CAAC,CAAC;QACxE,CAAC;KAAA;IAED;;;OAGG;IACH,gBAAgB;QACZ,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,eAAe,CAAC,CAAC;QACvD,IAAI,KAAK,EAAE;YACP,oGAAoG;YACpG,uDAAuD;YACvD,sDAAsD;YACtD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBACvB,IAAI,QAAQ,GAAU,EAAE,CAAC;gBACzB,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;oBAClC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC7B;gBACD,OAAO,QAAQ,CAAC;aACnB;YACD,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,EAAE,CAAC;IACd,CAAC;IAED;;;OAGG;IACG,gBAAgB,CAAC,KAAY;;YAC/B,sHAAsH;YACtH,MAAM,IAAI,CAAC,SAAS,CAAC,uBAAW,EAAE,eAAe,CAAC,CAAC;YACnD,MAAM,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC;QAC5D,CAAC;KAAA;IAED,aAAa;QACT,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,YAAY,CAAC,CAAC;IACnD,CAAC;IACK,aAAa,CAAC,MAAkB;;YAClC,yEAAyE;YACzE,MAAM,IAAI,CAAC,SAAS,CAAC,uBAAW,EAAE,YAAY,CAAC,CAAC;YAChD,OAAO,IAAI,CAAC,OAAO,CAAC,uBAAW,EAAE,YAAY,EAAE,MAAM,CAAC,CAAC;QAC3D,CAAC;KAAA;IAEK,MAAM,CAAC,IAAI,EAAE,OAAQ;;;;;YACvB,MAAM,GAAG,GAAG,OAAM,MAAM,YAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YACxC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE;gBACV,IAAI,IAAI,CAAC,KAAK,EAAE;oBACZ,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;iBACvB;YACL,CAAC,CAAC,CAAC;YACH,OAAO,GAAG,CAAC;QACf,CAAC;KAAA;IACD,IAAI,cAAc;QACd,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC3E,CAAC;IAED,IAAI,OAAO;QACP,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;QAClC,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;IAClF,CAAC;IACD,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,cAAc,EAAE,CAAC;IACjC,CAAC;IAED,WAAW;;QACP,KAAK,CAAC,WAAW,EAAE,CAAC;QACpB,MAAM,MAAM,GAAG,EAAE,CAAC;QAClB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QAEvB,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,EAAE;YACrB,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;gBACxC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC1D;SACJ;QACD,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAC5C,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAE5C,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QAEhD,IAAI,UAAU,EAAE;YACZ,IAAI,CAAC,UAAU,CAAC,iBAAiB;gBAAE,UAAU,CAAC,iBAAiB,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;YAC/E,UAAU,CAAC,iBAAiB,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAExE,IAAI,CAAC,UAAU,CAAC,OAAO;gBAAE,UAAU,CAAC,OAAO,GAAG,EAAE,CAAC;YACjD,UAAU,CAAC,OAAO,CAAC,GAAG,GAAG,EAAE,CAAC;YAE5B,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBACzB,IAAI,CAAA,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,OAAO,KAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,EAAE;oBAC/D,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC;iBAC7E;YACL,CAAC,CAAC,CAAC;YAEH,UAAU,CAAC,OAAO,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SAClG;QAED,IAAI,MAAM,EAAE;YACR,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC;YACnB,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC;YACtB,MAAM,CAAC,MAAM,CAAC,GAAG,GAAG,EAAE,CAAC;YACvB,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC;YAC1B,MAAM,CAAC,aAAa,GAAG,EAAE,CAAC;YAC1B,6BAA6B;YAC7B,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBACzB,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ;oBAAE,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAChF,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;YAC1F,CAAC,CAAC,CAAC;YAEH,IAAI,YAAY,EAAE;gBACd,+BAA+B;gBAC/B,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,YAAY,CAAC,IAAI,EAAE,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;gBAC1E,2BAA2B;gBAC3B,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,YAAY,CAAC,IAAI,EAAE,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBAEzE,mBAAmB;gBACnB,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;oBAChC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;iBAChE;qBAAM;oBACH,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;iBAC5D;gBAED,uBAAuB;gBACvB,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;oBACnC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;iBAChE;qBAAM;oBACH,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;iBACtD;aACJ;iBAAM;gBACH,4CAA4C;gBAC5C,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;gBACzD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;aACtD;YAED,0EAA0E;YAC1E,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAChF,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YAEzF,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAE7E,IAAI,IAAI,CAAC,KAAK,EAAE;gBACZ,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE;oBACzB,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC;oBACpC,oCAAoC;oBACpC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,SAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,0CAAE,KAAK,CAAC;oBACrH,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;iBACnF;gBACD,IAAI,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE;oBACxB,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC;oBACnC,oCAAoC;oBACpC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,SAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,0CAAE,KAAK,CAAC;oBAC5G,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;iBAChF;aACJ;SACJ;QAED,IAAI,KAAK,EAAE;YACP,IAAI,KAAK,CAAC,EAAE,EAAE;gBACV,KAAK,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC;gBAClB,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBACzB,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;wBAAE,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;oBAChE,6BAA6B;gBACjC,CAAC,CAAC,CAAC;gBACH,IAAI,KAAK,CAAC,EAAE;oBAAE,KAAK,CAAC,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,IAAI,GAAG,iBAAO,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;aAClF;SACJ;QAED,IAAI,IAAI,CAAC,IAAI,KAAK,aAAa,EAAE;YAC7B,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,OAAA,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,IAAI,EAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC;SAClE;QAED,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC;IACvD,CAAC;IAED,WAAW,CAAC,WAAY;QACpB,MAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvC,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,WAAW;YAAE,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QAE7C,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;QAEpF,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,MAAM,IAAI,GAAG,mBAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,IAAI;YAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QAErD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE3C,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,kBAAkB;;QACd,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,gBAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,OAAO,0CAAE,IAAI,EAAE;YACtC,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAC1C,IAAI,OAAO,CAAC,IAAI,KAAK,QAAQ,EAAE;gBAC3B,IAAI,GAAG,GAAG,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;aAC3C;iBAAM,IAAI,OAAO,CAAC,KAAK,EAAE;gBACtB,IAAI,GAAG,GAAG,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;aAChF;iBAAM,IAAI,OAAO,CAAC,UAAU,EAAE;gBAC3B,IAAI,GAAG,GAAG,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;aACrF;iBAAM,IAAI,OAAO,CAAC,SAAS,EAAE;gBAC1B,IAAI,GAAG,GAAG,iBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;aAChD;SACJ;QACD,MAAM,GAAG,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC1C,IAAI,GAAG;YAAE,IAAI,IAAI,IAAI,GAAG,EAAE,CAAC;QAC3B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,eAAe;QACX,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,eAAC,OAAA,IAAI,CAAC,IAAI,KAAK,MAAM,iBAAI,IAAI,CAAC,IAAI,CAAC,IAAI,0CAAE,UAAU,0CAAE,QAAQ,CAAA,CAAA,EAAA,CAAC,CAAC,CAAC,CAAC,CAAC;IAChH,CAAC;IAED,eAAe;QACX,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,eAAC,OAAA,IAAI,CAAC,IAAI,KAAK,cAAc,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,iBAAI,IAAI,CAAC,IAAI,CAAC,IAAI,0CAAE,UAAU,0CAAE,QAAQ,CAAA,CAAA,EAAA,CAAC,CAAC;IACzJ,CAAC;IAEK,cAAc,CAAC,GAAG;;YACpB,MAAM,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YACnC,IAAI,GAAG,EAAE;gBACL,MAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACpC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;gBACrE,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;aACvC;QACL,CAAC;KAAA;IAED,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC;IAC7C,CAAC;IAEK,OAAO,CAAC,QAAQ;;YAClB,MAAM,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACrC,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC;YAC9B,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC;gBAChE,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;aAC/B;QACL,CAAC;KAAA;IAEK,UAAU;;YACZ,MAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;YAC3B,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;YACnD,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;YAEtC,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;aACpE;YACD,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAExB,MAAM,aAAa,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC;iBACnC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC;iBACrC,MAAM,CAAC,CAAC,GAAqB,EAAE,IAAI,EAAE,EAAE;gBACpC,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBACtC,IAAI,UAAU,CAAC,QAAQ,EAAE;oBACrB,MAAM,GAAG,GAAG,UAAU,CAAC,QAAQ,CAAC;oBAChC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,CAAC;oBAC9C,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACvB;gBACD,OAAO,GAAG,CAAC;YACf,CAAC,EAAE,EAAE,CAAC,CAAC;YACX,IAAI,aAAa,CAAC,MAAM;gBAAE,MAAM,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;QACxE,CAAC;KAAA;IAEK,SAAS,CAAC,GAAG;;;YACf,uDAAuD;YACvD,MAAM,IAAI,SAAG,IAAI,CAAC,KAAK,0CACjB,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,EACtC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBACV,MAAM,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACtC,IAAI,CAAC,EAAE;oBACH,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,GAAG,KAAK,IAAI,CAAC,GAAG,CAAC;oBACnD,OAAO,CAAC,CAAC,IAAI,CAAC;iBACjB;YACL,CAAC,CAAC,CAAC;YACP,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;;KACpC;IAED,aAAa;QACT,MAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QAC/B,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;YAC9B,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SAChD;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;YACpB,IAAI,EAAE,EAAE;YACR,GAAG,EAAE,EAAE;YACP,WAAW,EAAE,EAAE;SAClB,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACtB,CAAC;IAED,gBAAgB;QACZ,uDAAuD;QACvD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK;YAAE,OAAO,EAAE,CAAC;QAErD,MAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;QAEhD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QAChE,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;QACtE,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC;QAExE,IAAI,SAAS,IAAI,SAAS,CAAC,KAAK;YAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC;QAE3E,8DAA8D;QAC9D,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK;YAAE,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;aACtD,IAAI,UAAU,IAAI,UAAU,CAAC,KAAK;YAAE,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC;QAEpF,MAAM,IAAI,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC5C,IAAI,IAAI;YAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAE1B,+DAA+D;QAC/D,MAAM,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QACrD,IAAI,GAAG;YAAE,KAAK,CAAC,aAAa,CAAC,GAAG,GAAG,CAAC;QAEpC,MAAM,IAAI,GAA8C,EAAE,CAAC;QAC3D,IAAI,SAAS,KAAK,SAAS;YAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,UAAU,KAAK,SAAS;YAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACpD,IAAI,KAAK,KAAK,SAAS;YAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1C,8BAA8B;QAC9B,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAClC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAE5B,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,eAAe;;QACX,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAC5C,IAAI,CAAC,YAAY;YAAE,OAAO,CAAC,CAAC;QAC5B,IAAI,YAAY,CAAC,KAAK,KAAK,EAAE;YAAE,OAAO,CAAC,CAAC;QACxC,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC,OAAA,IAAI,CAAC,eAAe,EAAE,0CAAE,KAAK,KAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChG,CAAC;IAED,eAAe,CAAC,KAAsB;QAClC,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;YACvB,MAAM,MAAM,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YACtC,IAAI,MAAM;gBAAE,KAAK,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC;SAC5C;IACL,CAAC;IAED,aAAa,CAAC,KAAK;QACf,MAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QAC/B,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACtB,CAAC;IAED,MAAM,CAAC,kBAAkB,CAAC,IAAI;QAC1B,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACrC,IAAI,KAAK,CAAC;QACV,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtC,IAAI,QAAQ,EAAE;YACV,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC/C,IAAI,KAAK,CAAC;YACV,IAAI,OAAO,KAAK,MAAM,CAAC,KAAK,CAAC,GAAG;gBAAE,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;iBAChE;gBACD,MAAM,KAAK,GAAU,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAC9C,IAAI,CAAC,KAAK;oBAAE,OAAO;gBACnB,aAAa;gBACb,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC1E,IAAI,SAAS;oBAAE,KAAK,GAAG,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC;aAC/C;YACD,IAAI,CAAC,KAAK;gBAAE,OAAO;YACnB,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SAClC;;YAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAErD,IAAI,CAAC,KAAK;YAAE,OAAO;QACnB,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACnC,OAAO,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAED,MAAM,CAAC,UAAU;QACb,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QAChC,MAAM,EAAE,UAAU,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC;QACrC,MAAM,OAAO,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;QAC3F,IAAI,SAAS,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC;YAAE,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAClE,IAAI,CAAC,OAAO,CAAC,MAAM;YAAE,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC,CAAC;QAC/F,OAAO,OAAO,CAAC;IACnB,CAAC;IAED;;;;OAIG;IACG,eAAe,CAAC,QAAQ,EAAE,OAAO,GAAG,EAAE;;YACxC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC;gBAAE,QAAQ,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpD,uBAAuB;YACvB,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;gBACxB,MAAM,YAAY,GAAG,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;gBAExD,QAAQ,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;;oBACxB,MAAM,IAAI,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;oBAC/B,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;oBACxB,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,cAAc,EAAE;wBACtD,gBAAI,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,0CAAE,UAAU,0CAAE,QAAQ,EAAE;4BAClC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,KAAK,CAAC;yBACzC;wBACD,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBAC3B;gBACL,CAAC,CAAC,CAAC;gBAEH,MAAM,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC;aAC7C;YACD,MAAM,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACrC,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;YACzB,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzB,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAED;;OAEG;IACH,uBAAuB;QACnB,KAAK,CAAC,uBAAuB,EAAE,CAAC;QAChC,IAAI,KAAK,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACpC,IAAI,KAAK,EAAE;YACP,MAAM,QAAQ,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrD,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;gBACjB,OAAO,MAAM,CAAC;YAClB,CAAC,EAAE,EAAE,CAAC,CAAC;YACP,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;gBACzB,IAAI,CAAC,CAAC,GAAG,IAAI,QAAQ,EAAE;oBACnB,MAAM,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;oBAC1B,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;oBACX,CAAC,CAAC,WAAW,EAAE,CAAC;oBAChB,OAAO,CAAC,CAAC;iBACZ;qBAAM;oBACH,yBAAyB;oBACzB,aAAa;oBACb,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;iBACpC;YACL,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,YAAY,CAAC,MAAM;QACf,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,IAAI,CAAC,KAAK;YAAE,OAAO;QACnB,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,MAAM,CAAC,CAAC;IAC/C,CAAC;IAEK,eAAe,CAAC,OAAO;;YACzB,MAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;YACjD,IAAI,CAAC,KAAK;gBAAE,OAAO;YACnB,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;YACvD,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC;gBAAE,OAAO;YAC7C,OAAO,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;gBAC5B,MAAM,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,WAAW,CAAC,GAAG,CAAC,CAAC;gBAChE,IAAI,KAAK,KAAK,CAAC,CAAC;oBAAE,OAAO;gBACzB,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;gBAC1B,IAAI,IAAI,EAAE;oBACN,WAAW,GAAG,YAAY,CAAC,WAAW,CAAC,CAAC;oBACxC,WAAW,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;oBAC/B,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;oBACpB,yCAAyC;iBAC5C;YACL,CAAC,CAAC,CAAC;YAEH,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACnC,MAAM,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACrC,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;YACzB,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzB,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAEK,oBAAoB,CAAC,YAAoB,EAAE,UAA6B,EAAE,OAAgB;;YAC5F,MAAM,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;YACvC,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAED;;;;OAIG;IACG,eAAe,CAAC,OAAO;;YACzB,MAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;YACjD,IAAI,CAAC,KAAK;gBAAE,OAAO;YAEnB,MAAM,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,OAAO,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,OAAO,CAAC,CAAC;YACnF,IAAI,GAAG,KAAK,CAAC,CAAC;gBAAE,MAAM,IAAI,KAAK,CAAC,0CAA0C,OAAO,EAAE,CAAC,CAAC;YACrF,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACrB,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACnC,MAAM,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACrC,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;YACzB,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzB,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAEK,aAAa;;YACf,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACpC,IAAI,MAAM,KAAK,EAAE,EAAE;gBACf,aAAa;gBACb,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,2BAA2B,CAAC,CAAC,CAAC;aAC3E;YACD,oCAAoC;YACpC,mEAAmE;YACnE,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvC,YAAY;YACZ,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QACrD,CAAC;KAAA;IAED,cAAc;QACV,OAAO,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,OAAO,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC/G,CAAC;IAED,SAAS;;QACL,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,iBAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,KAAK,0CAAE,MAAM,CAAA,CAAC;IAC/E,CAAC;IAED,aAAa;QACT,OAAO,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC;IAClE,CAAC;IAED,cAAc;QACV,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,CAAC;IAC9E,CAAC;IAED,OAAO;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,OAAO,CAAC;IACtC,CAAC;IAED,aAAa;QACT,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,cAAc,CAAC;IAC7C,CAAC;IAED,aAAa;QACT,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,CAAC;IAC9E,CAAC;IAED,UAAU;;QACN,OAAO,OAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,0CAAE,QAAQ,KAAI,KAAK,CAAC;IACxD,CAAC;IAED,aAAa;QACT,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;IAC7C,CAAC;IAED,aAAa,CAAC,IAAY;;QACtB,IAAI,QAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,MAAM,CAAA;YAAE,OAAO,SAAS,CAAC;QACrD,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAC5C,MAAM,IAAI,GAAe;YACrB,IAAI;YACJ,MAAM,EAAE,MAAM;SACjB,CAAC;QAEF,IAAI,IAAI,CAAC,aAAa,EAAE,EAAE;YACtB,MAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,KAAK,CAAC;YAC7C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,GAAG,iBAAO,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC/D,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,GAAG,CAAC,KAAK,GAAG,iBAAO,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACnE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC;SAChC;QAED,IAAI,IAAI,CAAC,aAAa,EAAE,EAAE;YACtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC,KAAK,CAAC;SACrD;QAED,IAAI,IAAI,CAAC,aAAa,EAAE,EAAE;YACtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC7B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;SACzC;QAED,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;YACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;SACzC;QAED,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QACtC,IAAI,SAAS;YAAE,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;QAEtC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,cAAc;;QACV,aAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,KAAK,CAAC;IACxC,CAAC;IAED,kBAAkB;;QACd,aAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,SAAS,CAAC;IAC5C,CAAC;IAED,mBAAmB;;QACf,aAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,UAAU,CAAC;IAC7C,CAAC;IAED,WAAW;QACP,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;YACvB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;SACtD;QACD,IAAI,IAAI,CAAC,aAAa,EAAE,EAAE;YACtB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;SACtD;QACD,IAAI,IAAI,CAAC,aAAa,EAAE,EAAE;YACtB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;SAChD;QACD,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;YAChB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;SAC9C;QACD,IAAI,IAAI,CAAC,OAAO;YAAE,OAAO,IAAI,CAAC,IAAI,CAAC;QACnC,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,QAAQ;;QACJ,MAAM,KAAK,SAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,KAAK,CAAC;QAC3C,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;YAC7B,KAAK,CAAC,KAAK,GAAG,cAAc,CAAC;SAChC;aAAM,IAAI,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,SAAS,EAAE;YACzB,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;SACxD;aAAM,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;YACvB,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,KAAK,CAAC;YAC7C,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC;SAC7B;aAAM,IAAI,IAAI,CAAC,aAAa,EAAE,EAAE;YAC7B,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC,KAAK,CAAC;YACnD,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC;SAC7B;aAAM;YACH,KAAK,CAAC,KAAK,GAAG,WAAW,CAAC;SAC7B;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,cAAc;;QACV,mBAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,KAAK,0CAAE,KAAK,CAAC;IAC/C,CAAC;IAED,eAAe;;QACX,OAAO,OAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,aAAa,KAAI,EAAE,CAAC;IACtD,CAAC;IAED,uBAAuB;;QACnB,UAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,IAAI;YAAE,OAAO,oBAAoB,CAAC;QAC7D,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,QAAQ;QACJ,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,OAAO;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,qBAAqB,CAAC,eAAwB,IAAI;QAC9C,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QACnD,IAAI,YAAY;YAAE,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC7E,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,QAAQ;;QACJ,IAAI,IAAI,CAAC,aAAa,EAAE,EAAE;YACtB,aAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,0CAAE,KAAK,CAAC;SACtC;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IAED,gBAAgB;;QACZ,MAAM,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QACpC,OAAO,mBAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,0CAAE,IAAI,0CAAE,KAAK,0CAAE,MAAM,IAAG,CAAC,CAAC;IAC/C,CAAC;IAED,cAAc;;QACV,OAAO,aAAA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,0CAAE,OAAO,0CAAE,IAAI,MAAK,SAAS,CAAC;IAC9D,CAAC;IAED,iBAAiB;QACb,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;YACvB,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;gBACvB,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aACzB;YACD,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;gBACvB,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;gBAC5C,IAAI,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,OAAO,EAAE;oBACvB,IAAI,YAAY,CAAC,OAAO,KAAK,iBAAiB,EAAE;wBAC5C,MAAM,QAAQ,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC;wBACvC,IAAI,QAAQ;4BAAE,KAAK,CAAC,cAAc,CAAC,GAAG,QAAQ,CAAC;qBAClD;iBACJ;aACJ;SACJ;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,sBAAsB;QAClB,MAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzC,MAAM,KAAK,GAAG,iBAAO,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QACzC,IAAI,KAAK;YAAE,OAAO,IAAI,KAAK,GAAG,CAAC;aAC1B;YACD,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;gBACvB,MAAM,YAAY,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;gBAC5C,IAAI,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,OAAO,EAAE;oBACvB,IAAI,YAAY,CAAC,OAAO,KAAK,iBAAiB,EAAE;wBAC5C,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;qBAChD;iBACJ;aACJ;SACJ;QACD,OAAO,EAAE,CAAC;IACd,CAAC;IAED,YAAY;QACR,+CAA+C;QAC/C,IAAI,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,cAAc,EAAE,EAAE;YACzC,uCAAuC;YACvC,IAAI,QAAQ,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,KAAK,CAAC;YAC9C,iCAAiC;YACjC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,QAAQ,IAAI,EAAE,CAAC;YAC5C,OAAO;gBACH,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,CAAC;aACb,CAAC;SACL;aAAM,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACzB,mBAAmB;YACnB,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;YACpD,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC;YACpD,OAAO;gBACH,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,OAAO;aACnB,CAAC;SACL;aAAM,IAAI,IAAI,CAAC,gBAAgB,EAAE,EAAE;YAChC,MAAM,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;YACpC,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC7C,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC7C,OAAO;gBACH,MAAM,EAAE,QAAQ;gBAChB,OAAO;aACV,CAAC;SACL;IACL,CAAC;IAED;;;;;OAKG;IACH,OAAO,CAAC,KAAa,EAAE,GAAW,EAAE,KAAU;QAC1C,MAAM,QAAQ,GAAG,iBAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC1C,OAAO,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC/C,CAAC;IAED;;;;OAIG;IACH,OAAO,CAAC,KAAa,EAAE,GAAW;QAC9B,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACvC,OAAO,iBAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;CACJ;AA7wBD,0BA6wBC;;;;;;;;;;;;;;AC5xBD,wCAAqC;AAGrC;;GAEG;AACH,MAAa,YAAa,SAAQ,SAAS;IAIvC,YAAY,GAAG,IAAI;QACf,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;QACf,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACzB,CAAC;IAED,gBAAgB;QACZ,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC;IACjC,CAAC;IAED;;;OAGG;IACH,MAAM,KAAK,cAAc;QACrB,OAAO,WAAW,CAAC,KAAK,CAAC,cAAc,EAAE;YACrC,OAAO,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,CAAC;YACjC,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,IAAI,EAAE,CAAC,EAAE,WAAW,EAAE,OAAO,EAAE,eAAe,EAAE,YAAY,EAAE,CAAC;SAClE,CAAC,CAAC;IACP,CAAC;IAED,IAAI,QAAQ;QACR,MAAM,IAAI,GAAG,0CAA0C,CAAC;QACxD,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC;IAChD,CAAC;IAED,kDAAkD;IAElD;;;OAGG;IACH,OAAO;QACH,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;QAC7B,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;QAE3B,IAAI,QAAQ,CAAC,MAAM,EAAE;YACjB,IAAI;gBACA,MAAM,EAAE,MAAM,EAAE,GAAG,QAAQ,CAAC;gBAC5B,IAAI,MAAM,CAAC,GAAG,KAAK,CAAC;oBAAE,OAAO,MAAM,CAAC,GAAG,CAAC;gBACxC,IAAI,MAAM,CAAC,KAAK,KAAK,CAAC;oBAAE,OAAO,MAAM,CAAC,KAAK,CAAC;gBAC5C,IAAI,MAAM,CAAC,MAAM,EAAE;oBACf,IAAI,MAAM,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;wBAAE,OAAO,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC;oBACtD,IAAI,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;wBAAE,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC;iBAC/D;gBACD,IAAI,MAAM,CAAC,KAAK,EAAE;oBACd,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;wBAAE,OAAO,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;iBACvD;aACJ;YAAC,OAAO,CAAC,EAAE;gBACR,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aACpB;SACJ;QAED,IAAI,QAAQ,CAAC,UAAU,EAAE;YACrB,IAAI;gBACA,MAAM,IAAI,GAAG,QAAQ,CAAC,UAAU,CAAC;gBACjC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC;oBAAE,OAAO,IAAI,CAAC,MAAM,CAAC;gBAC1C,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC;oBAAE,OAAO,IAAI,CAAC,QAAQ,CAAC;gBAC9C,IAAI,IAAI,CAAC,IAAI,KAAK,CAAC;oBAAE,OAAO,IAAI,CAAC,IAAI,CAAC;aACzC;YAAC,OAAO,CAAC,EAAE;gBACR,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;aAClB;SACJ;QAED,IAAI,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;QAC5B,MAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACtC,MAAM,CAAC,UAAU,EAAE,UAAU,EAAE,SAAS,CAAC,GAAG,KAAK,CAAC,MAAM,CACpD,CAAC,KAA6D,EAAE,IAAa,EAAE,EAAE;YAC7E,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM;gBAAE,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnD,IAAI,IAAI,CAAC,IAAI,KAAK,cAAc,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ;gBAAE,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC/F,IAAI,IAAI,CAAC,IAAI,KAAK,cAAc,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,OAAO;gBAAE,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9F,OAAO,KAAK,CAAC;QACjB,CAAC,EACD,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACf,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,GAAG,UAAU,CAAC;QAChC,IAAI,CAAC,YAAY,CAAC,GAAG,UAAU,CAAC;QAChC,IAAI,CAAC,WAAW,CAAC,GAAG,SAAS,CAAC;QAC9B,uEAAuE;QACvE,wDAAwD;QACxD,IAAI,CAAC,uBAAuB,CAAC,GAAG,IAAI,CAAC;QAErC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,kDAAkD;IAElD;;;OAGG;IACH,iBAAiB,CAAC,IAAI;QAClB,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;YAC7B,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC1D,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SACrD;QACD,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAChE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAE/D,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAE3D,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAEnE,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAE3E,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAE5E,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACnC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACrD,MAAM,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;YAChC,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;YAC1B,KAAK,CAAC,MAAM,EAAE,CAAC;YACf,IAAI,GAAG,EAAE;gBACL,IAAI,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC;oBAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;oBAC/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC;aACvE;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;IAChC,CAAC;IAED,WAAW,CAAC,KAAK;QACb,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,OAAO,KAAK,CAAC;IACjB,CAAC;IAEK,OAAO,CAAC,KAAK;;;YACf,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,IAAI,IAAI,CAAC;YACT,IAAI;gBACA,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;gBAC5D,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;oBACtB,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;iBACpD;aACJ;YAAC,OAAO,GAAG,EAAE;gBACV,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;aAC3C;YACD,IAAI,IAAI,CAAC;YACT,oCAAoC;YACpC,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,YAAY;gBACZ,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,YAAK,IAAI,CAAC,IAAI,CAAC,KAAK,0CAAE,GAAG,CAAA,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;oBAC/F,OAAO,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;oBACtD,aAAa;oBACb,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;iBAChE;gBACD,IAAI,GAAG,IAAI,CAAC;aACf;iBAAM,IAAI,IAAI,CAAC,IAAI,EAAE;gBAClB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,kCAAkC;gBAClC,YAAY;gBACZ,IAAI,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;aAChE;iBAAM;gBACH,+BAA+B;gBAC/B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aAClC;YAED,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;KACxC;IAED,sBAAsB,CAAC,UAAU,EAAE,MAAM;QACrC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,UAAU,KAAK,UAAU,CAAC,CAAC;QACjE,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAED,QAAQ,CAAC,KAAK;QACV,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,OAAO,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC;IAC/D,CAAC;IAEK,gBAAgB,CAAC,KAAK;;YACxB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;QACpC,CAAC;KAAA;IAEK,WAAW,CAAC,KAAK;;YACnB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;YAC1D,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aAC3B;QACL,CAAC;KAAA;IAEK,aAAa,CAAC,KAAK;;YACrB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;QAC9B,CAAC;KAAA;IAEK,gBAAgB,CAAC,KAAK;;YACxB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC;YAChD,IAAI,KAAK,IAAI,CAAC;gBAAE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACnD,CAAC;KAAA;IAEK,kBAAkB,CAAC,KAAK;;YAC1B,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;QACpD,CAAC;KAAA;IAEK,iBAAiB,CAAC,KAAK;;YACzB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;QACnD,CAAC;KAAA;IAEK,eAAe,CAAC,KAAK;;YACvB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,MAAM,IAAI,GAAG,cAAc,CAAC;YAC5B,MAAM,QAAQ,GAAG;gBACb,IAAI,EAAE,OAAO,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBAClC,IAAI,EAAE,IAAI;gBACV,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC;aACvD,CAAC;YACF,QAAQ,CAAC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;YAC9B,aAAa;YACb,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACnD,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzC,CAAC;KAAA;IAEK,aAAa,CAAC,KAAK;;YACrB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;QAC3B,CAAC;KAAA;IAEK,aAAa,CAAC,KAAK;;YACrB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;QACpD,CAAC;KAAA;IAEK,YAAY,CAAC,KAAK;;YACpB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;QAC9C,CAAC;KAAA;IAED,aAAa,CAAC,KAAK;QACf,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,MAAM,IAAI,GAAG,MAAM,CAAC;QACpB,MAAM,QAAQ,GAAG;YACb,IAAI,EAAE,OAAO,iBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YAClC,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;SAC/C,CAAC;QACF,aAAa;QACb,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED;;OAEG;IACH,eAAe;QACX,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;IAC5D,CAAC;IAED;;OAEG;IACG,OAAO,CAAC,KAAK,GAAG,KAAK,EAAE,OAAO,GAAG,EAAE;;;;;YACrC,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,MAAM,OAAM,OAAO,YAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YACpC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QACnC,CAAC;KAAA;IAED;;OAEG;IACH,uBAAuB;QACnB,MAAM,UAAU,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAC1C,IAAI,UAAU,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;YAC3C,UAAU,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAC9C;IACL,CAAC;IAED;;OAEG;IACH,oBAAoB;QAChB,MAAM,UAAU,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QAC1C,IAAI,UAAU,CAAC,MAAM,EAAE;YACnB,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC/C;IACL,CAAC;CACJ;AAjSD,oCAiSC;;;;;;;;;;;;;ACvSD,sDAAmD;AACnD,yDAAsD;AACtD,+CAA4C;AAC5C,4CAAyC;AACzC,qCAA+B;AAC/B,uCAAoC;AACpC,yCAAoD;AACpD,qCAAkE;AAClE,qCAA2C;AAC3C,gFAA6E;AAC7E,6CAAoF;AACpF,kDAA+C;AAC/C,2CAA0C;AAE1C,kDAAkD;AAClD,kDAAkD;AAClD,kDAAkD;AAClD,wEAAyE;AACzE,2CAAsB,EAAE,CAAC;AAEzB,kDAAkD;AAClD,kDAAkD;AAClD,kDAAkD;AAElD,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE;IACf,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;IAE3C,wDAAwD;IACxD,IAAI,CAAC,aAAa,CAAC,GAAG;QAClB,QAAQ,EAAR,mBAAQ;QACR,OAAO,EAAP,iBAAO;QACP,aAAa;KAChB,CAAC;IAEF,MAAM,CAAC,GAAG,GAAG,YAAG,CAAC;IACjB,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG,mBAAQ,CAAC;IACpC,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,iBAAO,CAAC;IAElC,iCAAsB,EAAE,CAAC;IAEzB,qCAAqC;IACrC,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IAC3C,MAAM,CAAC,aAAa,CAAC,uBAAW,EAAE,6BAAa,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;IACxE,KAAK,CAAC,eAAe,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IACzC,KAAK,CAAC,aAAa,CAAC,uBAAW,EAAE,2BAAY,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;IAEtE,CAAC,qBAAqB,EAAE,oBAAoB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;QACxD,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,iBAAO,CAAC,mBAAmB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;IACvE,CAAC,CAAC,CAAC;IAEH,uCAA0B,EAAE,CAAC;IAE7B,6BAA6B;AACjC,CAAC,CAAC,CAAC;AAEH,KAAK,CAAC,EAAE,CAAC,YAAY,EAAE;IACnB,0CAA0C;IAC1C,aAAa;IACb,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG,wBAAe,CAAC;AAC3D,CAAC,CAAC,CAAC;AAEH,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE;IACd,0DAA0D;IAC1D,aAAa;IACb,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,oBAAoB,EAAE,CAAC,IAAI,EAAE,EAAE;QAC1C,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,cAAc,EAAE;YACvC,8BAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;SACnF;IACL,CAAC,CAAC,CAAC;IAEH,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;QAChB,mBAAQ,CAAC,cAAc,EAAE,CAAC;KAC7B;AACL,CAAC,CAAC,CAAC;AAEH,KAAK,CAAC,EAAE,CAAC,iBAAiB,EAAE,wBAAe,CAAC,CAAC;AAE7C,kDAAkD;AAClD,kDAAkD;AAClD,kDAAkD;AAElD,KAAK,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE;IACvC,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM;QAAE,OAAO;IAEjC,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACjC,OAAO,KAAK,CAAC;AACjB,CAAC,CAAC,CAAC;AAEH,KAAK,CAAC,EAAE,CAAC,qBAAqB,EAAE,CAAC,QAAQ,EAAE,IAAI,EAAE,EAAE;IAC/C,IAAI,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE;QACrE,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,6CAAqB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC;AAEH,KAAK,CAAC,EAAE,CAAC,wBAAwB,EAAE,CAAC,QAAQ,EAAE,EAAE;IAC5C,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;QAChB,MAAM,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC;QAC/D,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC;YACrB,IAAI,EAAE,yBAAyB;YAC/B,KAAK,EAAE,oCAAoC;YAC3C,IAAI,EAAE,sBAAsB;SAC/B,CAAC,CAAC;KACN;AACL,CAAC,CAAC,CAAC;AAEH;;;;;;GAMG;AACH,SAAe,eAAe,CAAC,IAAI,EAAE,IAAI;;QACrC,MAAM,OAAO,GAAG,mCAAmC,IAAI,CAAC,IAAI,KAAK,CAAC;QAClE,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,KAAK,EAAE;YACR,KAAK,GAAG,CAAC,MAAM,KAAK,CAAC,MAAM,CACvB;gBACI,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,IAAI,EAAE,QAAQ;gBACd,GAAG,EAAE,IAAI,CAAC,GAAG;gBACb,OAAO,EAAE,OAAO;gBAChB,KAAK,EAAE,EAAE,uBAAuB,EAAE,IAAI,EAAE;aAC3C,EACD,EAAE,YAAY,EAAE,KAAK,EAAE,CAC1B,CAAU,CAAC;SACf;QACD,IAAI,KAAK;YAAE,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC;CAAA;AAED;;;;;GAKG;AACH,SAAS,aAAa,CAAC,QAAQ;IAC3B,MAAM,OAAO,GAAG,WAAW,CAAC,UAAU,EAAE,CAAC;IACzC,IAAI,KAAK,CAAC;IACV,IAAI,OAAO,CAAC,KAAK;QAAE,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC7D,IAAI,CAAC,KAAK;QAAE,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACnD,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IACzE,IAAI,CAAC,IAAI,EAAE;QACP,aAAa;QACb,OAAO,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,qDAAqD,QAAQ,EAAE,CAAC,CAAC;KACjG;IAED,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAChC,CAAC;AAED,qCAAwB,EAAE,CAAC;;;;;;;;;;;;;;ACvJ3B,yDAAsD;AACtD,gEAA6D;AAC7D,0DAAuD;AAMvD;IAAA,MAAa,QAAQ;QAOjB,sBAAsB;QACf,MAAM,CAAO,cAAc;;gBAC9B,IAAI,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,mCAAgB,CAAC,WAAW,EAAE,mCAAgB,CAAC,gBAAgB,CAAC,CAAC;gBACxG,IAAI,cAAc,KAAK,SAAS,IAAI,cAAc,KAAK,IAAI,EAAE;oBACzD,cAAc,GAAG,mCAAgB,CAAC,UAAU,CAAC;iBAChD;gBAED,MAAM,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,aAAa,EAAE,EAAE,EAAE;oBAChE,mFAAmF;oBACnF,OAAO,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,cAAc,CAAC,KAAK,CAAC,CAAC;gBACpE,CAAC,CAAC,CAAC;gBAEH,oCAAoC;gBACpC,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE;oBACzB,OAAO;iBACV;gBAED,MAAM,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,4BAA4B,CAAC,CAAC;gBAC/E,MAAM,sBAAsB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAAC;gBACjF,MAAM,wBAAwB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,+BAA+B,CAAC,CAAC;gBACrF,MAAM,2BAA2B,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,kCAAkC,CAAC,CAAC;gBAC3F,MAAM,sBAAsB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAAC;gBACjF,MAAM,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,8BAA8B,CAAC,CAAC;gBAEjF,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC;oBACjB,KAAK,EAAE,qBAAqB;oBAC5B,OAAO,EACH,8CAA8C,sBAAsB,OAAO;wBAC3E,oCAAoC,wBAAwB,UAAU;wBACtE,MAAM,2BAA2B,MAAM;wBACvC,0BAA0B,sBAAsB,OAAO;oBAC3D,OAAO,EAAE;wBACL,EAAE,EAAE;4BACA,KAAK,EAAE,qBAAqB;4BAC5B,QAAQ,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;yBAC3C;qBACJ;oBACD,OAAO,EAAE,IAAI;iBAChB,CAAC,CAAC;gBACH,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACnB,CAAC;SAAA;QAEO,MAAM,CAAO,OAAO,CAAC,UAA+B;;gBACxD,8EAA8E;gBAC9E,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;oBACrB,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC;gBACjE,CAAC,CAAC,CAAC;gBAEH,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;gBAC1C,MAAM,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;gBAE/C,MAAM,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,4BAA4B,CAAC,CAAC;gBAC/E,MAAM,sBAAsB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAAC;gBACjF,MAAM,2BAA2B,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,kCAAkC,CAAC,CAAC;gBAC3F,MAAM,yBAAyB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,gCAAgC,CAAC,CAAC;gBACvF,MAAM,uBAAuB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,8BAA8B,CAAC,CAAC;gBACnF,MAAM,WAAW,GAAG,IAAI,MAAM,CAAC;oBAC3B,KAAK,EAAE,qBAAqB;oBAC5B,OAAO,EACH,gDAAgD,sBAAsB,OAAO;wBAC7E,MAAM,2BAA2B,MAAM;wBACvC,oCAAoC,yBAAyB,UAAU;oBAC3E,OAAO,EAAE;wBACL,EAAE,EAAE;4BACA,IAAI,EAAE,8BAA8B;4BACpC,KAAK,EAAE,uBAAuB;yBACjC;qBACJ;oBACD,OAAO,EAAE,IAAI;iBAChB,CAAC,CAAC;gBACH,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC;SAAA;QAED;;;;WAIG;QACK,MAAM,CAAO,YAAY,CAAC,IAAU,EAAE,UAA+B;;gBACzE,8BAA8B;gBAC9B,KAAK,MAAM,EAAE,SAAS,EAAE,IAAI,UAAU,EAAE;oBACpC,MAAM,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;iBACjC;YACL,CAAC;SAAA;QAED;;;;WAIG;QACK,MAAM,CAAO,iBAAiB,CAAC,IAAU,EAAE,UAA+B;;gBAC9E,iCAAiC;gBACjC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,OAAO,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;gBAE1I,4CAA4C;gBAC5C,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;oBACtB,KAAK,MAAM,EAAE,SAAS,EAAE,IAAI,UAAU,EAAE;wBACpC,MAAM,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;qBAC/C;iBACJ;YACL,CAAC;SAAA;QAED,4FAA4F;QAC5F,yBAAyB;QACzB;;;;WAIG;QACI,MAAM,CAAC,cAAc,CAAC,EAAU,EAAE,EAAU;YAC/C,MAAM,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YACrD,MAAM,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YACrD,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;YACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBACxB,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBAAE,OAAO,CAAC,CAAC;gBAC5B,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBAAE,OAAO,CAAC,CAAC,CAAC;aAChC;YACD,OAAO,EAAE,CAAC,MAAM,KAAK,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxE,CAAC;;IA5HD,iEAAiE;IACzC,mBAAU,GAAwB;QACtD,EAAE,aAAa,EAAE,iCAAe,CAAC,aAAa,EAAE,SAAS,EAAE,IAAI,iCAAe,EAAE,EAAE;QAClF,EAAE,aAAa,EAAE,2BAAY,CAAC,aAAa,EAAE,SAAS,EAAE,IAAI,2BAAY,EAAE,EAAE;KAC/E,CAAC;IAyHN,eAAC;KAAA;AA9HY,4BAAQ;;;;;;;;;;;;;;ACNrB;;;;GAIG;AACH;IAAA,MAAsB,gBAAgB;QAAtC;YAKY,YAAO,GAAY,KAAK,CAAC;QAqZrC,CAAC;QAzYG,IAAW,yBAAyB;YAChC,OAAO,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;QACpC,CAAC;QACD,IAAW,yBAAyB;YAChC,OAAO,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;QACpC,CAAC;QAED;;;;WAIG;QACO,KAAK,CAAC,MAAc;YAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;YAC5B,aAAa;YACb,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,oCAAoC,MAAM,EAAE,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QAC9F,CAAC;QAED;;;WAGG;QACU,OAAO,CAAC,IAAU;;gBAC3B,sDAAsD;gBACtD,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,qDAAqD,IAAI,CAAC,yBAAyB,OAAO,IAAI,CAAC,yBAAyB,GAAG,CAAC,CAAC;gBACnJ,sDAAsD;gBACtD,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,uDAAuD,EAAE;oBAC3E,SAAS,EAAE,IAAI;iBAClB,CAAC,CAAC;gBAEH,mFAAmF;gBACnF,8CAA8C;gBAC9C,MAAM,aAAa,GAA8B,IAAI,GAAG,EAAwB,CAAC;gBAEjF,sBAAsB;gBACtB,MAAM,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBACnD,IAAI,IAAI,CAAC,OAAO,EAAE;oBACd,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAC7C;gBACD,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBAC7C,MAAM,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBACpD,IAAI,IAAI,CAAC,OAAO,EAAE;oBACd,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAC7C;gBAED,uBAAuB;gBACvB,MAAM,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBACpD,IAAI,IAAI,CAAC,OAAO,EAAE;oBACd,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAC7C;gBACD,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBAC9C,MAAM,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBACrD,IAAI,IAAI,CAAC,OAAO,EAAE;oBACd,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAC7C;gBAED,uBAAuB;gBACvB,MAAM,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBACpD,IAAI,IAAI,CAAC,OAAO,EAAE;oBACd,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAC7C;gBACD,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBAC9C,MAAM,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;gBACrD,IAAI,IAAI,CAAC,OAAO,EAAE;oBACd,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAC7C;gBAED,8EAA8E;gBAC9E,MAAM,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;gBAEhC,MAAM,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,WAAW,EAAE,gBAAgB,CAAC,gBAAgB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC7G,sDAAsD;gBACtD,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,+DAA+D,IAAI,CAAC,aAAa,GAAG,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;YACrI,CAAC;SAAA;QAED;;;WAGG;QACa,KAAK,CAAC,aAAwC;;gBAC1D,KAAK,MAAM,CAAC,MAAM,EAAE,EAAE,UAAU,EAAE,aAAa,EAAE,CAAC,IAAI,aAAa,EAAE;oBACjE,IAAI,aAAa,KAAK,IAAI,EAAE;wBACxB,MAAM,KAAK,GAAG,MAAkB,CAAC;wBACjC,MAAM,KAAK,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;qBAC9C;oBACD,MAAM,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC;iBAC5D;YACL,CAAC;SAAA;QAED;;;;WAIG;QACa,aAAa,CAAC,IAAU,EAAE,aAAwC;;gBAC9E,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;oBACtC,IAAI;wBACA,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,EAAE;4BAC7C,SAAS;yBACZ;wBAED,IAAI,KAAK,CAAC,GAAG,KAAK,kBAAkB,EAAE;4BAClC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;4BAChC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;yBACtB;wBAED,OAAO,CAAC,GAAG,CAAC,0BAA0B,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;wBACpD,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;wBAEtE,IAAI,eAAe,GAAG,KAAK,CAAC;wBAC5B,UAAU,CAAC,MAAM,GAAG,MAAM,OAAO,CAAC,GAAG;wBACjC,aAAa;wBACb,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAO,KAAK,EAAE,EAAE;4BAClC,IAAI,aAAa,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;gCAChC,OAAO,KAAK,CAAC;6BAChB;4BAED,IAAI,eAAe,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;4BACnE,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,EAAE;gCACjC,eAAe,GAAG,IAAI,CAAC;gCACvB,eAAe,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC;gCAEnC,MAAM,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;gCAClC,QAAQ,CAAC,SAAS,GAAG,MAAM,WAAW,CAAC,KAAK,CAAC,SAAS,EAAE,eAAe,EAAE;oCACrE,YAAY,EAAE,KAAK;oCACnB,OAAO,EAAE,KAAK;iCACjB,CAAC,CAAC;gCACH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gCACtB,OAAO,QAAQ,CAAC;6BACnB;iCAAM;gCACH,OAAO,KAAK,CAAC;6BAChB;wBACL,CAAC,CAAA,CAAC,CACL,CAAC;wBACF,IAAI,KAAK,CAAC,GAAG,KAAK,kBAAkB,EAAE;4BAClC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;4BAChC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;yBACtB;wBAED,IAAI,aAAa,CAAC,UAAU,CAAC,EAAE;4BAC3B,SAAS;yBACZ;wBAED,YAAY,CAAC,UAAU,CAAC,CAAC;wBACzB,aAAa,CAAC,GAAG,CAAC,KAAK,EAAE;4BACrB,UAAU;4BACV,aAAa,EAAE,IAAI;yBACtB,CAAC,CAAC;qBACN;oBAAC,OAAO,KAAK,EAAE;wBACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBACrB,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAChC;iBACJ;YACL,CAAC;SAAA;QACD;;;;WAIG;QACa,YAAY,CAAC,IAAU,EAAE,aAAwC;;gBAC7E,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;oBACpC,IAAI;wBACA,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;4BAChD,SAAS;yBACZ;wBAED,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;wBAC5C,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAEzD,IAAI,aAAa,CAAC,UAAU,CAAC,EAAE;4BAC3B,SAAS;yBACZ;wBAED,YAAY,CAAC,UAAU,CAAC,CAAC;wBACzB,aAAa,CAAC,GAAG,CAAC,IAAI,EAAE;4BACpB,UAAU;4BACV,aAAa,EAAE,IAAI;yBACtB,CAAC,CAAC;qBACN;oBAAC,OAAO,KAAK,EAAE;wBACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBACrB,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAChC;iBACJ;YACL,CAAC;SAAA;QACD;;;;WAIG;QACa,aAAa,CAAC,IAAU,EAAE,aAAwC;;gBAC9E,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;oBACtC,IAAI;wBACA,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE;4BAClD,SAAS;yBACZ;wBAED,OAAO,CAAC,GAAG,CAAC,mBAAmB,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;wBAC7C,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;wBACnB,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;wBACtE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;wBACxB,IAAI,KAAK,GAAG,EAAE,CAAC;wBACf,IAAI,UAAU,CAAC,KAAK,EAAE;4BAClB,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;4BACzB,OAAO,UAAU,CAAC,KAAK,CAAC;yBAC3B;wBAED,YAAY,CAAC,UAAU,CAAC,CAAC;wBACzB,aAAa,CAAC,GAAG,CAAC,KAAK,EAAE;4BACrB,UAAU;4BACV,aAAa,EAAE,KAAK;yBACvB,CAAC,CAAC;qBACN;oBAAC,OAAO,KAAK,EAAE;wBACZ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBACrB,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAChC;iBACJ;YACL,CAAC;SAAA;QAED;;;;WAIG;QACa,iBAAiB,CAAC,SAAoB,EAAE,UAAU;;gBAC9D,IAAI,cAAc,GAAG,KAAK,CAAC;gBAC3B,aAAa;gBACb,IAAI,SAAS,CAAC,KAAK,KAAK,SAAS,EAAE;oBAC/B,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,GAAG;oBAC3B,aAAa;oBACb,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAO,IAAI,EAAE,EAAE;wBAC/B,IAAI,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBAElD,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE;4BAC5B,cAAc,GAAG,IAAI,CAAC;4BACtB,UAAU,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;4BAC7B,OAAO,MAAM,WAAW,CAAC,IAAI,EAAE,UAAU,EAAE;gCACvC,YAAY,EAAE,KAAK;gCACnB,OAAO,EAAE,KAAK;6BACjB,CAAC,CAAC;yBACN;6BAAM;4BACH,OAAO,IAAI,CAAC;yBACf;oBACL,CAAC,CAAA,CAAC,CACL,CAAC;oBACF,IAAI,cAAc,EAAE;wBAChB,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC;qBAC5B;iBACJ;gBAED,OAAO,UAAU,CAAC;YACtB,CAAC;SAAA;QAED;;;;WAIG;QACa,sBAAsB,CAAC,KAAY;;gBAC/C,OAAO,KAAK,CAAC;YACjB,CAAC;SAAA;QACD;;;;WAIG;QACa,gBAAgB,CAAC,KAAU;;gBACvC,OAAO,EAAE,CAAC;YACd,CAAC;SAAA;QACD;;;;WAIG;QACa,mBAAmB,CAAC,IAAU,EAAE,aAAwC;kEAAkB,CAAC;SAAA;QAC3G;;;;WAIG;QACa,oBAAoB,CAAC,IAAU,EAAE,aAAwC;kEAAkB,CAAC;SAAA;QAE5G;;;;WAIG;QACa,qBAAqB,CAAC,IAAoB;;gBACtD,OAAO,KAAK,CAAC;YACjB,CAAC;SAAA;QACD;;;;WAIG;QACa,eAAe,CAAC,IAAoB;;gBAChD,OAAO,EAAE,CAAC;YACd,CAAC;SAAA;QACD;;;;WAIG;QACa,kBAAkB,CAAC,IAAU,EAAE,aAAwC;kEAAkB,CAAC;SAAA;QAC1G;;;;WAIG;QACa,mBAAmB,CAAC,IAAU,EAAE,aAAwC;kEAAkB,CAAC;SAAA;QAE3G;;;;WAIG;QACa,sBAAsB,CAAC,KAAgB;;gBACnD,OAAO,KAAK,CAAC;YACjB,CAAC;SAAA;QACD;;;;WAIG;QACa,gBAAgB,CAAC,KAAgB;;gBAC7C,OAAO,EAAE,CAAC;YACd,CAAC;SAAA;QACD;;;;WAIG;QACa,mBAAmB,CAAC,IAAU,EAAE,aAAwC;kEAAkB,CAAC;SAAA;QAC3G;;;;WAIG;QACa,oBAAoB,CAAC,IAAU,EAAE,aAAwC;kEAAkB,CAAC;SAAA;QAE5G;;;WAGG;QACU,qBAAqB,CAAC,IAAgB;;gBAC/C,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACpC,IAAI,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC;oBAAE,OAAO;gBAEzD,oFAAoF;gBACpF,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBACvB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;gBAExC,4EAA4E;gBAC5E,KAAK,IAAI,GAAG,IAAI,OAAO,EAAE;oBACrB,IAAI;wBACA,IAAI,UAAU,GAAQ,IAAI,CAAC;wBAC3B,IAAI,MAAM,KAAK,MAAM,EAAE;4BACnB,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;4BAElD,IAAI,aAAa,CAAC,UAAU,CAAC,EAAE;gCAC3B,SAAS;6BACZ;4BAED,YAAY,CAAC,UAAU,CAAC,CAAC;4BACzB,UAAU,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC;4BAC5B,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;4BACpC,uEAAuE;4BACvE,mCAAmC;4BACnC,0DAA0D;4BAC1D,EAAE;4BACF,uCAAuC;4BACvC,oBAAoB;4BACpB,QAAQ;4BACR,EAAE;4BACF,mCAAmC;4BACnC,2CAA2C;yBAC9C;6BAAM,IAAI,MAAM,KAAK,OAAO,EAAE;4BAC3B,UAAU,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;4BAEnD,IAAI,aAAa,CAAC,UAAU,CAAC,EAAE;gCAC3B,SAAS;6BACZ;4BAED,YAAY,CAAC,UAAU,CAAC,CAAC;4BACzB,UAAU,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC;4BAC5B,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;yBACvC;qBACJ;oBAAC,OAAO,GAAG,EAAE;wBACV,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;qBACtB;iBACJ;gBACD,OAAO,CAAC,GAAG,CAAC,gBAAgB,MAAM,6BAA6B,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;YACtF,CAAC;SAAA;;IAxZe,4BAAW,GAAG,aAAa,CAAC;IAC5B,iCAAgB,GAAG,wBAAwB,CAAC;IAC5C,2BAAU,GAAG,GAAG,CAAC;IAuZrC,uBAAC;KAAA;AA1ZqB,4CAAgB;;;;;;;;;;;;;;ACPtC,0DAAuD;AAEvD;;GAEG;AACH,MAAa,eAAgB,SAAQ,mCAAgB;IACjD,IAAI,aAAa;QACb,OAAO,GAAG,CAAC;IACf,CAAC;IACD,IAAI,aAAa;QACb,OAAO,eAAe,CAAC,aAAa,CAAC;IACzC,CAAC;IACD,MAAM,KAAK,aAAa;QACpB,OAAO,OAAO,CAAC;IACnB,CAAC;IAEe,gBAAgB,CAAC,SAAoB;;YACjD,IAAI,UAAU,GAAQ,EAAE,CAAC;YACzB,eAAe,CAAC,oBAAoB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;YAC5D,eAAe,CAAC,kBAAkB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;YAE1D,UAAU,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;YAEjE,OAAO,UAAU,CAAC;QACtB,CAAC;KAAA;IAEe,eAAe,CAAC,IAAoB;;YAChD,MAAM,UAAU,GAAG,EAAE,CAAC;YACtB,eAAe,CAAC,2BAA2B,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YAC9D,eAAe,CAAC,sBAAsB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YACzD,eAAe,CAAC,oBAAoB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YACvD,eAAe,CAAC,uBAAuB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YAC1D,eAAe,CAAC,gBAAgB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YACnD,eAAe,CAAC,mBAAmB,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;YACtD,OAAO,UAAU,CAAC;QACtB,CAAC;KAAA;IAEe,gBAAgB,CAAC,KAAU;;YACvC,OAAO,EAAE,CAAC;QACd,CAAC;KAAA;IAEe,sBAAsB,CAAC,SAAoB;;YACvD,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAEe,qBAAqB,CAAC,IAAoB;;YACtD,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;IAEe,sBAAsB,CAAC,KAAY;;;YAC/C,aAAa;YACb,OAAO,OAAA,KAAK,CAAC,IAAI,CAAC,MAAM,0CAAE,MAAM,IAAG,CAAC,CAAC;;KACxC;IAED;;;;;OAKG;IACK,MAAM,CAAC,oBAAoB,CAAC,SAAS,EAAE,UAAU;QACrD,IAAI,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,yBAAyB,CAAC,KAAK,CAAC,EAAE;YAC9D,UAAU,CAAC,oCAAoC,CAAC,GAAG,CAAC,CAAC;YACrD,UAAU,CAAC,kCAAkC,CAAC,GAAG,CAAC,CAAC;SACtD;IACL,CAAC;IAED;;;;OAIG;IACK,MAAM,CAAC,kBAAkB,CAAC,SAAS,EAAE,UAAU;;QACnD,IAAI,cAAC,SAAS,CAAC,IAAI,0CAAE,MAAM,0CAAE,MAAM,CAAA;YAAE,OAAO;QAC5C,MAAM,UAAU,GAAG,UAAU,CAAC;QAE9B,MAAM,OAAO,GAAG,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,EAAE;YACpC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,EAAE;gBACxC,OAAO,CAAC,GAAG,CAAC,GAAG;oBACX,KAAK,EAAE,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;iBAC7D,CAAC;aACL;YACD,OAAO,OAAO,CAAC;QACnB,CAAC,CAAC;QAEF,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE;YACvB,UAAU,CAAC,oBAAoB,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;YACpG,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;gBACjC,UAAU,CAAC,oCAAoC,CAAC,GAAG,MAAM,CAAC,OAAO,mBAAC,SAAS,CAAC,IAAI,CAAC,MAAM,0CAAE,SAAS,0CAAE,MAAM,0CAAE,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACvI,UAAU,CAAC,0CAA0C,CAAC,GAAG,MAAM,CAAC,OAAO,mBAAC,SAAS,CAAC,IAAI,CAAC,MAAM,0CAAE,SAAS,0CAAE,YAAY,0CAAE,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBACnJ,UAAU,CAAC,sCAAsC,CAAC,GAAG,MAAM,CAAC,OAAO,mBAAC,SAAS,CAAC,IAAI,CAAC,MAAM,0CAAE,SAAS,0CAAE,QAAQ,0CAAE,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;gBAC3I,UAAU,CAAC,uCAAuC,CAAC,GAAG,MAAM,CAAC,OAAO,mBAAC,SAAS,CAAC,IAAI,CAAC,MAAM,0CAAE,SAAS,0CAAE,SAAS,0CAAE,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aAChJ;YACD,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;gBAChC,UAAU,CAAC,4BAA4B,CAAC,GAAG,MAAM,CAAC,OAAO,aAAC,SAAS,CAAC,IAAI,CAAC,MAAM,0CAAE,QAAQ,0CAAE,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;aACzH;SACJ;IACL,CAAC;IAED;;;;OAIG;IACK,MAAM,CAAC,2BAA2B,CAAC,IAAI,EAAE,UAAU;QACvD,gDAAgD;QAChD,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAClB,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAChC,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,KAAK,QAAQ,EAAE;gBACxC,UAAU,CAAC,8BAA8B,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;aAC7E;YACD,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,OAAO,KAAK,QAAQ,EAAE;gBAC3C,UAAU,CAAC,iCAAiC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;aACnF;SACJ;IACL,CAAC;IAED;;;;OAIG;IACK,MAAM,CAAC,gBAAgB,CAAC,IAAI,EAAE,UAAU;QAC5C,iCAAiC;QACjC,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;YACxD,IAAI,WAAW,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;YACvC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;gBAC3E,uBAAuB;gBACvB,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBACrC,WAAW,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;gBAClC,WAAW,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;aACjC;YACD,UAAU,CAAC,WAAW,CAAC,GAAG;gBACtB,WAAW,EAAE;oBACT,KAAK,EAAE,CAAC;oBACR,GAAG,EAAE,CAAC;iBACT;gBACD,OAAO,EAAE;oBACL,KAAK,EAAE,WAAW,CAAC,KAAK;oBACxB,GAAG,EAAE,WAAW,CAAC,GAAG;iBACvB;aACJ,CAAC;SACL;IACL,CAAC;IAED;;;;OAIG;IACK,MAAM,CAAC,mBAAmB,CAAC,IAAI,EAAE,UAAU;;QAC/C,IAAI,OAAA,IAAI,CAAC,IAAI,CAAC,UAAU,0CAAE,cAAc,MAAK,SAAS,EAAE;YACpD,UAAU,CAAC,yBAAyB,CAAC,GAAG;gBACpC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc;aAC5C,CAAC;SACL;IACL,CAAC;IAED;;;;OAIG;IACK,MAAM,CAAC,uBAAuB,CAAC,IAAI,EAAE,UAAU;QACnD,IAAI,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACnC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;gBAClC,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;aAChC;SACJ;IACL,CAAC;IAED;;;;OAIG;IACK,MAAM,CAAC,sBAAsB,CAAC,IAAI,EAAE,UAAU;QAClD,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YAC9C,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;gBAChC,MAAM,MAAM,GAAG;oBACX,IAAI,EAAE,EAAE;oBACR,QAAQ,EAAE,EAAE;oBACZ,SAAS,EAAE,EAAE;oBACb,UAAU,EAAE,EAAE;oBACd,KAAK,EAAE,EAAE;oBACT,IAAI,EAAE,KAAK;oBACX,GAAG,EAAE,CAAC;oBACN,KAAK,EAAE;wBACH,KAAK,EAAE,CAAC;wBACR,SAAS,EAAE,EAAE;qBAChB;oBACD,QAAQ,EAAE,KAAK;oBACf,MAAM,EAAE;wBACJ,IAAI,EAAE,EAAE;wBACR,OAAO,EAAE,EAAE;wBACX,KAAK,EAAE,CAAC;wBACR,EAAE,EAAE;4BACA,KAAK,EAAE,CAAC;yBACX;wBACD,SAAS,EAAE,EAAE;qBAChB;oBACD,OAAO,EAAE;wBACL,IAAI,EAAE,EAAE;wBACR,SAAS,EAAE,EAAE;wBACb,UAAU,EAAE,EAAE;wBACd,KAAK,EAAE,EAAE;wBACT,GAAG,EAAE,CAAC;wBACN,WAAW,EAAE,EAAE;qBAClB;iBACJ,CAAC;gBACF,IAAI,CAAC,UAAU,CAAC,IAAI;oBAAE,UAAU,CAAC,IAAI,GAAG,EAAE,CAAC;gBAC3C,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;aACnC;SACJ;IACL,CAAC;CACJ;AAlND,0CAkNC;;;;;;;;;;;;;;ACvND,0DAAuD;AAEvD;;GAEG;AACH,MAAa,YAAa,SAAQ,mCAAgB;IAC9C,IAAI,aAAa;QACb,OAAO,OAAO,CAAC;IACnB,CAAC;IACD,IAAI,aAAa;QACb,OAAO,YAAY,CAAC,aAAa,CAAC;IACtC,CAAC;IACD,MAAM,KAAK,aAAa;QACpB,OAAO,OAAO,CAAC;IACnB,CAAC;IAEe,gBAAgB,CAAC,SAAoB;;YACjD,IAAI,UAAU,GAAQ,EAAE,CAAC;YACzB,IAAI,UAAU,CAAC,IAAI,KAAK,SAAS;gBAAE,UAAU,CAAC,IAAI,GAAG,EAAE,CAAC;YACxD,UAAU,CAAC,IAAI,CAAC,sBAAsB,GAAG,WAAW,CAAC;YACrD,OAAO,UAAU,CAAC;QACtB,CAAC;KAAA;IAEe,sBAAsB,CAAC,SAAc;;YACjD,OAAO,SAAS,CAAC,IAAI,CAAC,sBAAsB,KAAK,SAAS,CAAC;QAC/D,CAAC;KAAA;IAEe,sBAAsB,CAAC,KAAY;;;YAC/C,aAAa;YACb,OAAO,OAAA,KAAK,CAAC,IAAI,CAAC,MAAM,0CAAE,MAAM,IAAG,CAAC,CAAC;;KACxC;CACJ;AA1BD,oCA0BC;;;;;AC/BD,6CAAgE;AAIhE,MAAa,aAAc,SAAQ,uBAAU;IACzC,YAAY,MAA0B,EAAE,KAAgB,EAAE,OAA8B;QACpF,KAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QAEtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC;IACjC,CAAC;CACJ;AAND,sCAMC;;;;;ACDD,MAAsB,UAAW,SAAQ,WAAW;IAuBhD,YAAsB,KAAgB,EAAE,OAA8B;QAClE,KAAK,CAAC,OAAO,CAAC,CAAC;QAEf,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IA3BD,MAAM,KAAK,cAAc;QACrB,MAAM,OAAO,GAAG,KAAK,CAAC,cAAc,CAAC;QACrC,OAAO,CAAC,eAAe,GAAG,eAAe,CAAC;QAC1C,OAAO,CAAC,OAAO,GAAG,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;QACzC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;QACpB,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;QAExB,aAAa;QACb,OAAO,CAAC,KAAK,GAAG,aAAa,CAAC;QAC9B,OAAO,OAAO,CAAC;IACnB,CAAC;IAED;;OAEG;IACH,IAAW,QAAQ;QACf,OAAO,gEAAgE,CAAC;IAC5E,CAAC;IAYS,iBAAiB,CAAC,IAAuC;QAC/D,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;QAE9B,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1C,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE;YAC9B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SACvB;QAED,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACrE,CAAC;IAES,aAAa,CAAC,KAAY;QAChC,KAAK,CAAC,cAAc,EAAE,CAAC;QAEvB,IAAI,IAAI,GAAa,EAAE,CAAC;QACxB,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE;YAC9B,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;SACpC;QAED,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QACrC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnB,uBAAuB;IAC3B,CAAC;CACJ;AArDD,gCAqDC;;;;;AC9DD,oDAAiD;AAIpC,QAAA,6BAA6B,GAAG,qBAAqB,CAAC;AAEnE,MAAa,wBAAyB,SAAQ,yBAAW;IACrD,YAAmB,eAAuB;QACtC,KAAK,CAAC,sBAAsB,EAAE,yBAAyB,EAAE,eAAe,CAAC,CAAC;IAC9E,CAAC;IAED,OAAO,CAAC,KAAe,EAAE,IAAc;QACnC,IAAI,CAAC,qCAA6B,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC1D,CAAC;CACJ;AARD,4DAQC;;;;;ACdD,oDAAiD;AAGjD,oEAAiE;AAGjE,MAAa,UAAW,SAAQ,yBAAW;IAChC,MAAM,CAAC,UAAU;QACpB,MAAM,OAAO,GAAG,OAAO,CAAC;QACxB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,+BAAc,CAAC,CAAC;QACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAClC,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACrC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACtB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACvB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,MAAM,CAAC,SAAS;QACnB,OAAO,MAAM,CAAC,MAAM,CAAC,+BAAc,CAAC,CAAC;IACzC,CAAC;IAED,YAAY,YAA4B;QACpC,KAAK,CAAC,OAAO,EAAE,WAAW,EAAE,YAAY,CAAC,QAAQ,EAAE,EAAE,UAAU,CAAC,UAAU,EAAE,EAAE,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC;IAC1G,CAAC;IAED,OAAO,CAAC,KAA2B,EAAE,IAAc;QAC/C,4CAA4C;QAC5C,yDAAyD;QACzD,4DAA4D;QAC5D,4DAA4D;QAC5D,MAAM,SAAS,GAAiB,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,CAAC,IAAI,CAAC;QACjD,IAAI,CAAC,OAAO,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QACzD,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;IAClF,CAAC;CACJ;AA7BD,gCA6BC;;;;;AChCD,MAAsB,WAAuD,SAAQ,WAAW;IAiB5F,iBAAiB;IAEjB,oDAAoD;IAEpD,YAAsB,EAAU,EAAE,KAAa,EAAE,KAAa;QAC1D,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAEpB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC3C,CAAC;IAED,iBAAiB;IAEjB,yCAAyC;IAEzC,YAAY;IAEZ;;OAEG;IACH,IAAW,KAAK;QACZ,OAAO,YAAY,CAAC;IACxB,CAAC;IAED,eAAe;IAEf;;OAEG;IACI,QAAQ;QACX,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED;;;OAGG;IACI,QAAQ,CAAC,KAAa;QACzB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,iBAAiB;IAEjB,wCAAwC;IAExC;;;OAGG;IACI,aAAa,CAAC,IAAuB;QACxC,OAAO,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC;IAChC,CAAC;IAED;;;OAGG;IACK,iBAAiB;QACrB,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACjC,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAEjC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChD,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE/C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAEnB,IAAI,CAAC,wBAAwB,EAAE,CAAC;IACpC,CAAC;IAED;;OAEG;IACO,wBAAwB,KAAI,CAAC;IAEvC;;OAEG;IACO,WAAW;QACjB,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAE9C,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACvC,KAAK,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC;QACvD,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEpD,OAAO,KAAK,CAAC;IACjB,CAAC;CAqBJ;AA/HD,kCA+HC;;;;;AClID,+CAA4C;AAE5C,MAAsB,WAAY,SAAQ,yBAAmB;IACzD,YAAsB,EAAU,EAAE,KAAa,EAAE,KAAa;QAC1D,KAAK,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QACxB,yBAAyB;IAC7B,CAAC;IAEM,QAAQ,CAAC,KAAsB;QAClC,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC3B,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;SAC3B;QAED,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC1B,CAAC;IAES,WAAW;QACjB,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAE9C,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACvC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,CAAC;QAEzC,KAAK,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAErC,OAAO,KAAK,CAAC;IACjB,CAAC;IAES,cAAc,CAAC,KAAY;QACjC,MAAM,KAAK,GAAqB,KAAK,CAAC,aAAiC,CAAC;QACxE,MAAM,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QAEvC,IAAI,WAAW,KAAK,EAAE,EAAE;YACpB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SACpB;aAAM;YACH,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;SAC9B;IACL,CAAC;CACJ;AAnCD,kCAmCC;;;;;ACrCD,+CAA4C;AAE5C,MAAsB,WAAY,SAAQ,yBAAmB;IAIzD,YAAsB,EAAU,EAAE,KAAa,EAAE,KAAa,EAAE,OAAiB,EAAE,MAAgB;QAC/F,KAAK,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QAExB,IAAI,OAAO,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM,EAAE;YAClC,MAAM,IAAI,KAAK,CAAC,+CAA+C,OAAO,CAAC,MAAM,wBAAwB,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;SACzH;QAED,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IAC1B,CAAC;IAES,aAAa;QACnB,MAAM,OAAO,GAAwB,EAAE,CAAC;QACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC3C,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAE9B,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACjD,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;YACtB,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC;YAC3B,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACzB;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAES,cAAc,CAAC,KAAY;QACjC,KAAK,CAAC,cAAc,EAAE,CAAC;IAG3B,CAAC;IAES,WAAW;QACjB,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAEhD,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACxC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,CAAC;QAE1C,MAAM,CAAC,QAAQ,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAElD,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACrC,MAAM,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,CAAC;QAC1B,OAAO,MAAM,CAAC;IAClB,CAAC;CACJ;AA/CD,kCA+CC;;;;;ACjDD,gFAA6E;AAC7E,oDAAiD;AAEpC,QAAA,sBAAsB,GAAG,GAAG,EAAE;IACvC,OAAO,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;IACjD,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE,mDAAwB,CAAC,CAAC;IACvE,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,aAAa,EAAE,uBAAU,CAAC,CAAC;AAC5D,CAAC,CAAC;;;ACPF,iCAAiC;;;AAEjC,kEAA+D;AAC/D,2CAA0C;AAE7B,QAAA,sBAAsB,GAAG,GAAG,EAAE;IAEvC;;OAEG;IACH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,uBAAW,EAAE,kBAAkB,EAAE;QACpD,IAAI,EAAE,+BAA+B;QACrC,IAAI,EAAE,sCAAsC;QAC5C,KAAK,EAAE,OAAO;QACd,MAAM,EAAE,IAAI;QACZ,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,OAAO;QAChB,OAAO,EAAE;YACL,OAAO,EAAE,yBAAyB;YAClC,OAAO,EAAE,2BAA2B;SACvC;QACD,QAAQ,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;KACxD,CAAC,CAAC;IAEH;;OAEG;IACH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,uBAAW,EAAE,aAAa,EAAE;QAC/C,IAAI,EAAE,0BAA0B;QAChC,IAAI,EAAE,iCAAiC;QACvC,KAAK,EAAE,OAAO;QACd,MAAM,EAAE,IAAI;QACZ,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,IAAI;KAChB,CAAC,CAAC;IAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,uBAAW,EAAE,wBAAwB,EAAE;QAC1D,IAAI,EAAE,qCAAqC;QAC3C,IAAI,EAAE,4CAA4C;QAClD,KAAK,EAAE,MAAM;QACb,MAAM,EAAE,IAAI;QACZ,IAAI,EAAE,OAAO;QACb,OAAO,EAAE,KAAK;KACjB,CAAC,CAAC;IAEH;;OAEG;IACH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,uBAAW,EAAE,mCAAgB,CAAC,gBAAgB,EAAE;QACnE,IAAI,EAAE,sBAAsB;QAC5B,KAAK,EAAE,OAAO;QACd,MAAM,EAAE,KAAK;QACb,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,GAAG;KACf,CAAC,CAAC;AACP,CAAC,CAAC;;;;;ACvDF;;;GAGG;AACH,IAAY,cA4EX;AA5ED,WAAY,cAAc;IACtB,qCAAmB,CAAA;IACnB,2CAAyB,CAAA;IACzB,mCAAiB,CAAA;IACjB,iCAAe,CAAA;IACf,8CAA4B,CAAA;IAC5B,8CAA4B,CAAA;IAC5B,gDAA8B,CAAA;IAC9B,uCAAqB,CAAA;IACrB,qCAAmB,CAAA;IACnB,sDAAoC,CAAA;IACpC,kDAAgC,CAAA;IAChC,uCAAqB,CAAA;IACrB,mCAAiB,CAAA;IACjB,gDAA8B,CAAA;IAC9B,wCAAsB,CAAA;IACtB,2CAAyB,CAAA;IACzB,qCAAmB,CAAA;IACnB,2CAAyB,CAAA;IACzB,qCAAmB,CAAA;IACnB,uCAAqB,CAAA;IACrB,uCAAqB,CAAA;IACrB,uCAAqB,CAAA;IACrB,uCAAqB,CAAA;IACrB,6BAAW,CAAA;IACX,yCAAuB,CAAA;IACvB,iDAA+B,CAAA;IAC/B,6CAA2B,CAAA;IAC3B,+CAA6B,CAAA;IAC7B,2CAAyB,CAAA;IACzB,6CAA2B,CAAA;IAC3B,6CAA2B,CAAA;IAC3B,qCAAmB,CAAA;IACnB,mCAAiB,CAAA;IACjB,2CAAyB,CAAA;IACzB,yCAAuB,CAAA;IACvB,gDAA8B,CAAA;IAC9B,yCAAuB,CAAA;IACvB,qCAAmB,CAAA;IACnB,qDAAmC,CAAA;IACnC,iDAA+B,CAAA;IAC/B,4DAA0C,CAAA;IAC1C,+CAA6B,CAAA;IAC7B,yCAAuB,CAAA;IACvB,yCAAuB,CAAA;IACvB,6CAA2B,CAAA;IAC3B,6CAA2B,CAAA;IAC3B,8DAA4C,CAAA;IAC5C,4DAA0C,CAAA;IAC1C,4DAA0C,CAAA;IAC1C,wDAAsC,CAAA;IACtC,oDAAkC,CAAA;IAClC,qCAAmB,CAAA;IACnB,qCAAmB,CAAA;IACnB,iDAA+B,CAAA;IAC/B,yCAAuB,CAAA;IACvB,uCAAqB,CAAA;IACrB,6CAA2B,CAAA;IAC3B,qDAAmC,CAAA;IACnC,6CAA2B,CAAA;IAC3B,0DAAwC,CAAA;IACxC,wCAAsB,CAAA;IACtB,qCAAmB,CAAA;IACnB,qCAAmB,CAAA;IACnB,uCAAqB,CAAA;IACrB,yCAAuB,CAAA;IACvB,uCAAqB,CAAA;IACrB,2CAAyB,CAAA;IACzB,uCAAqB,CAAA;IACrB,qCAAmB,CAAA;IACnB,oDAAkC,CAAA;IAClC,kDAAgC,CAAA;IAChC,8CAA4B,CAAA;IAC5B,yDAAuC,CAAA;IACvC,uDAAqC,CAAA;IACrC,6DAA2C,CAAA;AAC/C,CAAC,EA5EW,cAAc,GAAd,sBAAc,KAAd,sBAAc,QA4EzB","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import { Helpers } from '../helpers';\r\nimport { SR5Item } from '../item/SR5Item';\r\nimport ItemData = Shadowrun.ItemData;\r\nimport Attributes = Shadowrun.Attributes;\r\nimport Skills = Shadowrun.Skills;\r\nimport KnowledgeSkillList = Shadowrun.KnowledgeSkillList;\r\nimport KnowledgeSkills = Shadowrun.KnowledgeSkills;\r\nimport Limits = Shadowrun.Limits;\r\nimport Tracks = Shadowrun.Tracks;\r\nimport AttributeField = Shadowrun.AttributeField;\r\nimport Matrix = Shadowrun.Matrix;\r\nimport SkillField = Shadowrun.SkillField;\r\nimport ValueMaxPair = Shadowrun.ValueMaxPair;\r\nimport ModList = Shadowrun.ModList;\r\nimport BaseValuePair = Shadowrun.BaseValuePair;\r\nimport ModifiableValue = Shadowrun.ModifiableValue;\r\nimport LabelField = Shadowrun.LabelField;\r\nimport LimitField = Shadowrun.LimitField;\r\nimport { SYSTEM_NAME } from '../constants';\r\n\r\nexport class SR5Actor extends Actor {\r\n    async update(data, options?) {\r\n        await super.update(data, options);\r\n        // trigger update for all items with action\r\n        // needed for rolls to properly update when items or attributes update\r\n        const itemUpdates: Item[] = [];\r\n        // @ts-ignore\r\n        for (let item of this.data.items) {\r\n            if (item && item.data.action) {\r\n                itemUpdates.push(item);\r\n            }\r\n        }\r\n        await this.updateEmbeddedEntity('OwnedItem', itemUpdates);\r\n        return this;\r\n    }\r\n\r\n    getOverwatchScore() {\r\n        const os = this.getFlag(SYSTEM_NAME, 'overwatchScore');\r\n        return os !== undefined ? os : 0;\r\n    }\r\n\r\n    async setOverwatchScore(value) {\r\n        const num = parseInt(value);\r\n        if (!isNaN(num)) {\r\n            return this.setFlag(SYSTEM_NAME, 'overwatchScore', num);\r\n        }\r\n    }\r\n\r\n    prepareData() {\r\n        super.prepareData();\r\n\r\n        const actorData = this.data;\r\n        // @ts-ignore\r\n        const items: SR5Item[] = actorData.items;\r\n        const data = actorData.data;\r\n        const { attributes }: { attributes: Attributes } = data;\r\n        const armor = data.armor;\r\n        const { limits }: { limits: Limits } = data;\r\n        const { language }: { language: KnowledgeSkillList } = data.skills;\r\n        const { active }: { active: Skills } = data.skills;\r\n        const { knowledge: knowledge }: { knowledge: KnowledgeSkills } = data.skills;\r\n        const { track }: { track: Tracks } = data;\r\n\r\n        attributes.magic.hidden = !(data.special === 'magic');\r\n        attributes.resonance.hidden = !(data.special === 'resonance');\r\n\r\n        if (!data.modifiers) data.modifiers = {};\r\n        const modifiers = {};\r\n        let miscTabModifiers = [\r\n            'soak',\r\n            'drain',\r\n            'armor',\r\n            'physical_limit',\r\n            'social_limit',\r\n            'mental_limit',\r\n            'stun_track',\r\n            'physical_track',\r\n            'meat_initiative',\r\n            'meat_initiative_dice',\r\n            'astral_initiative',\r\n            'astral_initiative_dice',\r\n            'matrix_initiative',\r\n            'matrix_initiative_dice',\r\n            'composure',\r\n            'lift_carry',\r\n            'judge_intentions',\r\n            'memory',\r\n            'walk',\r\n            'run',\r\n            'defense',\r\n            'wound_tolerance',\r\n            'essence',\r\n            'fade',\r\n        ];\r\n        miscTabModifiers.sort();\r\n        miscTabModifiers.unshift('global');\r\n\r\n        for (let item of miscTabModifiers) {\r\n            modifiers[item] = data.modifiers[item] || 0;\r\n        }\r\n\r\n        data.modifiers = modifiers;\r\n\r\n        let totalEssence = 6;\r\n        armor.base = 0;\r\n        armor.value = 0;\r\n        armor.mod = {};\r\n        for (const element of Object.keys(CONFIG.SR5.elementTypes)) {\r\n            armor[element] = 0;\r\n        }\r\n\r\n        // DEFAULT MATRIX ATTS TO MOD VALUE\r\n        const matrix: Matrix = data.matrix;\r\n        matrix.firewall.value = Helpers.totalMods(matrix.firewall.mod);\r\n        matrix.data_processing.value = Helpers.totalMods(matrix.data_processing.mod);\r\n        matrix.attack.value = Helpers.totalMods(matrix.attack.mod);\r\n        matrix.sleaze.value = Helpers.totalMods(matrix.sleaze.mod);\r\n        matrix.condition_monitor.max = 0;\r\n        matrix.rating = 0;\r\n        matrix.name = '';\r\n        matrix.device = '';\r\n\r\n        // PARSE WEAPONS AND SET VALUES AS NEEDED\r\n        for (let item of Object.values(items)) {\r\n            const itemData: ItemData = (item.data as unknown) as ItemData;\r\n\r\n            const equipped = itemData.technology?.equipped;\r\n            if (equipped) {\r\n                if (itemData.armor && itemData.armor.value) {\r\n                    // if it's a mod, add to the mod field\r\n                    if (itemData.armor.mod) {\r\n                        armor.mod[item.name] = itemData.armor.value;\r\n                    } // if not a mod, set armor.value to the items value\r\n                    else {\r\n                        armor.base = itemData.armor.value;\r\n                        armor.label = item.name;\r\n                        for (const element of Object.keys(CONFIG.SR5.elementTypes)) {\r\n                            armor[element] = itemData.armor[element];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // MODIFIES ESSENCE\r\n            if (itemData.essence && itemData.technology && itemData.technology.equipped) {\r\n                totalEssence -= itemData.essence;\r\n            }\r\n            // MODIFIES MATRIX ATTRIBUTES\r\n            if (item.type === 'device' && itemData.technology?.equipped) {\r\n                matrix.device = item._id;\r\n                matrix.condition_monitor.max = itemData.technology.condition_monitor?.max || 0;\r\n                matrix.condition_monitor.value = itemData.technology.condition_monitor?.value || 0;\r\n                matrix.rating = itemData.technology.rating;\r\n                matrix.is_cyberdeck = itemData.category === 'cyberdeck';\r\n                matrix.name = item.name;\r\n                matrix.item = itemData;\r\n\r\n                if (itemData.category === 'cyberdeck' && itemData.atts) {\r\n                    for (let [key, att] of Object.entries(itemData.atts)) {\r\n                        matrix[att.att].value += att.value;\r\n                        matrix[att.att].device_att = key;\r\n                    }\r\n                } else {\r\n                    matrix.firewall.value += matrix.rating || 0;\r\n                    matrix.data_processing.value += matrix.rating || 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        armor.mod[game.i18n.localize('SR5.Bonus')] = modifiers['armor'];\r\n        // SET ARMOR\r\n        armor.value = armor.base + Helpers.totalMods(armor.mod);\r\n\r\n        // ATTRIBUTES\r\n        for (let [, att] of Object.entries(attributes)) {\r\n            if (!att.hidden) {\r\n                if (!att.mod) att.mod = {};\r\n                att.value = att.base + Helpers.totalMods(att.mod);\r\n            }\r\n        }\r\n\r\n        if (language) {\r\n            if (!language.value) language.value = {};\r\n            language.attribute = 'intuition';\r\n        }\r\n\r\n        const prepareSkill = (skill) => {\r\n            skill.mod = {};\r\n            if (!skill.base) skill.base = 0;\r\n            if (skill.bonus?.length) {\r\n                for (let bonus of skill.bonus) {\r\n                    skill.mod[bonus.key] = bonus.value;\r\n                }\r\n            }\r\n            skill.value = skill.base + Helpers.totalMods(skill.mod);\r\n        };\r\n\r\n        for (const skill of Object.values(active)) {\r\n            if (!skill.hidden) {\r\n                prepareSkill(skill);\r\n            }\r\n        }\r\n\r\n        {\r\n            const entries = Object.entries(data.skills.language.value);\r\n            // remove entries which are deleted TODO figure out how to delete these from the data\r\n            entries.forEach(([key, val]: [string, { _delete?: boolean }]) => val._delete && delete data.skills.language.value[key]);\r\n        }\r\n\r\n        for (let skill of Object.values(language.value)) {\r\n            prepareSkill(skill);\r\n        }\r\n\r\n        for (let [, group] of Object.entries(knowledge)) {\r\n            const entries = Object.entries(group.value);\r\n            // remove entries which are deleted TODO figure out how to delete these from the data\r\n            group.value = entries\r\n                .filter(([, val]) => !val._delete)\r\n                .reduce((acc, [id, skill]) => {\r\n                    prepareSkill(skill);\r\n                    acc[id] = skill;\r\n                    return acc;\r\n                }, {});\r\n        }\r\n\r\n        // TECHNOMANCER LIVING PERSONA\r\n        if (data.special === 'resonance') {\r\n            // if we don't have a device, use living persona\r\n            if (matrix.device === '') {\r\n                // we should use living persona\r\n                matrix.firewall.value += attributes.willpower.value;\r\n                matrix.data_processing.value += attributes.logic.value;\r\n                matrix.rating = attributes.resonance.value;\r\n                matrix.attack.value += attributes.charisma.value;\r\n                matrix.sleaze.value += attributes.intuition.value;\r\n                matrix.name = 'Living Persona';\r\n                matrix.device = '';\r\n                matrix.condition_monitor.max = 0;\r\n            }\r\n        }\r\n\r\n        // set matrix condition monitor to max if greater than\r\n        if (matrix.condition_monitor.value > matrix.condition_monitor.max) matrix.condition_monitor.value = matrix.condition_monitor.max;\r\n\r\n        // ADD MATRIX ATTS TO LIMITS\r\n        limits.firewall = {\r\n            value: matrix.firewall.value,\r\n            base: matrix.firewall.base,\r\n            mod: matrix.firewall.mod,\r\n            hidden: true,\r\n        };\r\n        limits.data_processing = {\r\n            value: matrix.data_processing.value,\r\n            base: matrix.data_processing.base,\r\n            mod: matrix.data_processing.mod,\r\n            hidden: true,\r\n        };\r\n        limits.attack = {\r\n            value: matrix.attack.value,\r\n            base: matrix.attack.base,\r\n            mod: matrix.attack.mod,\r\n            hidden: true,\r\n        };\r\n        limits.sleaze = {\r\n            value: matrix.sleaze.value,\r\n            base: matrix.sleaze.base,\r\n            mod: matrix.sleaze.mod,\r\n            hidden: true,\r\n        };\r\n\r\n        attributes.firewall = {\r\n            value: matrix.firewall.value,\r\n            base: matrix.firewall.base,\r\n            mod: matrix.firewall.mod,\r\n            hidden: true,\r\n        };\r\n        attributes.data_processing = {\r\n            value: matrix.data_processing.value,\r\n            base: matrix.data_processing.base,\r\n            mod: matrix.data_processing.mod,\r\n            hidden: true,\r\n        };\r\n        attributes.attack = {\r\n            value: matrix.attack.value,\r\n            base: matrix.attack.base,\r\n            mod: matrix.attack.mod,\r\n            hidden: true,\r\n        };\r\n        attributes.sleaze = {\r\n            value: matrix.sleaze.value,\r\n            base: matrix.sleaze.base,\r\n            mod: matrix.sleaze.mod,\r\n            hidden: true,\r\n        };\r\n\r\n        // SET ESSENCE\r\n        actorData.data.attributes.essence.value = +(totalEssence + modifiers['essence']).toFixed(3);\r\n\r\n        // SETUP LIMITS\r\n        limits.physical.value =\r\n            Math.ceil((2 * attributes.strength.value + attributes.body.value + attributes.reaction.value) / 3) + modifiers['physical_limit'];\r\n        limits.mental.value = Math.ceil((2 * attributes.logic.value + attributes.intuition.value + attributes.willpower.value) / 3) + modifiers['mental_limit'];\r\n        limits.social.value =\r\n            Math.ceil((2 * attributes.charisma.value + attributes.willpower.value + attributes.essence.value) / 3) + modifiers['social_limit'];\r\n\r\n        // MOVEMENT\r\n        const movement = data.movement;\r\n        movement.walk.value = attributes.agility.value * (2 + modifiers['walk']);\r\n        movement.run.value = attributes.agility.value * (4 + modifiers['run']);\r\n\r\n        // CONDITION_MONITORS\r\n        track.physical.max = 8 + Math.ceil(attributes.body.value / 2) + modifiers['physical_track'];\r\n        track.physical.overflow.max = attributes.body.value;\r\n        track.stun.max = 8 + Math.ceil(attributes.willpower.value / 2) + modifiers['stun_track'];\r\n\r\n        // CALCULATE RECOIL\r\n        data.recoil_compensation = 1 + Math.ceil(attributes.strength.value / 3);\r\n\r\n        // INITIATIVE\r\n        const init = data.initiative;\r\n        init.meatspace.base.base = attributes.intuition.value + attributes.reaction.value + modifiers['meat_initiative'];\r\n        init.meatspace.dice.base = 1 + modifiers['meat_initiative_dice'];\r\n        init.astral.base.base = attributes.intuition.value * 2 + modifiers['astral_initiative'];\r\n        init.astral.dice.base = 2 + modifiers['astral_initiative_dice'];\r\n        init.matrix.base.base = attributes.intuition.value + data.matrix.data_processing.value + modifiers['matrix_initiative'];\r\n        init.matrix.dice.base = data.matrix.hot_sim ? 4 : 3 + modifiers['matrix_initiative_dice'];\r\n        if (init.perception === 'matrix') init.current = init.matrix;\r\n        else if (init.perception === 'astral') init.current = init.astral;\r\n        else {\r\n            init.current = init.meatspace;\r\n            init.perception = 'meatspace';\r\n        }\r\n        init.current.dice.value = init.current.dice.base;\r\n        if (init.edge) init.current.dice.value = 5;\r\n        init.current.dice.value = Math.min(5, init.current.dice.value); // maximum of 5d6 for initiative\r\n        init.current.dice.text = `${init.current.dice.value}d6`;\r\n        init.current.base.value = init.current.base.base;\r\n\r\n        if (data.magic.drain && !data.magic.drain.mod) data.magic.drain.mod = {};\r\n\r\n        {\r\n            const count = 3 + modifiers['wound_tolerance'];\r\n            const stunWounds = Math.floor(data.track.stun.value / count);\r\n            const physicalWounds = Math.floor(data.track.physical.value / count);\r\n\r\n            data.track.stun.wounds = stunWounds;\r\n            data.track.physical.wounds = physicalWounds;\r\n\r\n            data.wounds = {\r\n                value: stunWounds + physicalWounds,\r\n            };\r\n        }\r\n\r\n        // limit labels\r\n        for (let [l, limit] of Object.entries(limits)) {\r\n            limit.label = CONFIG.SR5.limits[l];\r\n        }\r\n        // skill labels\r\n        for (let [s, skill] of Object.entries(active)) {\r\n            skill.label = CONFIG.SR5.activeSkills[s];\r\n        }\r\n        // attribute labels\r\n        for (let [a, att] of Object.entries(attributes)) {\r\n            att.label = CONFIG.SR5.attributes[a];\r\n        }\r\n        // tracks\r\n        for (let [t, tr] of Object.entries(track)) {\r\n            tr.label = CONFIG.SR5.damageTypes[t];\r\n        }\r\n    }\r\n\r\n    getModifier(modifierName: string): number | undefined {\r\n        return this.data.data.modifiers[modifierName];\r\n    }\r\n\r\n    findActiveSkill(skillName?: string): SkillField | undefined {\r\n        if (skillName === undefined) return undefined;\r\n        return this.data.data.skills.active[skillName];\r\n    }\r\n\r\n    findAttribute(attributeName?: string): AttributeField | undefined {\r\n        if (attributeName === undefined) return undefined;\r\n        return this.data.data.attributes[attributeName];\r\n    }\r\n\r\n    findLimitFromAttribute(attributeName?: string): LimitField | undefined {\r\n        if (attributeName === undefined) return undefined;\r\n        const attribute = this.findAttribute(attributeName);\r\n        if (!attribute?.limit) return undefined;\r\n        return this.findLimit(attribute.limit);\r\n    }\r\n\r\n    findLimit(limitName?: string): LimitField | undefined {\r\n        if (!limitName) return undefined;\r\n        return this.data.data.limits[limitName];\r\n    }\r\n\r\n    getWoundModifier(): number {\r\n        return -1 * this.data.data.wounds?.value || 0;\r\n    }\r\n\r\n    getEdge(): AttributeField & ValueMaxPair<number> {\r\n        return this.data.data.attributes.edge;\r\n    }\r\n\r\n    getArmor(): BaseValuePair<number> & ModifiableValue & LabelField {\r\n        return this.data.data.armor;\r\n    }\r\n\r\n    getOwnedItem(itemId: string): SR5Item | null {\r\n        return (super.getOwnedItem(itemId) as unknown) as SR5Item;\r\n    }\r\n\r\n    getMatrixDevice(): SR5Item | undefined | null {\r\n        const matrix = this.data.data.matrix;\r\n        console.log(matrix);\r\n        if (matrix.device) return this.getOwnedItem(matrix.device);\r\n        return undefined;\r\n    }\r\n\r\n    getFullDefenseAttribute(): AttributeField | undefined {\r\n        let att = this.data.data.full_defense_attribute;\r\n        if (!att) att = 'willpower';\r\n        return this.findAttribute(att);\r\n    }\r\n\r\n    getEquippedWeapons(): SR5Item[] {\r\n        return this.items.filter((item) => item.isEquipped() && item.data.type === 'weapon');\r\n    }\r\n\r\n    addKnowledgeSkill(category, skill?) {\r\n        const defaultSkill = {\r\n            name: '',\r\n            specs: [],\r\n            base: 0,\r\n            value: 0,\r\n            mod: 0,\r\n        };\r\n        skill = {\r\n            ...defaultSkill,\r\n            ...skill,\r\n        };\r\n\r\n        const id = randomID(16);\r\n        const value = {};\r\n        value[id] = skill;\r\n        const fieldName = `data.skills.knowledge.${category}.value`;\r\n        const updateData = {};\r\n        updateData[fieldName] = value;\r\n        this.update(updateData);\r\n    }\r\n\r\n    removeLanguageSkill(skillId) {\r\n        const value = {};\r\n        value[skillId] = { _delete: true };\r\n        this.update({ 'data.skills.language.value': value });\r\n    }\r\n\r\n    addLanguageSkill(skill) {\r\n        const defaultSkill = {\r\n            name: '',\r\n            specs: [],\r\n            base: 0,\r\n            value: 0,\r\n            mod: 0,\r\n        };\r\n        skill = {\r\n            ...defaultSkill,\r\n            ...skill,\r\n        };\r\n\r\n        const id = randomID(16);\r\n        const value = {};\r\n        value[id] = skill;\r\n        const fieldName = `data.skills.language.value`;\r\n        const updateData = {};\r\n        updateData[fieldName] = value;\r\n        this.update(updateData);\r\n    }\r\n\r\n    removeKnowledgeSkill(skillId, category) {\r\n        const value = {};\r\n        const updateData = {};\r\n\r\n        const dataString = `data.skills.knowledge.${category}.value`;\r\n        value[skillId] = { _delete: true };\r\n        updateData[dataString] = value;\r\n\r\n        this.update(updateData);\r\n    }\r\n\r\n    _addMatrixParts(parts, atts) {\r\n        if (Helpers.isMatrix(atts)) {\r\n            const m = this.data.data.matrix;\r\n            if (m.hot_sim) parts['SR5.HotSim'] = 2;\r\n            if (m.running_silent) parts['SR5.RunningSilent'] = -2;\r\n        }\r\n    }\r\n    _addGlobalParts(parts) {\r\n        if (this.data.data.modifiers.global) {\r\n            parts['SR5.Global'] = this.data.data.modifiers.global;\r\n        }\r\n    }\r\n\r\n    _addDefenseParts(parts) {\r\n        const reaction = this.findAttribute('reaction');\r\n        const intuition = this.findAttribute('intuition');\r\n        const mod = this.getModifier('defense');\r\n\r\n        if (reaction) {\r\n            parts[reaction.label || 'SR5.Reaction'] = reaction.value;\r\n        }\r\n        if (intuition) {\r\n            parts[intuition.label || 'SR5.Intuition'] = intuition.value;\r\n        }\r\n        if (mod) {\r\n            parts['SR5.Bonus'] = mod;\r\n        }\r\n    }\r\n\r\n    _addArmorParts(parts: ModList<number>) {\r\n        const armor = this.getArmor();\r\n        if (armor) {\r\n            parts[armor.label || 'SR5.Armor'] = armor.base;\r\n            for (let [key, val] of Object.entries(armor.mod)) {\r\n                parts[key] = val;\r\n            }\r\n        }\r\n    }\r\n\r\n    _addSoakParts(parts: ModList<number>) {\r\n        const body = this.findAttribute('body');\r\n        if (body) {\r\n            parts[body.label || 'SR5.Body'] = body.value;\r\n        }\r\n        this._addArmorParts(parts);\r\n    }\r\n\r\n    /**\r\n     * Override setFlag to remove the 'SR5.' from keys in modlists, otherwise it handles them as embedded keys\r\n     * @param scope\r\n     * @param key\r\n     * @param value\r\n     */\r\n    setFlag(scope: string, key: string, value: any): Promise<Entity> {\r\n        const newValue = Helpers.onSetFlag(value);\r\n        return super.setFlag(scope, key, newValue);\r\n    }\r\n\r\n    /**\r\n     * Override getFlag to add back the 'SR5.' keys correctly to be handled\r\n     * @param scope\r\n     * @param key\r\n     */\r\n    getFlag(scope: string, key: string): any {\r\n        const data = super.getFlag(scope, key);\r\n        return Helpers.onGetFlag(data);\r\n    }\r\n}\r\n","import { Helpers } from '../helpers';\r\nimport { ChummerImportForm } from '../apps/chummer-import-form';\r\nimport { SkillEditForm } from '../apps/skills/SkillEditForm';\r\nimport { KnowledgeSkillEditForm } from '../apps/skills/KnowledgeSkillEditForm';\r\nimport { LanguageSkillEditForm } from '../apps/skills/LanguageSkillEditForm';\r\nimport { SR5Actor } from './SR5Actor';\r\nimport { DynamicDialog } from '../rolls/dialog/DynamicDialog';\r\nimport { SituationalModifierField } from '../rolls/field/SituationalModifierField';\r\nimport { SkillField } from '../rolls/field/SkillField';\r\nimport { SR5ActiveSkill } from '../types/enum/SR5ActiveSkill';\r\nimport SR5ActorSheetData = Shadowrun.SR5ActorSheetData;\r\nimport SR5SheetFilters = Shadowrun.SR5SheetFilters;\r\nimport Skills = Shadowrun.Skills;\r\nimport MatrixAttribute = Shadowrun.MatrixAttribute;\r\n\r\n/**\r\n * Extend the basic ActorSheet with some very simple modifications\r\n */\r\nexport class SR5ActorSheet extends ActorSheet {\r\n    _shownUntrainedSkills: boolean;\r\n    _shownDesc: string[];\r\n    _filters: SR5SheetFilters;\r\n    actor: SR5Actor;\r\n    _scroll: string;\r\n\r\n    constructor(...args) {\r\n        super(...args);\r\n\r\n        /**\r\n         * Keep track of the currently active sheet tab\r\n         * @type {string}\r\n         */\r\n        this._shownUntrainedSkills = true;\r\n        this._shownDesc = [];\r\n        this._filters = {\r\n            skills: '',\r\n        };\r\n    }\r\n\r\n    /* -------------------------------------------- */\r\n\r\n    /**\r\n     * Extend and override the default options used by the 5e Actor Sheet\r\n     * @returns {Object}\r\n     */\r\n    static get defaultOptions() {\r\n        return mergeObject(super.defaultOptions, {\r\n            classes: ['sr5', 'sheet', 'actor'],\r\n            template: 'systems/shadowrun5e/dist/templates/actor/character.html',\r\n            width: 880,\r\n            height: 690,\r\n            tabs: [\r\n                {\r\n                    navSelector: '.tabs',\r\n                    contentSelector: '.sheetbody',\r\n                    initial: 'skills',\r\n                },\r\n            ],\r\n        });\r\n    }\r\n\r\n    /* -------------------------------------------- */\r\n\r\n    /**\r\n     * Prepare data for rendering the Actor sheet\r\n     * The prepared data object contains both the actor data as well as additional sheet options\r\n     */\r\n    getData() {\r\n        const data: SR5ActorSheetData = (super.getData() as unknown) as SR5ActorSheetData;\r\n\r\n        this._prepareMatrixAttributes(data);\r\n\r\n        const attrs = data.data.attributes;\r\n        for (let [, att] of Object.entries(attrs)) {\r\n            if (!att.hidden) {\r\n                if (att.mod['Temporary'] === 0) delete att.mod;\r\n            }\r\n        }\r\n\r\n        const { magic } = data.data;\r\n        if (magic.drain && magic.drain.mod['Temporary'] === 0) delete magic.drain.mod['Temporary'];\r\n\r\n        const { modifiers: mods } = data.data;\r\n        for (let [key, value] of Object.entries(mods)) {\r\n            if (value === 0) mods[key] = '';\r\n        }\r\n\r\n        this._prepareItems(data);\r\n        this._prepareSkills(data);\r\n\r\n        data['config'] = CONFIG.SR5;\r\n        data['awakened'] = data.data.special === 'magic';\r\n        data['emerged'] = data.data.special === 'resonance';\r\n\r\n        data.filters = this._filters;\r\n\r\n        return data;\r\n    }\r\n\r\n    _isSkillMagic(id, skill) {\r\n        return skill.attribute === 'magic' || id === 'astral_combat' || id === 'assensing';\r\n    }\r\n\r\n    _doesSkillContainText(key, skill, text) {\r\n        let searchString = `${key} ${game.i18n.localize(skill.label)} ${skill?.specs?.join(' ')}`;\r\n        return searchString.toLowerCase().search(text.toLowerCase()) > -1;\r\n    }\r\n\r\n    _prepareMatrixAttributes(data) {\r\n        const { matrix } = data.data;\r\n        const cleanupAttribute = (attribute: MatrixAttribute) => {\r\n            const att = matrix[attribute];\r\n            if (att) {\r\n                if (!att.mod) att.mod = {};\r\n                if (att.mod['Temporary'] === 0) delete att.mod['Temporary'];\r\n            }\r\n        };\r\n\r\n        ['firewall', 'data_processing', 'sleaze', 'attack'].forEach((att: MatrixAttribute) => cleanupAttribute(att));\r\n    }\r\n\r\n    _prepareSkills(data) {\r\n        const activeSkills = {};\r\n        const oldSkills: Skills = data.data.skills.active;\r\n        for (let [key, skill] of Object.entries(oldSkills)) {\r\n            // if filter isn't empty, we are doing custom filtering\r\n            if (this._filters.skills !== '') {\r\n                if (this._doesSkillContainText(key, skill, this._filters.skills)) {\r\n                    activeSkills[key] = skill;\r\n                }\r\n                // general check if we aren't filtering\r\n            } else if (\r\n                (skill.value > 0 || this._shownUntrainedSkills) &&\r\n                !(this._isSkillMagic(key, skill) && data.data.special !== 'magic') &&\r\n                !(skill.attribute === 'resonance' && data.data.special !== 'resonance')\r\n            ) {\r\n                activeSkills[key] = skill;\r\n            }\r\n        }\r\n        Helpers.orderKeys(activeSkills);\r\n        data.data.skills.active = activeSkills;\r\n    }\r\n\r\n    _prepareItems(data) {\r\n        const inventory = {\r\n            weapon: {\r\n                label: game.i18n.localize('SR5.Weapon'),\r\n                items: [],\r\n                dataset: {\r\n                    type: 'weapon',\r\n                },\r\n            },\r\n            armor: {\r\n                label: game.i18n.localize('SR5.Armor'),\r\n                items: [],\r\n                dataset: {\r\n                    type: 'armor',\r\n                },\r\n            },\r\n            device: {\r\n                label: game.i18n.localize('SR5.Device'),\r\n                items: [],\r\n                dataset: {\r\n                    type: 'device',\r\n                },\r\n            },\r\n            equipment: {\r\n                label: game.i18n.localize('SR5.Equipment'),\r\n                items: [],\r\n                dataset: {\r\n                    type: 'equipment',\r\n                },\r\n            },\r\n            cyberware: {\r\n                label: game.i18n.localize('SR5.Cyberware'),\r\n                items: [],\r\n                dataset: {\r\n                    type: 'cyberware',\r\n                },\r\n            },\r\n            programs: {\r\n                label: game.i18n.localize('SR5.Program'),\r\n            },\r\n        };\r\n\r\n        let [items, spells, qualities, adept_powers, actions, complex_forms, lifestyles, contacts, sins, programs] = data.items.reduce(\r\n            (arr, item) => {\r\n                item.isStack = item.data.quantity ? item.data.quantity > 1 : false;\r\n                if (item.type === 'spell') arr[1].push(item);\r\n                else if (item.type === 'quality') arr[2].push(item);\r\n                else if (item.type === 'adept_power') arr[3].push(item);\r\n                else if (item.type === 'action') arr[4].push(item);\r\n                else if (item.type === 'complex_form') arr[5].push(item);\r\n                else if (item.type === 'lifestyle') arr[6].push(item);\r\n                else if (item.type === 'contact') arr[7].push(item);\r\n                else if (item.type === 'sin') arr[8].push(item);\r\n                else if (item.type === 'program') arr[9].push(item);\r\n                else if (Object.keys(inventory).includes(item.type)) arr[0].push(item);\r\n                return arr;\r\n            },\r\n            [[], [], [], [], [], [], [], [], [], []],\r\n        );\r\n\r\n        const sortByName = (i1, i2) => {\r\n            if (i1.name > i2.name) return 1;\r\n            if (i1.name < i2.name) return -1;\r\n            return 0;\r\n        };\r\n        const sortByEquipped = (left, right) => {\r\n            const leftEquipped = left.data?.technology?.equipped;\r\n            const rightEquipped = right.data?.technology?.equipped;\r\n            if (leftEquipped && !rightEquipped) return -1;\r\n            if (rightEquipped && !leftEquipped) return 1;\r\n            if (left.name > right.name) return 1;\r\n            if (left.name < right.name) return -1;\r\n            return 0;\r\n        };\r\n        actions.sort(sortByName);\r\n        adept_powers.sort(sortByName);\r\n        complex_forms.sort(sortByName);\r\n        items.sort(sortByEquipped);\r\n        spells.sort(sortByName);\r\n        contacts.sort(sortByName);\r\n        lifestyles.sort(sortByName);\r\n        sins.sort(sortByName);\r\n        programs.sort(sortByEquipped);\r\n\r\n        items.forEach((item) => {\r\n            inventory[item.type].items.push(item);\r\n        });\r\n\r\n        data.inventory = Object.values(inventory);\r\n        data.magic = {\r\n            spellbook: spells,\r\n            powers: adept_powers,\r\n        };\r\n        data.actions = actions;\r\n        data.complex_forms = complex_forms;\r\n        data.lifestyles = lifestyles;\r\n        data.contacts = contacts;\r\n        data.sins = sins;\r\n        data.programs = programs;\r\n\r\n        qualities.sort((a, b) => {\r\n            if (a.data.type === 'positive' && b.data.type === 'negative') return -1;\r\n            if (a.data.type === 'negative' && b.data.type === 'positive') return 1;\r\n            return a.name < b.name ? -1 : 1;\r\n        });\r\n        data.qualities = qualities;\r\n    }\r\n\r\n    /* -------------------------------------------- */\r\n\r\n    /**\r\n     * Activate event listeners using the prepared sheet HTML\r\n     * @param html The prepared HTML object ready to be rendered into the DOM\r\n     */\r\n    activateListeners(html) {\r\n        super.activateListeners(html);\r\n\r\n        html.find('.hidden').hide();\r\n\r\n        html.find('.skill-header').click((event) => {\r\n            event.preventDefault();\r\n            this._shownUntrainedSkills = !this._shownUntrainedSkills;\r\n            this._render(true);\r\n        });\r\n\r\n        html.find('.has-desc').click((event) => {\r\n            event.preventDefault();\r\n            const item = $(event.currentTarget).parents('.item');\r\n            const iid = $(item).data().item;\r\n            const field = item.next();\r\n            field.toggle();\r\n            if (iid) {\r\n                if (field.is(':visible')) this._shownDesc.push(iid);\r\n                else this._shownDesc = this._shownDesc.filter((val) => val !== iid);\r\n            }\r\n        });\r\n\r\n        html.find('#filter-skills').on('input', this._onFilterSkills.bind(this));\r\n        // html.find('.track-roll').click(this._onRollTrack.bind(this));\r\n        // html.find('.attribute-roll').click(this._onRollAttribute.bind(this));\r\n        // html.find('.skill-roll').click(this._onRollActiveSkill.bind(this));\r\n        // html.find('.defense-roll').click(this._onRollDefense.bind(this));\r\n        // html.find('.attribute-only-roll').click(this._onRollAttributesOnly.bind(this));\r\n        // html.find('.soak-roll').click(this._onRollSoak.bind(this));\r\n        // html.find('.drain-roll').click(this._onRollDrain.bind(this));\r\n        // html.find('.fade-roll').click(this._onRollFade.bind(this));\r\n        // html.find('.item-roll').click(this._onRollItem.bind(this));\r\n        // $(html).find('.item-roll').on('contextmenu', () => console.log('TEST'));\r\n        html.find('.item-equip-toggle').click(this._onEquipItem.bind(this));\r\n        html.find('.item-qty').change(this._onChangeQty.bind(this));\r\n        html.find('.item-rtg').change(this._onChangeRtg.bind(this));\r\n        html.find('.item-create').click(this._onItemCreate.bind(this));\r\n        // html.find('.matrix-roll').click(this._onRollMatrixAttribute.bind(this));\r\n        html.find('.matrix-att-selector').change(this._onMatrixAttributeSelected.bind(this));\r\n        html.find('.basic-roll').on('click', async () => {\r\n            const d = new DynamicDialog([new SituationalModifierField(0), new SkillField(SR5ActiveSkill.AeronauticsMechanic)], this.actor);\r\n            d.render(true);\r\n        });\r\n        // html.find('.armor-roll').click(this._onRollArmor.bind(this));\r\n        html.find('.add-knowledge').click(this._onAddKnowledgeSkill.bind(this));\r\n        // html.find('.knowledge-skill').click(this._onRollKnowledgeSkill.bind(this));\r\n        html.find('.remove-knowledge').click(this._onRemoveKnowledgeSkill.bind(this));\r\n        html.find('.add-language').click(this._onAddLanguageSkill.bind(this));\r\n        // html.find('.language-skill').click(this._onRollLanguageSkill.bind(this));\r\n        html.find('.remove-language').click(this._onRemoveLanguageSkill.bind(this));\r\n        html.find('.import-character').click(this._onShowImportCharacter.bind(this));\r\n        html.find('.reload-ammo').click(this._onReloadAmmo.bind(this));\r\n        html.find('.skill-edit').click(this._onShowEditSkill.bind(this));\r\n        html.find('.knowledge-skill-edit').click(this._onShowEditKnowledgeSkill.bind(this));\r\n        html.find('.language-skill-edit').click(this._onShowEditLanguageSkill.bind(this));\r\n        html.find('.matrix-condition-value').on('change', async (event) => {\r\n            event.preventDefault();\r\n            console.log(event);\r\n            const value = Helpers.parseInputToNumber(event.currentTarget.value);\r\n            console.log(value);\r\n            const matrixDevice = this.actor.getMatrixDevice();\r\n            console.log(matrixDevice);\r\n            if (matrixDevice && !isNaN(value)) {\r\n                console.log(matrixDevice);\r\n                const updateData = {};\r\n                updateData['data.technology.condition_monitor.value'] = value;\r\n                await matrixDevice.update(updateData);\r\n            }\r\n        });\r\n\r\n        // Update Inventory Item\r\n        html.find('.item-edit').click((event) => {\r\n            event.preventDefault();\r\n            const iid = event.currentTarget.closest('.item').dataset.itemId;\r\n            const item = this.actor.getOwnedItem(iid);\r\n            if (item) item.sheet.render(true);\r\n        });\r\n        // Delete Inventory Item\r\n        html.find('.item-delete').click((event) => {\r\n            event.preventDefault();\r\n            const iid = event.currentTarget.closest('.item').dataset.itemId;\r\n            const el = $(event.currentTarget).parents('.item');\r\n            this.actor.deleteOwnedItem(iid);\r\n            el.slideUp(200, () => this.render(false));\r\n        });\r\n        // Drag inventory item\r\n        let handler = (ev) => this._onDragItemStart(ev);\r\n        html.find('.item').each((i, item) => {\r\n            if (item.dataset && item.dataset.itemId) {\r\n                item.setAttribute('draggable', true);\r\n                item.addEventListener('dragstart', handler, false);\r\n            }\r\n        });\r\n    }\r\n\r\n    async _onFilterSkills(event) {\r\n        this._filters.skills = event.currentTarget.value;\r\n        this.render();\r\n    }\r\n\r\n    async _onReloadAmmo(event) {\r\n        event.preventDefault();\r\n        const iid = event.currentTarget.closest('.item').dataset.itemId;\r\n        const item = this.actor.getOwnedItem(iid);\r\n        if (item) return item.reloadAmmo();\r\n    }\r\n\r\n    async _onMatrixAttributeSelected(event) {\r\n        let iid = this.actor.data.data.matrix.device;\r\n        let item = this.actor.getOwnedItem(iid);\r\n        if (!item) {\r\n            console.error('could not find item');\r\n            return;\r\n        }\r\n        // grab matrix attribute (sleaze, attack, etc.)\r\n        let att = event.currentTarget.dataset.att;\r\n        // grab device attribute (att1, att2, ...)\r\n        let deviceAtt = event.currentTarget.value;\r\n\r\n        // get current matrix attribute on the device\r\n        let oldVal = item.data.data.atts[deviceAtt].att;\r\n        let data = {\r\n            _id: iid,\r\n        };\r\n\r\n        // go through atts on device, setup matrix attributes on it\r\n        for (let i = 1; i <= 4; i++) {\r\n            let tmp = `att${i}`;\r\n            let key = `data.atts.att${i}.att`;\r\n            if (tmp === deviceAtt) {\r\n                data[key] = att;\r\n            } else if (item.data.data.atts[`att${i}`].att === att) {\r\n                data[key] = oldVal;\r\n            }\r\n        }\r\n        await this.actor.updateOwnedItem(data);\r\n    }\r\n\r\n    _onItemCreate(event) {\r\n        event.preventDefault();\r\n        const header = event.currentTarget;\r\n        const type = header.dataset.type;\r\n        const itemData = {\r\n            name: `New ${Helpers.label(type)}`,\r\n            type: type,\r\n            data: duplicate(header.dataset),\r\n        };\r\n        delete itemData.data['type'];\r\n        return this.actor.createOwnedItem(itemData, { renderSheet: true });\r\n    }\r\n\r\n    async _onAddLanguageSkill(event) {\r\n        event.preventDefault();\r\n        this.actor.addLanguageSkill({ name: '' });\r\n    }\r\n\r\n    async _onRemoveLanguageSkill(event) {\r\n        event.preventDefault();\r\n        const skillId = event.currentTarget.dataset.skill;\r\n        this.actor.removeLanguageSkill(skillId);\r\n    }\r\n\r\n    async _onAddKnowledgeSkill(event) {\r\n        event.preventDefault();\r\n        const category = event.currentTarget.dataset.category;\r\n        this.actor.addKnowledgeSkill(category);\r\n    }\r\n\r\n    async _onRemoveKnowledgeSkill(event) {\r\n        event.preventDefault();\r\n        const skillId = event.currentTarget.dataset.skill;\r\n        const category = event.currentTarget.dataset.category;\r\n        this.actor.removeKnowledgeSkill(skillId, category);\r\n    }\r\n\r\n    async _onChangeRtg(event) {\r\n        const iid = event.currentTarget.closest('.item').dataset.itemId;\r\n        const item = this.actor.getOwnedItem(iid);\r\n        const rtg = parseInt(event.currentTarget.value);\r\n        if (item && rtg) {\r\n            item.update({ 'data.technology.rating': rtg });\r\n        }\r\n    }\r\n\r\n    async _onChangeQty(event) {\r\n        const iid = event.currentTarget.closest('.item').dataset.itemId;\r\n        const item = this.actor.getOwnedItem(iid);\r\n        const qty = parseInt(event.currentTarget.value);\r\n        if (item && qty) {\r\n            item.data.data.technology.quantity = qty;\r\n            item.update({ 'data.technology.quantity': qty });\r\n        }\r\n    }\r\n\r\n    async _onEquipItem(event) {\r\n        event.preventDefault();\r\n        const iid = event.currentTarget.closest('.item').dataset.itemId;\r\n        const item = this.actor.getOwnedItem(iid);\r\n        if (item) {\r\n            const itemData = item.data.data;\r\n            const newItems = [] as any[];\r\n            if (item.type === 'device') {\r\n                // turn off all other devices than the one that is being equipped\r\n                // if clicking the equipped, toggle it\r\n                for (let ite of this.actor.items.filter((i) => i.type === 'device')) {\r\n                    newItems.push({\r\n                        '_id': ite._id,\r\n                        'data.technology.equipped': ite._id === iid ? !itemData.technology.equipped : false,\r\n                    });\r\n                }\r\n            } else {\r\n                newItems.push({\r\n                    '_id': iid,\r\n                    'data.technology.equipped': !itemData.technology.equipped,\r\n                });\r\n            }\r\n            await this.actor.updateEmbeddedEntity('OwnedItem', newItems);\r\n            this.actor.render();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _findActiveList() {\r\n        return $(this.element).find('.tab.active .scroll-area');\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    async _render(...args) {\r\n        const focusList = $(this.element).find(':focus');\r\n        const focus: any = focusList.length ? focusList[0] : null;\r\n\r\n        this._saveScrollPositions();\r\n        await super._render(...args);\r\n        this._restoreScrollPositions();\r\n\r\n        if (focus && focus.name) {\r\n            const element = this.form[focus.name];\r\n            if (element) {\r\n                element.focus();\r\n                // set the selection range on the focus formed from before (keeps track of cursor in input)\r\n                element.setSelectionRange && element.setSelectionRange(focus.selectionStart, focus.selectionEnd);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _restoreScrollPositions() {\r\n        const activeList = this._findActiveList();\r\n        if (activeList.length && this._scroll != null) {\r\n            activeList.prop('scrollTop', this._scroll);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _saveScrollPositions() {\r\n        const activeList = this._findActiveList();\r\n        if (activeList.length) {\r\n            this._scroll = activeList.prop('scrollTop');\r\n        }\r\n    }\r\n\r\n    _onShowEditKnowledgeSkill(event) {\r\n        event.preventDefault();\r\n        const skill = event.currentTarget.dataset.skill;\r\n        const category = event.currentTarget.dataset.category;\r\n        new KnowledgeSkillEditForm(this.actor, skill, category, {\r\n            event: event,\r\n        }).render(true);\r\n    }\r\n\r\n    _onShowEditLanguageSkill(event) {\r\n        event.preventDefault();\r\n        const skill = event.currentTarget.dataset.skill;\r\n        new LanguageSkillEditForm(this.actor, skill, { event: event }).render(true);\r\n    }\r\n\r\n    _onShowEditSkill(event) {\r\n        event.preventDefault();\r\n        const skill = event.currentTarget.dataset.skill;\r\n        new SkillEditForm(this.actor, skill, { event: event }).render(true);\r\n    }\r\n\r\n    _onShowImportCharacter(event) {\r\n        event.preventDefault();\r\n        const options = {\r\n            name: 'chummer-import',\r\n            title: 'Chummer Import',\r\n        };\r\n        new ChummerImportForm(this.actor, options).render(true);\r\n    }\r\n}\r\n","export class ChummerImportForm extends FormApplication {\r\n    static get defaultOptions() {\r\n        const options = super.defaultOptions;\r\n        options.id = 'chummer-import';\r\n        options.classes = ['shadowrun5e'];\r\n        options.title = 'Chummer/Hero Lab Import';\r\n        options.template = 'systems/shadowrun5e/dist/templates/apps/import.html';\r\n        options.width = 600;\r\n        options.height = 'auto';\r\n        return options;\r\n    }\r\n\r\n    getData() {\r\n        return {};\r\n    }\r\n\r\n    activateListeners(html) {\r\n        html.find('.submit-chummer-import').click(async (event) => {\r\n            event.preventDefault();\r\n            const chummerfile = JSON.parse($('.chummer-text').val());\r\n            const weapons = $('.weapons').is(':checked');\r\n            const armor = $('.armor').is(':checked');\r\n            const cyberware = $('.cyberware').is(':checked');\r\n            const equipment = $('.gear').is(':checked');\r\n            const qualities = $('.qualities').is(':checked');\r\n            const powers = $('.powers').is(':checked');\r\n            const spells = $('.spells').is(':checked');\r\n\r\n            console.log(chummerfile);\r\n\r\n            const parseAtt = (att) => {\r\n                if (att.toLowerCase() === 'bod') {\r\n                    return 'body';\r\n                }\r\n                if (att.toLowerCase() === 'agi') {\r\n                    return 'agility';\r\n                }\r\n                if (att.toLowerCase() === 'rea') {\r\n                    return 'reaction';\r\n                }\r\n                if (att.toLowerCase() === 'str') {\r\n                    return 'strength';\r\n                }\r\n                if (att.toLowerCase() === 'cha') {\r\n                    return 'charisma';\r\n                }\r\n                if (att.toLowerCase() === 'int') {\r\n                    return 'intuition';\r\n                }\r\n                if (att.toLowerCase() === 'log') {\r\n                    return 'logic';\r\n                }\r\n                if (att.toLowerCase() === 'wil') {\r\n                    return 'willpower';\r\n                }\r\n                if (att.toLowerCase() === 'edg') {\r\n                    return 'edge';\r\n                }\r\n                if (att.toLowerCase() === 'mag') {\r\n                    return 'magic';\r\n                }\r\n                if (att.toLowerCase() === 'res') {\r\n                    return 'resonance';\r\n                }\r\n            };\r\n\r\n            const parseDamage = (val) => {\r\n                const damage = {\r\n                    damage: 0,\r\n                    type: 'physical',\r\n                    radius: 0,\r\n                    dropoff: 0,\r\n                };\r\n                const split = val.split(',');\r\n                if (split.length > 0) {\r\n                    const l = split[0].match(/(\\d+)(\\w+)/);\r\n                    if (l && l[1]) damage.damage = parseInt(l[1]);\r\n                    if (l && l[2]) damage.type = l[2] === 'P' ? 'physical' : 'stun';\r\n                }\r\n                for (let i = 1; i < split.length; i++) {\r\n                    const l = split[i].match(/(-?\\d+)(.*)/);\r\n                    if (l && l[2]) {\r\n                        if (l[2].toLowerCase().includes('/m')) damage.dropoff = parseInt(l[1]);\r\n                        else damage.radius = parseInt(l[1]);\r\n                    }\r\n                }\r\n                return damage;\r\n            };\r\n\r\n            const getValues = (val) => {\r\n                const regex = /(-?[0-9]+)(?:([0-9]+))*/g;\r\n                const l = val.match(regex);\r\n                return l || ['0'];\r\n            };\r\n\r\n            const getArray = (value) => {\r\n                return Array.isArray(value) ? value : [value];\r\n            };\r\n            const updateData = duplicate(this.object.data);\r\n            const update = updateData.data;\r\n            const items = [];\r\n            let error = '';\r\n            // character info stuff, also techno/magic and essence\r\n            if (chummerfile.characters && chummerfile.characters.character) {\r\n                const c = chummerfile.characters.character;\r\n                try {\r\n                    if (c.playername) {\r\n                        update.player_name = c.playername;\r\n                    }\r\n                    if (c.alias) {\r\n                        update.name = c.alias;\r\n                        updateData.name = c.alias;\r\n                    }\r\n                    if (c.metatype) {\r\n                        update.metatype = c.metatype;\r\n                    }\r\n                    if (c.sex) {\r\n                        update.sex = c.sex;\r\n                    }\r\n                    if (c.age) {\r\n                        update.age = c.age;\r\n                    }\r\n                    if (c.height) {\r\n                        update.height = c.height;\r\n                    }\r\n                    if (c.weight) {\r\n                        update.weight = c.weight;\r\n                    }\r\n                    if (c.calculatedstreetcred) {\r\n                        update.street_cred = c.calculatedstreetcred;\r\n                    }\r\n                    if (c.calculatednotoriety) {\r\n                        update.notoriety = c.calculatednotoriety;\r\n                    }\r\n                    if (c.calculatedpublicawareness) {\r\n                        update.public_awareness = c.calculatedpublicawareness;\r\n                    }\r\n                    if (c.karma) {\r\n                        update.karma.valueType = c.karma;\r\n                    }\r\n                    if (c.totalkarma) {\r\n                        update.karma.max = c.totalkarma;\r\n                    }\r\n                    if (c.technomancer && c.technomancer.toLowerCase() === 'true') {\r\n                        update.special = 'resonance';\r\n                    }\r\n                    if (\r\n                        (c.magician && c.magician.toLowerCase() === 'true') ||\r\n                        (c.adept && c.adept.toLowerCase() === 'true')\r\n                    ) {\r\n                        update.special = 'magic';\r\n                        let attr = [];\r\n                        if (\r\n                            c.tradition &&\r\n                            c.tradition.drainattribute &&\r\n                            c.tradition.drainattribute.attr\r\n                        ) {\r\n                            attr = c.tradition.drainattribute.attr;\r\n                        } else if (c.tradition && c.tradition.drainattributes) {\r\n                            attr = c.tradition.drainattributes\r\n                                .split('+')\r\n                                .map((item) => item.trim());\r\n                        }\r\n                        attr.forEach((att) => {\r\n                            att = parseAtt(att);\r\n                            if (att !== 'willpower') update.magic.attribute = att;\r\n                        });\r\n                    }\r\n                    if (c.totaless) {\r\n                        update.attributes.essence.value = c.totaless;\r\n                    }\r\n                    if (c.nuyen) {\r\n                        update.nuyen = parseInt(c.nuyen.replace(',', ''));\r\n                    }\r\n                } catch (e) {\r\n                    error += `Error with character info: ${e}. `;\r\n                }\r\n                // update attributes\r\n                const atts = chummerfile.characters.character.attributes[1].attribute;\r\n                atts.forEach((att) => {\r\n                    try {\r\n                        const newAtt = parseAtt(att.name);\r\n                        if (newAtt) update.attributes[newAtt].base = parseInt(att.total);\r\n                    } catch (e) {\r\n                        error += `Error with attributes: ${e}. `;\r\n                    }\r\n                });\r\n                // initiative stuff\r\n                try {\r\n                    if (c.initbonus) {\r\n                        // not sure if this one is correct\r\n                        update.mods.initiative = c.initbonus;\r\n                    }\r\n                    if (c.initdice) {\r\n                        update.mods.initiative_dice = c.initdice - 1;\r\n                    }\r\n                } catch (e) {\r\n                    error += `Error with initiative: ${e}. `;\r\n                }\r\n                // skills...\r\n                const skills = c.skills.skill;\r\n                for (let i = 0; i < skills.length; i++) {\r\n                    try {\r\n                        const s = skills[i];\r\n                        if (s.rating > 0 && s.islanguage) {\r\n                            let group = 'active';\r\n                            let skill = null;\r\n                            const id = randomID(16);\r\n                            if (s.islanguage && s.islanguage.toLowerCase() === 'true') {\r\n                                skill = {};\r\n                                update.skills.language.value[id] = skill;\r\n                                group = 'language';\r\n                            } else if (s.knowledge && s.knowledge.toLowerCase() === 'true') {\r\n                                const category = s.skillcategory_english;\r\n                                console.log(category);\r\n                                skill = {};\r\n                                let skillCategory;\r\n                                if (category) {\r\n                                    console.log('found category', category);\r\n                                    const cat = category.toLowerCase();\r\n                                    if (cat === 'street')\r\n                                        skillCategory = update.skills.knowledge.street.value;\r\n                                    if (cat === 'academic')\r\n                                        skillCategory = update.skills.knowledge.academic.value;\r\n                                    if (cat === 'professional')\r\n                                        skillCategory = update.skills.knowledge.professional.value;\r\n                                    if (cat === 'interest')\r\n                                        skillCategory = update.skills.knowledge.interests.value;\r\n                                    if (skillCategory) skillCategory[id] = skill;\r\n                                } else {\r\n                                    if (s.attribute.toLowerCase() === 'int') {\r\n                                        update.skills.knowledge.street.value[id] = skill;\r\n                                    }\r\n                                    if (s.attribute.toLowerCase() === 'log') {\r\n                                        update.skills.knowledge.professional.value[id] = skill;\r\n                                    }\r\n                                }\r\n                                group = 'knowledge';\r\n                            } else {\r\n                                let name = s.name\r\n                                    .toLowerCase()\r\n                                    .trim()\r\n                                    .replace(/\\s/g, '_')\r\n                                    .replace(/-/g, '_');\r\n                                if (name.includes('exotic') && name.includes('_weapon'))\r\n                                    name = name.replace('_weapon', '');\r\n                                skill = update.skills.active[name];\r\n                            }\r\n                            if (!skill) console.error(`Couldn't parse skill ${s.name}`);\r\n                            if (skill) {\r\n                                if (group !== 'active') skill.name = s.name;\r\n                                skill.base = parseInt(s.rating);\r\n                                if (s.skillspecializations) {\r\n                                    skill.specs = getArray(\r\n                                        s.skillspecializations.skillspecialization.name\r\n                                    );\r\n                                }\r\n                            }\r\n                        }\r\n                    } catch (e) {\r\n                        console.error(e);\r\n                    }\r\n                }\r\n                // qualities\r\n                if (qualities && c.qualities && c.qualities.quality) {\r\n                    const qualities = getArray(c.qualities.quality);\r\n                    qualities.forEach((q) => {\r\n                        try {\r\n                            const data = {};\r\n                            data.type = q.qualitytype.toLowerCase();\r\n                            if (q.description)\r\n                                data.description = {\r\n                                    value: TextEditor.enrichHTML(q.description),\r\n                                };\r\n\r\n                            const itemData = {\r\n                                name: q.name,\r\n                                type: 'quality',\r\n                                data,\r\n                            };\r\n                            items.push(itemData);\r\n                        } catch (e) {\r\n                            console.error(e);\r\n                        }\r\n                    });\r\n                }\r\n                // weapons\r\n                if (weapons && c.weapons != null && c.weapons.weapon != null) {\r\n                    const weapons = getArray(c.weapons.weapon);\r\n                    weapons.forEach((w) => {\r\n                        try {\r\n                            const data = {};\r\n                            const action = {};\r\n                            const damage = {};\r\n                            action.damage = damage;\r\n                            data.action = action;\r\n\r\n                            if (w.description) {\r\n                                data.description = {\r\n                                    value: TextEditor.enrichHTML(w.description),\r\n                                };\r\n                            }\r\n\r\n                            damage.ap = {\r\n                                base: parseInt(getValues(w.ap)[0]),\r\n                            };\r\n                            action.type = 'varies';\r\n                            if (w.skill) action.skill = w.skill.toLowerCase().replace(/\\s/g, '_');\r\n                            else if (w.category && w.category.toLowerCase().includes('exotic'))\r\n                                action.skill = w.category\r\n                                    .toLowerCase()\r\n                                    .replace(' weapons', '')\r\n                                    .replace(/\\s/g, '_');\r\n                            if (action.skill.includes('exotic'))\r\n                                action.skill = action.skill.replace('_weapon', '');\r\n                            action.attribute = 'agility';\r\n                            action.limit = {\r\n                                base: parseInt(getValues(w.accuracy)[0]),\r\n                            };\r\n                            action.opposed = {\r\n                                type: 'defense',\r\n                            };\r\n\r\n                            if (w.type.toLowerCase() === 'melee') {\r\n                                action.type = 'complex';\r\n                                data.category = 'melee';\r\n                                const melee = {};\r\n                                data.melee = melee;\r\n                                melee.reach = parseInt(w.reach);\r\n                            } else if (w.type.toLowerCase() === 'ranged') {\r\n                                data.category = 'range';\r\n                                if (w.skill.toLowerCase().includes('throw')) {\r\n                                    data.category = 'thrown'; // TODO clean this up\r\n                                }\r\n                                const range = {};\r\n                                data.range = range;\r\n                                range.rc = {\r\n                                    base: parseInt(getValues(w.rc)[0]),\r\n                                };\r\n                                if (w.mode) {\r\n                                    // HeroLab export doesn't have mode\r\n                                    const lower = w.mode.toLowerCase();\r\n                                    range.modes = {\r\n                                        single_shot: lower.includes('ss'),\r\n                                        semi_auto: lower.includes('sa'),\r\n                                        burst_fire: lower.includes('bf'),\r\n                                        full_auto: lower.includes('fa'),\r\n                                    };\r\n                                }\r\n                                if (w.clips != null && w.clips.clip != null) {\r\n                                    // HeroLab export doesn't have clips\r\n                                    const clips = Array.isArray(w.clips.clip)\r\n                                        ? w.clips.clip\r\n                                        : [w.clips.clip];\r\n                                    clips.forEach((clip) => {\r\n                                        console.log(clip);\r\n                                    });\r\n                                }\r\n                                if (\r\n                                    w.ranges &&\r\n                                    w.ranges.short &&\r\n                                    w.ranges.medium &&\r\n                                    w.ranges.long &&\r\n                                    w.ranges.extreme\r\n                                ) {\r\n                                    console.log(w.ranges);\r\n                                    range.ranges = {\r\n                                        short: parseInt(w.ranges.short.split('-')[1]),\r\n                                        medium: parseInt(w.ranges.medium.split('-')[1]),\r\n                                        long: parseInt(w.ranges.long.split('-')[1]),\r\n                                        extreme: parseInt(w.ranges.extreme.split('-')[1]),\r\n                                    };\r\n                                }\r\n                                // TODO figure out how to add mods to weapons\r\n                                // if (w.accessories && w.accessories.accessory) {\r\n                                //     range.mods = [];\r\n                                //     const accessories = getArray(w.accessories.accessory);\r\n                                //     accessories.forEach((a) => {\r\n                                //         if (a) {\r\n                                //             range.mods.push({\r\n                                //                 name: a.name,\r\n                                //             });\r\n                                //         }\r\n                                //     });\r\n                                // }\r\n                            } else if (w.type.toLowerCase() === 'thrown') {\r\n                                data.category = 'thrown';\r\n                            }\r\n                            {\r\n                                // TODO handle raw damage if present\r\n                                const d = parseDamage(w.damage_english);\r\n                                damage.base = d.damage;\r\n                                damage.type = {};\r\n                                damage.type.base = d.type;\r\n                                if (d.dropoff || d.radius) {\r\n                                    const thrown = {};\r\n                                    data.thrown = thrown;\r\n                                    thrown.blast = {\r\n                                        radius: d.radius,\r\n                                        dropoff: d.dropoff,\r\n                                    };\r\n                                }\r\n                            }\r\n\r\n                            const itemData = {\r\n                                name: w.name,\r\n                                type: 'weapon',\r\n                                data,\r\n                            };\r\n                            items.push(itemData);\r\n                        } catch (e) {\r\n                            console.error(e);\r\n                        }\r\n                    });\r\n                }\r\n                // armors\r\n                if (armor && c.armors && c.armors.armor) {\r\n                    const armors = getArray(c.armors.armor);\r\n                    armors.forEach((a) => {\r\n                        try {\r\n                            const data = {};\r\n                            const armor = {};\r\n                            data.armor = armor;\r\n\r\n                            let desc = '';\r\n                            armor.mod = a.armor.includes('+');\r\n                            armor.value = parseInt(a.armor.replace('+', ''));\r\n                            if (a.description) desc = a.description;\r\n\r\n                            console.log(a);\r\n                            if (a.armormods && a.armormods.armormod) {\r\n                                armor.fire = 0;\r\n                                armor.electricity = 0;\r\n                                armor.cold = 0;\r\n                                armor.acid = 0;\r\n                                armor.radiation = 0;\r\n\r\n                                const modDesc = [];\r\n                                const mods = getArray(a.armormods.armormod);\r\n                                mods.forEach((mod) => {\r\n                                    if (mod.name.toLowerCase().includes('fire resistance')) {\r\n                                        armor.fire += parseInt(mod.rating);\r\n                                    } else if (mod.name.toLowerCase().includes('nonconductivity')) {\r\n                                        armor.electricity += parseInt(mod.rating);\r\n                                    } else if (mod.name.toLowerCase().includes('insulation')) {\r\n                                        armor.cold += parseInt(mod.rating);\r\n                                    } else if (\r\n                                        mod.name.toLowerCase().includes('radiation shielding')\r\n                                    ) {\r\n                                        armor.radiation += parseInt(mod.rating);\r\n                                    }\r\n                                    if (mod.rating !== '') {\r\n                                        modDesc.push(`${mod.name} R${mod.rating}`);\r\n                                    } else {\r\n                                        modDesc.push(mod.name);\r\n                                    }\r\n                                });\r\n                                if (modDesc.length > 0) {\r\n                                    // add desc to beginning\r\n                                    desc = `${modDesc.join(',')}\\n\\n${desc}`;\r\n                                }\r\n                            }\r\n                            if (a.equipped.toLowerCase() === 'true') {\r\n                                data.technology = {\r\n                                    equipped: true,\r\n                                };\r\n                            }\r\n                            data.description = {\r\n                                value: TextEditor.enrichHTML(desc),\r\n                            };\r\n\r\n                            const itemData = {\r\n                                name: a.name,\r\n                                type: 'armor',\r\n                                data,\r\n                            };\r\n                            items.push(itemData);\r\n                        } catch (e) {\r\n                            console.error(e);\r\n                        }\r\n                    });\r\n                }\r\n                // cyberware\r\n                if (cyberware && c.cyberwares && c.cyberwares.cyberware) {\r\n                    const cyberwares = getArray(c.cyberwares.cyberware);\r\n                    cyberwares.forEach((cy) => {\r\n                        try {\r\n                            const data = {};\r\n                            data.description = {\r\n                                rating: cy.rating,\r\n                                value: cy.description,\r\n                            };\r\n                            data.technology = {\r\n                                equipped: true,\r\n                            };\r\n                            data.essence = cy.ess;\r\n                            data.grade = cy.grade;\r\n                            const itemData = {\r\n                                name: cy.name,\r\n                                type: 'cyberware',\r\n                                data,\r\n                            };\r\n                            items.push(itemData);\r\n                        } catch (e) {\r\n                            console.error(e);\r\n                        }\r\n                    });\r\n                }\r\n                // powers\r\n                if (powers && c.powers && c.powers.power) {\r\n                    const powers = getArray(c.powers.power);\r\n                    powers.forEach((p) => {\r\n                        const data = {};\r\n                        if (p.description)\r\n                            data.description = {\r\n                                value: TextEditor.enrichHTML(p.description),\r\n                            };\r\n                        data.level = parseInt(p.rating);\r\n                        p.pp = parseInt(p.totalpoints);\r\n\r\n                        const itemData = {\r\n                            name: p.name,\r\n                            type: 'adept_power',\r\n                            data,\r\n                        };\r\n                        items.push(itemData);\r\n                    });\r\n                }\r\n                // gear\r\n                if (equipment && c.gears && c.gears.gear) {\r\n                    const gears = getArray(c.gears.gear);\r\n                    gears.forEach((g) => {\r\n                        try {\r\n                            const data = {};\r\n                            let { name } = g;\r\n                            if (g.extra) name += ` (${g.extra})`;\r\n                            data.technology = {\r\n                                rating: g.rating,\r\n                                quantity: g.qty,\r\n                            };\r\n                            data.description = {\r\n                                value: g.description,\r\n                            };\r\n                            const itemData = {\r\n                                name,\r\n                                type: 'equipment',\r\n                                data,\r\n                            };\r\n                            items.push(itemData);\r\n                        } catch (e) {\r\n                            console.error(e);\r\n                        }\r\n                    });\r\n                }\r\n                // spells\r\n                if (spells && c.spells && c.spells.spell) {\r\n                    const spells = getArray(c.spells.spell);\r\n                    spells.forEach((s) => {\r\n                        try {\r\n                            if (s.alchemy.toLowerCase() !== 'true') {\r\n                                const action = {};\r\n                                const data = {};\r\n                                data.action = action;\r\n                                data.category = s.category.toLowerCase().replace(/\\s/g, '_');\r\n                                data.name = s.name;\r\n                                data.type = s.type === 'M' ? 'mana' : 'physical';\r\n                                data.range =\r\n                                    s.range === 'T'\r\n                                        ? 'touch'\r\n                                        : s.range\r\n                                              .toLowerCase()\r\n                                              .replace(/\\s/g, '_')\r\n                                              .replace('(', '')\r\n                                              .replace(')', '');\r\n                                data.drain = parseInt(s.dv.replace('F', ''));\r\n                                let description = '';\r\n                                if (s.descriptors) description = s.descriptors;\r\n                                if (s.description) description += `\\n${s.description}`;\r\n                                data.description = {};\r\n                                data.description.valueType = TextEditor.enrichHTML(description);\r\n\r\n                                if (s.duration.toLowerCase() === 's') data.duration = 'sustained';\r\n                                else if (s.duration.toLowerCase() === 'i')\r\n                                    data.duration = 'instant';\r\n                                else if (s.duration.toLowerCase() === 'p')\r\n                                    data.duration = 'permanent';\r\n\r\n                                action.type = 'varies';\r\n                                action.skill = 'spellcasting';\r\n                                action.attribute = 'magic';\r\n\r\n                                if (s.descriptors) {\r\n                                    const desc = s.descriptors.toLowerCase();\r\n                                    if (s.category.toLowerCase() === 'combat') {\r\n                                        data.combat = {};\r\n                                        if (desc.includes('direct')) {\r\n                                            data.combat.inputType = 'indirect';\r\n                                            action.opposed = {\r\n                                                type: 'defense',\r\n                                            };\r\n                                        } else {\r\n                                            data.combat.inputType = 'direct';\r\n                                            if (data.type === 'mana') {\r\n                                                action.opposed = {\r\n                                                    type: 'custom',\r\n                                                    attribute: 'willpower',\r\n                                                };\r\n                                            } else if (data.type === 'physical') {\r\n                                                action.opposed = {\r\n                                                    type: 'custom',\r\n                                                    attribute: 'body',\r\n                                                };\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    if (s.category.toLowerCase() === 'detection') {\r\n                                        data.detection = {};\r\n                                        const split = desc.split(',');\r\n                                        split.forEach((token) => {\r\n                                            token = token || '';\r\n                                            token = token.replace(' detection spell', '');\r\n                                            if (!token) return;\r\n                                            if (token.includes('area')) return;\r\n\r\n                                            if (token.includes('passive'))\r\n                                                data.detection.passive = true;\r\n                                            else if (token.includes('active'))\r\n                                                data.detection.passive = false;\r\n                                            else if (token)\r\n                                                data.detection.inputType = token.toLowerCase();\r\n                                        });\r\n                                        if (!data.detection.passive) {\r\n                                            action.opposed = {\r\n                                                type: 'custom',\r\n                                                attribute: 'willpower',\r\n                                                attribute2: 'logic',\r\n                                            };\r\n                                        }\r\n                                    }\r\n                                    if (s.category.toLowerCase() === 'illusion') {\r\n                                        data.illusion = {};\r\n                                        const split = desc.split(',');\r\n                                        split.forEach((token) => {\r\n                                            token = token || '';\r\n                                            token = token.replace(' illusion spell', '');\r\n                                            if (!token) return;\r\n                                            if (token.includes('area')) return;\r\n\r\n                                            if (token.includes('sense'))\r\n                                                data.illusion.sense = token.toLowerCase();\r\n                                            else if (token)\r\n                                                data.illusion.inputType = token.toLowerCase();\r\n                                        });\r\n                                        if (data.type === 'mana') {\r\n                                            action.opposed = {\r\n                                                type: 'custom',\r\n                                                attribute: 'willpower',\r\n                                                attribute2: 'logic',\r\n                                            };\r\n                                        } else {\r\n                                            action.opposed = {\r\n                                                type: 'custom',\r\n                                                attribute: 'intuition',\r\n                                                attribute2: 'logic',\r\n                                            };\r\n                                        }\r\n                                    }\r\n                                    if (s.category.toLowerCase() === 'manipulation') {\r\n                                        data.manipulation = {};\r\n                                        if (desc.includes('environmental'))\r\n                                            data.manipulation.environmental = true;\r\n                                        if (desc.includes('physical'))\r\n                                            data.manipulation.physical = true;\r\n                                        if (desc.includes('mental'))\r\n                                            data.manipulation.mental = true;\r\n                                        // TODO figure out how to parse damaging\r\n\r\n                                        if (data.manipulation.mental) {\r\n                                            action.opposed = {\r\n                                                type: 'custom',\r\n                                                attribute: 'willpower',\r\n                                                attribute2: 'logic',\r\n                                            };\r\n                                        }\r\n                                        if (data.manipulation.physical) {\r\n                                            action.opposed = {\r\n                                                type: 'custom',\r\n                                                attribute: 'body',\r\n                                                attribute2: 'strength',\r\n                                            };\r\n                                        }\r\n                                    }\r\n                                }\r\n                                const itemData = {\r\n                                    name: s.name,\r\n                                    type: 'spell',\r\n                                    data,\r\n                                };\r\n                                items.push(itemData);\r\n                            }\r\n                        } catch (e) {\r\n                            console.error(e);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            await this.object.update(updateData);\r\n            await this.object.createEmbeddedEntity('OwnedItem', items);\r\n            ui.notifications.info(\r\n                'Complete! Check everything. Notably: Ranged weapon mods and ammo; Strength based weapon damage; Specializations on all spells, powers, and weapons;'\r\n            );\r\n            this.close();\r\n        });\r\n    }\r\n}\r\n","/**\r\n * A GM-Tool to keep track of all players overwatch scores\r\n */\r\nexport class OverwatchScoreTracker extends Application {\r\n    static MatrixOverwatchDiceCount = '2d6';\r\n    static get defaultOptions() {\r\n        const options = super.defaultOptions;\r\n        options.id = 'overwatch-score-tracker';\r\n        options.classes = ['sr5'];\r\n        options.title = game.i18n.localize('SR5.OverwatchScoreTrackerTitle');\r\n        options.template =\r\n            'systems/shadowrun5e/dist/templates/apps/gmtools/overwatch-score-tracker.html';\r\n        options.width = 450;\r\n        options.height = 'auto';\r\n        options.resizable = true;\r\n        return options;\r\n    }\r\n\r\n    getData() {\r\n        // get list of actors that belong to users\r\n        const actors = game.users.reduce((acc, user) => {\r\n            if (!user.isGM && user.character) {\r\n                acc.push(user.character.data);\r\n            }\r\n            return acc;\r\n        }, []);\r\n\r\n        return {\r\n            actors,\r\n        };\r\n    }\r\n\r\n    activateListeners(html) {\r\n        html.find('.overwatch-score-reset').on('click', this._resetOverwatchScore.bind(this));\r\n        html.find('.overwatch-score-add').on('click', this._addOverwatchScore.bind(this));\r\n        html.find('.overwatch-score-input').on('change', this._setOverwatchScore.bind(this));\r\n        html.find('.overwatch-score-roll-15-minutes').on(\r\n            'click',\r\n            this._rollFor15Minutes.bind(this)\r\n        );\r\n    }\r\n\r\n    // returns the actor that this event is acting on\r\n    _getActorFromEvent(event) {\r\n        const id = event.currentTarget.closest('.item').dataset.actorId;\r\n        if (id) return game.actors.find((a) => a._id === id);\r\n    }\r\n\r\n    _setOverwatchScore(event) {\r\n        const actor = this._getActorFromEvent(event);\r\n        const amount = event.currentTarget.value;\r\n        if (amount && actor) {\r\n            actor.setOverwatchScore(amount).then(() => this.render());\r\n        }\r\n    }\r\n\r\n    _addOverwatchScore(event) {\r\n        const actor = this._getActorFromEvent(event);\r\n        const amount = parseInt(event.currentTarget.dataset.amount);\r\n        if (amount && actor) {\r\n            const os = actor.getOverwatchScore();\r\n            actor.setOverwatchScore(os + amount).then(() => this.render());\r\n        }\r\n    }\r\n\r\n    _resetOverwatchScore(event) {\r\n        event.preventDefault();\r\n        const actor = this._getActorFromEvent(event);\r\n        if (actor) {\r\n            actor.setOverwatchScore(0).then(() => this.render());\r\n        }\r\n    }\r\n\r\n    _rollFor15Minutes(event) {\r\n        event.preventDefault();\r\n        const actor = this._getActorFromEvent(event);\r\n        if (actor) {\r\n            //  use static value so it can be modified in modules\r\n            const roll = new Roll(OverwatchScoreTracker.MatrixOverwatchDiceCount);\r\n            roll.roll();\r\n\r\n            // use GM Roll Mode so players don't see\r\n            // const rollMode = CONFIG.Dice.rollModes.gmroll;\r\n            // roll.toMessage({ rollMode });\r\n\r\n            if (roll.total) {\r\n                const os = actor.getOverwatchScore();\r\n                actor.setOverwatchScore(os + roll.total).then(() => this.render());\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { LanguageSkillEditForm } from './LanguageSkillEditForm';\r\nimport KnowledgeSkillCategory = Shadowrun.KnowledgeSkillCategory;\r\n\r\nexport class KnowledgeSkillEditForm extends LanguageSkillEditForm {\r\n    category: KnowledgeSkillCategory;\r\n    _updateString() {\r\n        return `data.skills.knowledge.${this.category}.value.${this.skillId}`;\r\n    }\r\n\r\n    constructor(actor, skillId, category, options) {\r\n        super(actor, skillId, options);\r\n        this.category = category;\r\n    }\r\n}\r\n","import { SkillEditForm } from './SkillEditForm';\r\n\r\nexport class LanguageSkillEditForm extends SkillEditForm {\r\n    _updateString() {\r\n        return `data.skills.language.value.${this.skillId}`;\r\n    }\r\n\r\n    getData() {\r\n        return mergeObject(super.getData(), {\r\n            editable_name: true,\r\n        });\r\n    }\r\n\r\n    /** @override */\r\n    _onUpdateObject(event, formData, updateData) {\r\n        super._onUpdateObject(event, formData, updateData);\r\n        const name = formData['data.name'];\r\n        const currentData = updateData[this._updateString()] || {};\r\n        updateData[this._updateString()] = {\r\n            ...currentData,\r\n            name,\r\n        };\r\n    }\r\n}\r\n","import SkillEditFormData = Shadowrun.SkillEditFormData;\r\n\r\nexport class SkillEditForm extends BaseEntitySheet {\r\n    skillId: string;\r\n\r\n    constructor(actor, skillId, options) {\r\n        super(actor, options);\r\n        this.skillId = skillId;\r\n    }\r\n\r\n    _updateString() {\r\n        return `data.skills.active.${this.skillId}`;\r\n    }\r\n\r\n    static get defaultOptions() {\r\n        const options = super.defaultOptions;\r\n        return mergeObject(options, {\r\n            id: 'skill-editor',\r\n            classes: ['sr5', 'sheet', 'skill-edit-window'],\r\n            template: 'systems/shadowrun5e/dist/templates/apps/skill-edit.html',\r\n            width: 300,\r\n            submitOnClose: true,\r\n            submitOnChange: true,\r\n            closeOnSubmit: false,\r\n            resizable: true,\r\n        });\r\n    }\r\n\r\n    get title(): string {\r\n        const data = this.getData().data;\r\n        return `${game.i18n.localize('SR5.EditSkill')} - ${data?.label ? game.i18n.localize(data.label) : ''}`;\r\n    }\r\n\r\n    _onUpdateObject(event, formData, updateData) {\r\n        // get base value\r\n        const base = formData['data.base'];\r\n\r\n        // process specializations\r\n        const specsRegex = /data\\.specs\\.(\\d+)/;\r\n        const specs = Object.entries(formData).reduce((running, [key, val]: [string, any]) => {\r\n            const found = key.match(specsRegex);\r\n            if (found && found[0]) {\r\n                running.push(val);\r\n            }\r\n            return running;\r\n        }, [] as any[]);\r\n\r\n        // process bonuses\r\n        const bonusKeyRegex = /data\\.bonus\\.(\\d+).key/;\r\n        const bonusValueRegex = /data\\.bonus\\.(\\d+).value/;\r\n        const bonus = Object.entries(formData).reduce((running, [key, value]: [string, any]) => {\r\n            const foundKey = key.match(bonusKeyRegex);\r\n            const foundVal = key.match(bonusValueRegex);\r\n            if (foundKey && foundKey[0] && foundKey[1]) {\r\n                const index = foundKey[1];\r\n                if (running[index] === undefined) running[index] = {};\r\n                running[index].key = value;\r\n            } else if (foundVal && foundVal[0] && foundVal[1]) {\r\n                const index = foundVal[1];\r\n                if (running[index] === undefined) running[index] = {};\r\n                running[index].value = value;\r\n            }\r\n\r\n            return running;\r\n        }, [] as any[]);\r\n\r\n        const currentData = updateData[this._updateString()] || {};\r\n        updateData[this._updateString()] = {\r\n            ...currentData,\r\n            base,\r\n            specs,\r\n            bonus,\r\n        };\r\n    }\r\n\r\n    /** @override */\r\n    async _updateObject(event, formData) {\r\n        const updateData = {};\r\n        this._onUpdateObject(event, formData, updateData);\r\n        console.log(formData);\r\n        await this.entity.update(updateData);\r\n    }\r\n\r\n    activateListeners(html) {\r\n        super.activateListeners(html);\r\n        $(html).find('.add-spec').on('click', this._addNewSpec.bind(this));\r\n        $(html).find('.remove-spec').on('click', this._removeSpec.bind(this));\r\n        $(html).find('.add-bonus').on('click', this._addNewBonus.bind(this));\r\n        $(html).find('.remove-bonus').on('click', this._removeBonus.bind(this));\r\n    }\r\n\r\n    async _addNewBonus(event) {\r\n        event.preventDefault();\r\n        const updateData = {};\r\n        const data = this.getData().data;\r\n        if (!data) return;\r\n        const { bonus = [] } = data;\r\n        // add blank line for new bonus\r\n        updateData[`${this._updateString()}.bonus`] = [...bonus, { key: '', value: 0 }];\r\n        await this.entity.update(updateData);\r\n    }\r\n\r\n    async _removeBonus(event) {\r\n        event.preventDefault();\r\n        const updateData = {};\r\n        const data = this.getData().data;\r\n        if (data?.bonus) {\r\n            const { bonus } = data;\r\n            const index = event.currentTarget.dataset.spec;\r\n            if (index >= 0) {\r\n                bonus.splice(index, 1);\r\n                updateData[`${this._updateString()}.bonus`] = bonus;\r\n                await this.entity.update(updateData);\r\n            }\r\n        }\r\n    }\r\n\r\n    async _addNewSpec(event) {\r\n        event.preventDefault();\r\n        const updateData = {};\r\n        const data = this.getData().data;\r\n        if (data?.specs) {\r\n            // add a blank line to specs\r\n            const { specs } = data;\r\n            updateData[`${this._updateString()}.specs`] = [...specs, ''];\r\n        }\r\n        await this.entity.update(updateData);\r\n    }\r\n\r\n    async _removeSpec(event) {\r\n        event.preventDefault();\r\n        const updateData = {};\r\n        const data = this.getData().data;\r\n        if (data?.specs) {\r\n            const { specs } = data;\r\n            const index = event.currentTarget.dataset.spec;\r\n            if (index >= 0) {\r\n                specs.splice(index, 1);\r\n                updateData[`${this._updateString()}.specs`] = specs;\r\n                await this.entity.update(updateData);\r\n            }\r\n        }\r\n    }\r\n\r\n    getData(): SkillEditFormData {\r\n        const data = super.getData();\r\n        const actor = super.getData().entity;\r\n        data['data'] = actor ? getProperty(actor, this._updateString()) : {};\r\n        return data;\r\n    }\r\n}\r\n","/**\r\n * Measure the distance between two pixel coordinates\r\n * See BaseGrid.measureDistance for more details\r\n *\r\n * @param {Object} p0           The origin coordinate {x, y}\r\n * @param {Object} p1           The destination coordinate {x, y}\r\n * @param {boolean} gridSpaces  Enforce grid distance (if true) vs. direct point-to-point (if false)\r\n * @return {number}             The distance between p1 and p0\r\n */\r\nimport { SYSTEM_NAME } from './constants';\r\n\r\nexport const measureDistance = function (p0, p1, { gridSpaces = true } = {}) {\r\n    if (!gridSpaces)\r\n        {  // BaseGrid exists... fix in foundry types\r\n            // @ts-ignore\r\n            return BaseGrid.prototype.measureDistance.bind(this)(p0, p1, {\r\n                        gridSpaces,\r\n                    });\r\n        }\r\n    const gs = canvas.dimensions.size;\r\n    const ray = new Ray(p0, p1);\r\n    const nx = Math.abs(Math.ceil(ray.dx / gs));\r\n    const ny = Math.abs(Math.ceil(ray.dy / gs));\r\n\r\n    // Get the number of straight and diagonal moves\r\n    const nDiagonal = Math.min(nx, ny);\r\n    const nStraight = Math.abs(ny - nx);\r\n\r\n    const diagonalRule = game.settings.get(SYSTEM_NAME, 'diagonalMovement');\r\n\r\n    if (diagonalRule === '1-2-1') {\r\n        const nd10 = Math.floor(nDiagonal / 2);\r\n        const spaces = nd10 * 2 + (nDiagonal - nd10) + nStraight;\r\n        return spaces * canvas.dimensions.distance;\r\n    }\r\n    return (nStraight + nDiagonal) * canvas.scene.data.gridDistance;\r\n};\r\n","import { SYSTEM_NAME } from './constants';\r\n\r\nexport const preCombatUpdate = async function (combat, changes, options) {\r\n    // triggers when combat round changes\r\n    if (changes.round && combat.round && changes.round > combat.round) {\r\n        let initPassEnd = true;\r\n        for (const c of combat.combatants) {\r\n            let init = Number(c.initiative);\r\n            init -= 10;\r\n            if (init > 0) initPassEnd = false;\r\n        }\r\n        if (!initPassEnd) {\r\n            changes.round = combat.round;\r\n        }\r\n        // if we are gm, call function normally\r\n        // if not gm, send a socket message for the gm to update the combatants\r\n        // for new initative passes or reroll\r\n        if (game.user.isGM) {\r\n            await shadowrunCombatUpdate(changes, options);\r\n        } else {\r\n            // @ts-ignore\r\n            game.socket.emit('system.shadowrun5e', {\r\n                gmCombatUpdate: {\r\n                    changes,\r\n                    options,\r\n                },\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\nexport const shadowrunCombatUpdate = async (changes, options) => {\r\n    const { combat } = game;\r\n    // subtact 10 from all initiative, we just went into the next initiative pass\r\n    const removedCombatants = combat.getFlag(SYSTEM_NAME, 'removedCombatants') || [];\r\n    const combatants = [];\r\n    for (const c of combat.combatants) {\r\n        let init = Number(c.initiative);\r\n        init -= 10;\r\n        if (init <= 0) removedCombatants.push({ ...c });\r\n        else {\r\n            // @ts-ignore\r\n            combatants.push({ _id: c._id, initiative: init });\r\n        }\r\n    }\r\n    await combat.deleteEmbeddedEntity(\r\n        'Combatant',\r\n        removedCombatants.map((c) => c._id),\r\n        {},\r\n    );\r\n    await combat.updateEmbeddedEntity('Combatant', combatants, {});\r\n    if (combatants.length === 0) {\r\n        const messages = [];\r\n        const messageOptions = options.messageOptions || {};\r\n\r\n        for (const c of removedCombatants) {\r\n            const actorData = c.actor ? c.actor.data : {};\r\n            // @ts-ignore\r\n            const formula = combat._getInitiativeFormula(c);\r\n\r\n            const roll: Roll = new Roll(formula, actorData).roll();\r\n            c.initiative = roll.total;\r\n\r\n            const rollMode = messageOptions.rollMode || c.token.hidden || c.hidden ? 'gmroll' : 'roll';\r\n            const messageData = mergeObject(\r\n                {\r\n                    speaker: {\r\n                        scene: canvas.scene._id,\r\n                        actor: c.actor ? c.actor._id : null,\r\n                        token: c.token._id,\r\n                        alias: c.token.name,\r\n                    },\r\n                    flavor: `${c.token.name} rolls for Initiative!`,\r\n                },\r\n                messageOptions,\r\n            );\r\n            await roll.toMessage(messageData, {\r\n                rollMode,\r\n            });\r\n        }\r\n        await combat.createEmbeddedEntity('Combatant', removedCombatants, {});\r\n        await ChatMessage.create(messages);\r\n        await combat.unsetFlag(SYSTEM_NAME, 'removedCombatants');\r\n        // @ts-ignore\r\n        await combat.resetAll();\r\n        await combat.rollAll();\r\n        await combat.update({ turn: 0 });\r\n    } else if (removedCombatants.length) {\r\n        await combat.setFlag(SYSTEM_NAME, 'removedCombatants', removedCombatants);\r\n        await combat.update({ turn: 0 });\r\n    }\r\n};\r\n","export const SR5 = {};\r\n\r\nSR5['attributes'] = {\r\n    body: 'SR5.AttrBody',\r\n    agility: 'SR5.AttrAgility',\r\n    reaction: 'SR5.AttrReaction',\r\n    strength: 'SR5.AttrStrength',\r\n    willpower: 'SR5.AttrWillpower',\r\n    logic: 'SR5.AttrLogic',\r\n    intuition: 'SR5.AttrIntuition',\r\n    charisma: 'SR5.AttrCharisma',\r\n    magic: 'SR5.AttrMagic',\r\n    resonance: 'SR5.AttrResonance',\r\n    edge: 'SR5.AttrEdge',\r\n    essence: 'SR5.AttrEssence',\r\n    attack: 'SR5.MatrixAttrAttack',\r\n    sleaze: 'SR5.MatrixAttrSleaze',\r\n    data_processing: 'SR5.MatrixAttrDataProc',\r\n    firewall: 'SR5.MatrixAttrFirewall',\r\n};\r\n\r\nSR5['limits'] = {\r\n    physical: 'SR5.LimitPhysical',\r\n    social: 'SR5.LimitSocial',\r\n    mental: 'SR5.LimitMental',\r\n    attack: 'SR5.MatrixAttrAttack',\r\n    sleaze: 'SR5.MatrixAttrSleaze',\r\n    data_processing: 'SR5.MatrixAttrDataProc',\r\n    firewall: 'SR5.MatrixAttrFirewall',\r\n};\r\n\r\nSR5['specialTypes'] = {\r\n    mundane: 'SR5.Mundane',\r\n    magic: 'SR5.Awakened',\r\n    resonance: 'SR5.Emerged',\r\n};\r\n\r\nSR5['damageTypes'] = {\r\n    physical: 'SR5.DmgTypePhysical',\r\n    stun: 'SR5.DmgTypeStun',\r\n    matrix: 'SR5.DmgTypeMatrix',\r\n};\r\n\r\nSR5['elementTypes'] = {\r\n    fire: 'SR5.ElementFire',\r\n    cold: 'SR5.ElementCold',\r\n    acid: 'SR5.ElementAcid',\r\n    electricity: 'SR5.ElementElectricity',\r\n    radiation: 'SR5.ElementRadiation',\r\n};\r\n\r\nSR5['spellCategories'] = {\r\n    combat: 'SR5.SpellCatCombat',\r\n    detection: 'SR5.SpellCatDetection',\r\n    health: 'SR5.SpellCatHealth',\r\n    illusion: 'SR5.SpellCatIllusion',\r\n    manipulation: 'SR5.SpellCatManipulation',\r\n};\r\n\r\nSR5['spellTypes'] = {\r\n    physical: 'SR5.SpellTypePhysical',\r\n    mana: 'SR5.SpellTypeMana',\r\n};\r\n\r\nSR5['spellRanges'] = {\r\n    touch: 'SR5.SpellRangeTouch',\r\n    los: 'SR5.SpellRangeLos',\r\n    los_a: 'SR5.SpellRangeLosA',\r\n};\r\n\r\nSR5['combatSpellTypes'] = {\r\n    direct: 'SR5.SpellCombatDirect',\r\n    indirect: 'SR5.SpellCombatIndirect',\r\n};\r\n\r\nSR5['detectionSpellTypes'] = {\r\n    directional: 'SR5.SpellDetectionDirectional',\r\n    psychic: 'SR5.SpellDetectionPsychic',\r\n    area: 'SR5.SpellDetectionArea',\r\n};\r\n\r\nSR5['illusionSpellTypes'] = {\r\n    obvious: 'SR5.SpellIllusionObvious',\r\n    realistic: 'SR5.SpellIllusionRealistic',\r\n};\r\n\r\nSR5['illusionSpellSenses'] = {\r\n    'single-sense': 'SR5.SpellIllusionSingleSense',\r\n    'multi-sense': 'SR5.SpellIllusionMultiSense',\r\n};\r\n\r\nSR5['attributeRolls'] = {\r\n    composure: 'SR5.RollComposure',\r\n    lift_carry: 'SR5.RollLiftCarry',\r\n    judge_intentions: 'SR5.RollJudgeIntentions',\r\n    memory: 'SR5.RollMemory',\r\n};\r\n\r\nSR5['matrixTargets'] = {\r\n    persona: 'SR5.TargetPersona',\r\n    device: 'SR5.TargetDevice',\r\n    file: 'SR5.TargetFile',\r\n    self: 'SR5.TargetSelf',\r\n    sprite: 'SR5.TargetSprite',\r\n    other: 'SR5.TargetOther',\r\n};\r\n\r\nSR5['durations'] = {\r\n    instant: 'SR5.DurationInstant',\r\n    sustained: 'SR5.DurationSustained',\r\n    permanent: 'SR5.DurationPermanent',\r\n};\r\n\r\nSR5['weaponCategories'] = {\r\n    range: 'SR5.WeaponCatRange',\r\n    melee: 'SR5.WeaponCatMelee',\r\n    thrown: 'SR5.WeaponCatThrown',\r\n};\r\n\r\nSR5['weaponRanges'] = {\r\n    short: 'SR5.WeaponRangeShort',\r\n    medium: 'SR5.WeaponRangeMedium',\r\n    long: 'SR5.WeaponRangeLong',\r\n    extreme: 'SR5.WeaponRangeExtreme',\r\n};\r\n\r\nSR5['qualityTypes'] = {\r\n    positive: 'SR5.QualityTypePositive',\r\n    negative: 'SR5.QualityTypeNegative',\r\n};\r\n\r\nSR5['deviceCategories'] = {\r\n    commlink: 'SR5.DeviceCatCommlink',\r\n    cyberdeck: 'SR5.DeviceCatCyberdeck',\r\n};\r\n\r\nSR5['cyberwareGrades'] = {\r\n    standard: 'SR5.CyberwareGradeStandard',\r\n    alpha: 'SR5.CyberwareGradeAlpha',\r\n    beta: 'SR5.CyberwareGradeBeta',\r\n    delta: 'SR5.CyberwareGradeDelta',\r\n    used: 'SR5.CyberwareGradeUsed',\r\n};\r\n\r\nSR5['knowledgeSkillCategories'] = {\r\n    street: 'SR5.KnowledgeSkillStreet',\r\n    academic: 'SR5.KnowledgeSkillAcademic',\r\n    professional: 'SR5.KnowledgeSkillProfessional',\r\n    interests: 'SR5.KnowledgeSkillInterests',\r\n};\r\n\r\nSR5['activeSkills'] = {\r\n    archery: 'SR5.SkillArchery',\r\n    automatics: 'SR5.SkillAutomatics',\r\n    blades: 'SR5.SkillBlades',\r\n    clubs: 'SR5.SkillClubs',\r\n    exotic_melee: 'SR5.SkillExoticMelee',\r\n    exotic_range: 'SR5.SkillExoticRange',\r\n    heavy_weapons: 'SR5.SkillHeavyWeapons',\r\n    longarms: 'SR5.SkillLongarms',\r\n    pistols: 'SR5.SkillPistols',\r\n    throwing_weapons: 'SR5.SkillThrowingWeapons',\r\n    unarmed_combat: 'SR5.SkillUnarmedCombat',\r\n    disguise: 'SR5.SkillDisguise',\r\n    diving: 'SR5.SkillDiving',\r\n    escape_artist: 'SR5.SkillEscapeArtist',\r\n    free_fall: 'SR5.SkillFreeFall',\r\n    gymnastics: 'SR5.SkillGymnastics',\r\n    palming: 'SR5.SkillPalming',\r\n    perception: 'SR5.SkillPerception',\r\n    running: 'SR5.SkillRunning',\r\n    sneaking: 'SR5.SkillSneaking',\r\n    survival: 'SR5.SkillSurvival',\r\n    swimming: 'SR5.SkillSwimming',\r\n    tracking: 'SR5.SkillTracking',\r\n    con: 'SR5.SkillCon',\r\n    etiquette: 'SR5.SkillEtiquette',\r\n    impersonation: 'SR5.SkillImpersonation',\r\n    instruction: 'SR5.SkillInstruction',\r\n    intimidation: 'SR5.SkillIntimidation',\r\n    leadership: 'SR5.SkillLeadership',\r\n    negotiation: 'SR5.SkillNegotiation',\r\n    performance: 'SR5.SkillPerformance',\r\n    alchemy: 'SR5.SkillAlchemy',\r\n    arcana: 'SR5.SkillArcana',\r\n    artificing: 'SR5.SkillArtificing',\r\n    assensing: 'SR5.SkillAssensing',\r\n    astral_combat: 'SR5.SkillAstralCombat',\r\n    banishing: 'SR5.SkillBanishing',\r\n    binding: 'SR5.SkillBinding',\r\n    counterspelling: 'SR5.SkillCounterspelling',\r\n    disenchanting: 'SR5.SkillDisenchanting',\r\n    ritual_spellcasting: 'SR5.SkillRitualSpellcasting',\r\n    spellcasting: 'SR5.SkillSpellcasting',\r\n    summoning: 'SR5.SkillSummoning',\r\n    compiling: 'SR5.SkillCompiling',\r\n    decompiling: 'SR5.SkillDecompiling',\r\n    registering: 'SR5.SkillRegistering',\r\n    aeronautics_mechanic: 'SR5.SkillAeronauticsMechanic',\r\n    automotive_mechanic: 'SR5.SkillAutomotiveMechanic',\r\n    industrial_mechanic: 'SR5.SkillIndustrialMechanic',\r\n    nautical_mechanic: 'SR5.SkillNauticalMechanic',\r\n    animal_handling: 'SR5.SkillAnimalHandling',\r\n    armorer: 'SR5.SkillArmorer',\r\n    artisan: 'SR5.SkillArtisan',\r\n    biotechnology: 'SR5.SkillBiotechnology',\r\n    chemistry: 'SR5.SkillChemistry',\r\n    computer: 'SR5.SkillComputer',\r\n    cybercombat: 'SR5.SkillCybercombat',\r\n    cybertechnology: 'SR5.SkillCybertechnology',\r\n    demolitions: 'SR5.SkillDemolitions',\r\n    electronic_warfare: 'SR5.SkillElectronicWarfare',\r\n    first_aid: 'SR5.SkillFirstAid',\r\n    forgery: 'SR5.SkillForgery',\r\n    hacking: 'SR5.SkillHacking',\r\n    hardware: 'SR5.SkillHardware',\r\n    locksmith: 'SR5.SkillLocksmith',\r\n    medicine: 'SR5.SkillMedicine',\r\n    navigation: 'SR5.SkillNavigation',\r\n    software: 'SR5.SkillSoftware',\r\n    gunnery: 'SR5.SkillGunnery',\r\n    pilot_aerospace: 'SR5.SkillPilotAerospace',\r\n    pilot_aircraft: 'SR5.SkillPilotAircraft',\r\n    pilot_walker: 'SR5.SkillPilotWalker',\r\n    pilot_ground_craft: 'SR5.SkillPilotGroundCraft',\r\n    pilot_water_craft: 'SR5.SkillPilotWaterCraft',\r\n    pilot_exotic_vehicle: 'SR5.SkillPilotExoticVehicle',\r\n};\r\n\r\nSR5['actionTypes'] = {\r\n    none: 'SR5.ActionTypeNone',\r\n    free: 'SR5.ActionTypeFree',\r\n    simple: 'SR5.ActionTypeSimple',\r\n    complex: 'SR5.ActionTypeComplex',\r\n    varies: 'SR5.ActionTypeVaries',\r\n};\r\n\r\nSR5['matrixAttributes'] = {\r\n    attack: 'SR5.MatrixAttrAttack',\r\n    sleaze: 'SR5.MatrixAttrSleaze',\r\n    data_processing: 'SR5.MatrixAttrDataProc',\r\n    firewall: 'SR5.MatrixAttrFirewall',\r\n};\r\n\r\nSR5['initiativeCategories'] = {\r\n    meatspace: 'SR5.InitCatMeatspace',\r\n    astral: 'SR5.InitCatAstral',\r\n    matrix: 'SR5.InitCatMatrix',\r\n};\r\n\r\nSR5['modificationTypes'] = {\r\n    weapon: 'SR5.Weapon',\r\n    armor: 'SR5.Armor',\r\n};\r\n\r\nSR5['mountPoints'] = {\r\n    barrel: 'SR5.Barrel',\r\n    stock: 'SR5.Stock',\r\n    top: 'SR5.Top',\r\n    side: 'SR5.Side',\r\n    internal: 'SR5.Internal',\r\n};\r\n\r\nSR5['lifestyleTypes'] = {\r\n    street: 'SR5.LifestyleStreet',\r\n    squatter: 'SR5.LifestyleSquatter',\r\n    low: 'SR5.LifestyleLow',\r\n    medium: 'SR5.LifestyleMiddle',\r\n    high: 'SR5.LifestyleHigh',\r\n    luxory: 'SR5.LifestyleLuxory',\r\n    other: 'SR5.LifestyleOther',\r\n};\r\n\r\nSR5['kbmod'] = {\r\n    STANDARD: 'shiftKey',\r\n    EDGE: 'altKey',\r\n    SPEC: 'ctrlKey',\r\n};\r\n\r\nSR5['actorModifiers'] = {\r\n    soak: 'SR5.RollSoak',\r\n    drain: 'SR5.Drain',\r\n    armor: 'SR5.Armor',\r\n    physical_limit: 'SR5.PhysicalLimit',\r\n    social_limit: 'SR5.SocialLimit',\r\n    mental_limit: 'SR5.MentalLimit',\r\n    stun_track: 'SR5.StunTrack',\r\n    physical_track: 'SR5.PhysicalTrack',\r\n    meat_initiative: 'SR5.MeatSpaceInit',\r\n    meat_initiative_dice: 'SR5.MeatSpaceDice',\r\n    astral_initiative: 'SR5.AstralInit',\r\n    astral_initiative_dice: 'SR5.AstralDice',\r\n    matrix_initiative: 'SR5.MatrixInit',\r\n    matrix_initiative_dice: 'SR5.MatrixDice',\r\n    composure: 'SR5.RollComposure',\r\n    lift_carry: 'SR5.RollLiftCarry',\r\n    judge_intentions: 'SR5.RollJudgeIntentions',\r\n    memory: 'SR5.RollMemory',\r\n    walk: 'SR5.Walk',\r\n    run: 'SR5.Run',\r\n    defense: 'SR5.RollDefense',\r\n    wound_tolerance: 'SR5.WoundTolerance',\r\n    essence: 'SR5.AttrEssence',\r\n    fade: 'SR5.RollFade',\r\n    global: 'SR5.Global',\r\n};\r\n\r\nSR5['programTypes'] = {\r\n    common_program: 'SR5.CommonProgram',\r\n    hacking_program: 'SR5.HackingProgram',\r\n    agent: 'SR5.Agent',\r\n};\r\n","export const SYSTEM_NAME = 'shadowrun5e';","import { Helpers } from './helpers';\r\n\r\nexport const preloadHandlebarsTemplates = async () => {\r\n    const templatePaths = [\r\n        'systems/shadowrun5e/dist/templates/actor/parts/actor-equipment.html',\r\n        'systems/shadowrun5e/dist/templates/actor/parts/actor-spellbook.html',\r\n        'systems/shadowrun5e/dist/templates/actor/parts/actor-skills.html',\r\n        'systems/shadowrun5e/dist/templates/actor/parts/actor-matrix.html',\r\n        'systems/shadowrun5e/dist/templates/actor/parts/actor-actions.html',\r\n        'systems/shadowrun5e/dist/templates/actor/parts/actor-config.html',\r\n        'systems/shadowrun5e/dist/templates/actor/parts/actor-bio.html',\r\n        'systems/shadowrun5e/dist/templates/actor/parts/actor-social.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/description.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/technology.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/header.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/weapon-ammo-list.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/weapon-mods-list.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/action.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/damage.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/opposed.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/spell.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/complex_form.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/weapon.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/armor.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/matrix.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/sin.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/contact.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/lifestyle.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/ammo.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/modification.html',\r\n        'systems/shadowrun5e/dist/templates/item/parts/program.html',\r\n        'systems/shadowrun5e/dist/templates/roll/dialog/components/field.html',\r\n    ];\r\n\r\n    return loadTemplates(templatePaths);\r\n};\r\n\r\nexport const registerHandlebarHelpers = () => {\r\n    Handlebars.registerHelper('localizeOb', function (strId, obj) {\r\n        if (obj) strId = obj[strId];\r\n        return game.i18n.localize(strId);\r\n    });\r\n\r\n    Handlebars.registerHelper('toHeaderCase', function (str) {\r\n        if (str) return Helpers.label(str);\r\n        return '';\r\n    });\r\n\r\n    Handlebars.registerHelper('concat', function (strs, c = ',') {\r\n        if (Array.isArray(strs)) {\r\n            return strs.join(c);\r\n        }\r\n        return strs;\r\n    });\r\n    Handlebars.registerHelper('hasprop', function (obj, prop, options) {\r\n        if (obj.hasOwnProperty(prop)) {\r\n            return options.fn(this);\r\n        } else return options.inverse(this);\r\n    });\r\n    Handlebars.registerHelper('ifin', function (val, arr, options) {\r\n        if (arr.includes(val)) return options.fn(this);\r\n        else return options.inverse(this);\r\n    });\r\n    // if greater than\r\n    Handlebars.registerHelper('ifgt', function (v1, v2, options) {\r\n        if (v1 > v2) return options.fn(this);\r\n        else return options.inverse(this);\r\n    });\r\n    // if not equal\r\n    Handlebars.registerHelper('ifne', function (v1, v2, options) {\r\n        if (v1 !== v2) return options.fn(this);\r\n        else return options.inverse(this);\r\n    });\r\n    // if equal\r\n    Handlebars.registerHelper('ife', function (v1, v2, options) {\r\n        if (v1 === v2) return options.fn(this);\r\n        else return options.inverse(this);\r\n    });\r\n    Handlebars.registerHelper('sum', function (v1, v2) {\r\n        return v1 + v2;\r\n    });\r\n    Handlebars.registerHelper('damageAbbreviation', function (damage) {\r\n        if (damage === 'physical') return 'P';\r\n        if (damage === 'stun') return 'S';\r\n        if (damage === 'matrix') return 'M';\r\n        return '';\r\n    });\r\n    Handlebars.registerHelper('diceIcon', function (roll) {\r\n        if (roll.roll) {\r\n            switch (roll.roll) {\r\n                case 1:\r\n                    return 'red';\r\n                case 2:\r\n                    return 'grey';\r\n                case 3:\r\n                    return 'grey';\r\n                case 4:\r\n                    return 'grey';\r\n                case 5:\r\n                    return 'green';\r\n                case 6:\r\n                    return 'green';\r\n            }\r\n        }\r\n    });\r\n\r\n    Handlebars.registerHelper('elementIcon', function (element) {\r\n        let icon = '';\r\n        if (element === 'electricity') {\r\n            icon = 'fas fa-bolt';\r\n        } else if (element === 'radiation') {\r\n            icon = 'fas fa-radiation-alt';\r\n        } else if (element === 'fire') {\r\n            icon = 'fas fa-fire';\r\n        } else if (element === 'acid') {\r\n            icon = 'fas fa-vials';\r\n        } else if (element === 'cold') {\r\n            icon = 'fas fa-snowflake';\r\n        }\r\n        return icon;\r\n    });\r\n\r\n    Handlebars.registerHelper('isDefined', function (value) {\r\n        return value !== undefined;\r\n    });\r\n};\r\n","import AttributeField = Shadowrun.AttributeField;\r\nimport SkillField = Shadowrun.SkillField;\r\n\r\nexport class Helpers {\r\n    static totalMods(mods) {\r\n        const reducer = (acc, cur) => +acc + +cur;\r\n        if (!mods) return 0;\r\n        if (Array.isArray(mods)) return mods.reduce(reducer, 0);\r\n        // assume object of key/values\r\n        return Object.values(mods).reduce(reducer, 0);\r\n    }\r\n\r\n    // replace 'SR5.'s on keys with 'SR5_DOT_'\r\n    static onSetFlag(data) {\r\n        if (typeof data !== 'object') return data;\r\n        if (data === undefined || data === null) return data;\r\n        const newData = {};\r\n        for (const [key, value] of Object.entries(data)) {\r\n            const newKey = key.replace('SR5.', 'SR5_DOT_');\r\n            newData[newKey] = this.onSetFlag(value);\r\n        }\r\n        return newData;\r\n    }\r\n    // replace 'SR5_DOT_' with 'SR5.' on keys\r\n    static onGetFlag(data) {\r\n        if (typeof data !== 'object') return data;\r\n        if (data === undefined || data === null) return data;\r\n        const newData = {};\r\n        for (const [key, value] of Object.entries(data)) {\r\n            const newKey = key.replace('SR5_DOT_', 'SR5.');\r\n            newData[newKey] = this.onGetFlag(value);\r\n        }\r\n        return newData;\r\n    }\r\n\r\n    static isMatrix(atts?: boolean | (AttributeField | SkillField)[] | AttributeField | SkillField) {\r\n        if (!atts) return false;\r\n        if (typeof atts === 'boolean' && atts) return true;\r\n        const matrixAtts = ['firewall', 'data_processing', 'sleaze', 'attack', 'computer', 'hacking', 'cybercombat', 'electronic_warfare', 'software'];\r\n        const matrixLabels = matrixAtts.map((s) => this.label(s));\r\n        if (!Array.isArray(atts)) atts = [atts];\r\n        atts = atts.filter((att) => att);\r\n        atts.forEach((att) => {\r\n            if (typeof att === 'string' && matrixAtts.includes(att)) return true;\r\n            else if (matrixLabels.includes(att.label)) return true;\r\n        });\r\n        return false;\r\n    }\r\n\r\n    static parseInputToString(val: number | string | string[] | undefined): string {\r\n        if (val === undefined) return '';\r\n        if (typeof val === 'number') return val.toString();\r\n        if (typeof val === 'string') return val;\r\n        if (Array.isArray(val)) {\r\n            return val.join(',');\r\n        }\r\n        return '';\r\n    }\r\n\r\n    static parseInputToNumber(val: number | string | string[] | undefined): number {\r\n        if (typeof val === 'number') return val;\r\n        if (typeof val === 'string') {\r\n            const ret = +val;\r\n            if (!isNaN(ret)) return ret;\r\n            return 0;\r\n        }\r\n        if (Array.isArray(val)) {\r\n            const str = val.join('');\r\n            const ret = +str;\r\n            if (!isNaN(ret)) return ret;\r\n            return 0;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    static setupCustomCheckbox(app, html) {\r\n        const setContent = (el) => {\r\n            const checkbox = $(el).children('input[type=checkbox]');\r\n            const checkmark = $(el).children('.checkmark');\r\n            if ($(checkbox).prop('checked')) {\r\n                $(checkmark).addClass('fa-check-circle');\r\n                $(checkmark).removeClass('fa-circle');\r\n            } else {\r\n                $(checkmark).addClass('fa-circle');\r\n                $(checkmark).removeClass('fa-check-circle');\r\n            }\r\n        };\r\n        html.find('label.checkbox').each(function () {\r\n            setContent(this);\r\n        });\r\n        html.find('label.checkbox').click((event) => setContent(event.currentTarget));\r\n        html.find('.submit-checkbox').change((event) => app._onSubmit(event));\r\n    }\r\n\r\n    static mapRoundsToDefenseMod(rounds) {\r\n        if (rounds === 1) return 0;\r\n        if (rounds === 3) return -2;\r\n        if (rounds === 6) return -5;\r\n        if (rounds === 10) return -9;\r\n        return 0;\r\n    }\r\n\r\n    static mapRoundsToDefenseDesc(rounds) {\r\n        if (rounds === 1) return '';\r\n        if (rounds === 3) return '-2';\r\n        if (rounds === 6) return '-5';\r\n        if (rounds === 10) return '-9';\r\n        if (rounds === 20) return 'SR5.DuckOrCover';\r\n        return '';\r\n    }\r\n\r\n    static label(str) {\r\n        const frags = str.split('_');\r\n        for (let i = 0; i < frags.length; i++) {\r\n            frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);\r\n        }\r\n        frags.forEach((frag, idx) => {\r\n            if (frag === 'Processing') frags[idx] = 'Proc.';\r\n            if (frag === 'Mechanic') frags[idx] = 'Mech.';\r\n        });\r\n        return frags.join(' ');\r\n    }\r\n\r\n    static orderKeys(obj) {\r\n        const keys = Object.keys(obj).sort(function keyOrder(k1, k2) {\r\n            if (k1 < k2) return -1;\r\n            if (k1 > k2) return +1;\r\n            return 0;\r\n        });\r\n\r\n        let i;\r\n        const after = {};\r\n        for (i = 0; i < keys.length; i++) {\r\n            after[keys[i]] = obj[keys[i]];\r\n            delete obj[keys[i]];\r\n        }\r\n\r\n        for (i = 0; i < keys.length; i++) {\r\n            obj[keys[i]] = after[keys[i]];\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    static setNestedValue(obj, prop, val) {\r\n        console.log(obj);\r\n        console.log(prop);\r\n        console.log(val);\r\n        const props = prop.split('.');\r\n        props.forEach((p) => (obj = p in obj ? obj[p] : null));\r\n        if (obj) {\r\n            console.log(`setting ${obj} to ${val}`);\r\n            obj = val;\r\n        }\r\n    }\r\n\r\n    static hasModifiers(event) {\r\n        return event && (event.shiftKey || event.altKey || event.ctrlKey || event.metaKey);\r\n    }\r\n\r\n    static filter(obj, comp) {\r\n        const retObj = {};\r\n        if (typeof obj === 'object' && obj !== null) {\r\n            Object.entries(obj).forEach(([key, value]) => {\r\n                if (comp([key, value])) retObj[key] = value;\r\n            });\r\n        }\r\n        return retObj;\r\n    }\r\n\r\n    static addLabels(obj, label) {\r\n        if (typeof obj === 'object' && obj !== null) {\r\n            if (!obj.hasOwnProperty('label') && obj.hasOwnProperty('value') && label !== '') {\r\n                obj.label = label;\r\n            }\r\n            Object.entries(obj)\r\n                .filter(([, value]) => typeof value === 'object')\r\n                .forEach(([key, value]) => Helpers.addLabels(value, key));\r\n        }\r\n    }\r\n}\r\n","import { Helpers } from '../helpers';\r\nimport DeviceData = Shadowrun.DeviceData;\r\n\r\nexport const ChatData = {\r\n    action: (data, labels, props) => {\r\n        if (data.action) {\r\n            const labelStringList: string[] = [];\r\n            if (data.action.skill) {\r\n                labelStringList.push(Helpers.label(data.action.skill));\r\n                labelStringList.push(Helpers.label(data.action.attribute));\r\n            } else if (data.action.attribute2) {\r\n                labelStringList.push(Helpers.label(data.action.attribute));\r\n                labelStringList.push(Helpers.label(data.action.attribute2));\r\n            } else if (data.action.attribute) {\r\n                labelStringList.push(Helpers.label(data.action.attribute));\r\n            }\r\n            if (data.action.mod) {\r\n                labelStringList.push(`${game.i18n.localize('SR5.ItemMod')} (${data.action.mod})`);\r\n                // TODO when all mods are modlists\r\n                // Object.entries(data.action.mod).forEach(([key, value]) =>\r\n                //     labelStringList.push(`${game.i18n.localize(key)} (${value})`)\r\n                // );\r\n            }\r\n            if (labelStringList.length) {\r\n                labels.roll = labelStringList.join(' + ');\r\n            }\r\n\r\n            if (data.action.opposed.type) {\r\n                const { opposed } = data.action;\r\n                if (opposed.type !== 'custom') labels.opposedRoll = `vs. ${Helpers.label(opposed.type)}`;\r\n                else if (opposed.skill) labels.opposedRoll = `vs. ${Helpers.label(opposed.skill)}+${Helpers.label(opposed.attribute)}`;\r\n                else if (opposed.attribute2) labels.opposedRoll = `vs. ${Helpers.label(opposed.attribute)}+${Helpers.label(opposed.attribute2)}`;\r\n                else if (opposed.attribute) labels.opposedRoll = `vs. ${Helpers.label(opposed.attribute)}`;\r\n            }\r\n\r\n            // setup action props\r\n            // go in order of \"Limit/Accuracy\" \"Damage\" \"AP\"\r\n            // don't add action type if set to 'varies' or 'none' as that's pretty much useless info\r\n            if (data.action.type !== '' && data.action.type !== 'varies' && data.action.type !== 'none') {\r\n                props.push(`${Helpers.label(data.action.type)} Action`);\r\n            }\r\n            if (data.action.limit.value) props.push(`Limit ${data.action.limit.value}`);\r\n            if (data.action.damage.type.value) {\r\n                const { damage } = data.action;\r\n                let damageString = '';\r\n                let elementString = '';\r\n                if (damage.value) {\r\n                    damageString = `DV ${damage.value}${damage.type.value ? damage.type.value.toUpperCase().charAt(0) : ''}`;\r\n                }\r\n                if (damage.element.value) {\r\n                    // if we have a damage value and are electric, follow the convention of (e) after\r\n                    if (damage.value) {\r\n                        if (damage.element.value === 'electricity') {\r\n                            damageString += ' (e)';\r\n                        } else {\r\n                            elementString = Helpers.label(damage.element.value);\r\n                        }\r\n                    } else {\r\n                        elementString = Helpers.label(damage.element.value);\r\n                    }\r\n                }\r\n                if (damageString) props.push(damageString);\r\n                if (elementString) props.push(elementString);\r\n                if (damage.ap && damage.ap.value) props.push(`AP ${damage.ap.value}`);\r\n            }\r\n        }\r\n    },\r\n    sin: (data, labels, props) => {\r\n        props.push(`Rating ${data.technology.rating}`);\r\n        data.licenses.forEach((license) => {\r\n            props.push(`${license.name} R${license.rtg}`);\r\n        });\r\n    },\r\n\r\n    contact: (data, labels, props) => {\r\n        props.push(data.type);\r\n        props.push(`Connection ${data.connection}`);\r\n        props.push(`Loyalty ${data.loyalty}`);\r\n    },\r\n\r\n    lifestyle: (data, labels, props) => {\r\n        props.push(Helpers.label(data.type));\r\n        if (data.cost) props.push(`${data.cost}`);\r\n        if (data.comforts) props.push(`Comforts ${data.comforts}`);\r\n        if (data.security) props.push(`Security ${data.security}`);\r\n        if (data.neighborhood) props.push(`Neighborhood ${data.neighborhood}`);\r\n        if (data.guests) props.push(`Guests ${data.guests}`);\r\n    },\r\n\r\n    adept_power: (data, labels, props) => {\r\n        ChatData.action(data, labels, props);\r\n        props.push(`PP ${data.pp}`);\r\n        props.push(Helpers.label(data.type));\r\n    },\r\n\r\n    armor: (data, labels, props) => {\r\n        if (data.armor) {\r\n            if (data.armor.value) props.push(`Armor ${data.armor.mod ? '+' : ''}${data.armor.value}`);\r\n            if (data.armor.acid) props.push(`Acid ${data.armor.acid}`);\r\n            if (data.armor.cold) props.push(`Cold ${data.armor.cold}`);\r\n            if (data.armor.fire) props.push(`Fire ${data.armor.fire}`);\r\n            if (data.armor.electricity) props.push(`Electricity ${data.armor.electricity}`);\r\n            if (data.armor.radiation) props.push(`Radiation ${data.armor.radiation}`);\r\n        }\r\n    },\r\n\r\n    program: (data, labels, props) => {\r\n        props.push(game.i18n.localize(CONFIG.SR5.programTypes[data.type]));\r\n    },\r\n\r\n    complex_form: (data, labels, props) => {\r\n        ChatData.action(data, labels, props);\r\n        props.push(Helpers.label(data.target), Helpers.label(data.duration));\r\n        const { fade } = data;\r\n        if (fade > 0) props.push(`Fade L+${fade}`);\r\n        else if (fade < 0) props.push(`Fade L${fade}`);\r\n        else props.push('Fade L');\r\n    },\r\n\r\n    cyberware: (data, labels, props) => {\r\n        ChatData.action(data, labels, props);\r\n        ChatData.armor(data, labels, props);\r\n        if (data.essence) props.push(`Ess ${data.essence}`);\r\n    },\r\n\r\n    device: (data: DeviceData, labels, props) => {\r\n        if (data.technology && data.technology.rating) props.push(`Rating ${data.technology.rating}`);\r\n        if (data.category === 'cyberdeck') {\r\n            for (const attN of Object.values(data.atts)) {\r\n                props.push(`${Helpers.label(attN.att)} ${attN.value}`);\r\n            }\r\n        }\r\n    },\r\n\r\n    equipment: (data, labels, props) => {\r\n        if (data.technology && data.technology.rating) props.push(`Rating ${data.technology.rating}`);\r\n    },\r\n\r\n    quality: (data, labels, props) => {\r\n        ChatData.action(data, labels, props);\r\n        props.push(Helpers.label(data.type));\r\n    },\r\n\r\n    // add properties for spell data, follow order in book\r\n    spell: (data, labels, props) => {\r\n        // first category and type\r\n        props.push(Helpers.label(data.category), Helpers.label(data.type));\r\n\r\n        // add subtype tags\r\n        if (data.category === 'combat') {\r\n            props.push(Helpers.label(data.combat.type));\r\n        } else if (data.category === 'health') {\r\n        } else if (data.category === 'illusion') {\r\n            props.push(data.illusion.type);\r\n            props.push(data.illusion.sense);\r\n        } else if (data.category === 'manipulation') {\r\n            if (data.manipulation.damaging) props.push('Damaging');\r\n            if (data.manipulation.mental) props.push('Mental');\r\n            if (data.manipulation.environmental) props.push('Environmental');\r\n            if (data.manipulation.physical) props.push('Physical');\r\n        } else if (data.category === 'detection') {\r\n            props.push(data.illusion.type);\r\n            props.push(data.illusion.passive ? 'Passive' : 'Active');\r\n            if (data.illusion.extended) props.push('Extended');\r\n        }\r\n        // add range\r\n        props.push(Helpers.label(data.range));\r\n\r\n        // add action data\r\n        ChatData.action(data, labels, props);\r\n\r\n        // add duration data\r\n        props.push(Helpers.label(data.duration));\r\n\r\n        // add drain data\r\n        const { drain } = data;\r\n        if (drain > 0) props.push(`Drain F+${drain}`);\r\n        else if (drain < 0) props.push(`Drain F${drain}`);\r\n        else props.push('Drain F');\r\n\r\n        labels.roll = 'Cast';\r\n    },\r\n\r\n    weapon: (data, labels, props, item) => {\r\n        ChatData.action(data, labels, props);\r\n        for (let i = 0; i < props.length; i++) {\r\n            const prop = props[i];\r\n            if (prop.includes('Limit')) {\r\n                props[i] = prop.replace('Limit', 'Accuracy');\r\n            }\r\n        }\r\n\r\n        const equippedAmmo = item?.getEquippedAmmo();\r\n        if (equippedAmmo && data.ammo && data.ammo.current?.max) {\r\n            if (equippedAmmo) {\r\n                const { current, spare_clips } = data.ammo;\r\n                if (equippedAmmo.name) props.push(`${equippedAmmo.name} (${current.value}/${current.max})`);\r\n                if (equippedAmmo.data.data.blast.radius) props.push(`${game.i18n.localize('SR5.BlastRadius')} ${equippedAmmo.data.data.blast.radius}m`);\r\n                if (equippedAmmo.data.data.blast.dropoff) props.push(`${game.i18n.localize('SR5.Dropoff')} ${equippedAmmo.data.data.blast.dropoff}/m`);\r\n                if (spare_clips && spare_clips.max) props.push(`${game.i18n.localize('SR5.SpareClips')} (${spare_clips.value}/${spare_clips.max})`);\r\n            }\r\n        }\r\n\r\n        if (data.technology?.conceal?.value) {\r\n            props.push(`${game.i18n.localize('SR5.Conceal')} ${data.technology.conceal.value}`);\r\n        }\r\n\r\n        if (data.category === 'range') {\r\n            if (data.range.rc) {\r\n                let rcString = `${game.i18n.localize('SR5.RecoilCompensation')} ${data.range.rc.value}`;\r\n                if (item?.actor) {\r\n                    rcString += ` (${game.i18n.localize('SR5.Total')} ${item.actor.data.data.recoil_compensation + data.range.rc.value})`;\r\n                }\r\n                props.push(rcString);\r\n            }\r\n            if (data.range.modes) {\r\n                const newModes: string[] = [];\r\n                const { modes } = data.range;\r\n                if (modes.single_shot) newModes.push('SR5.WeaponModeSingleShotShort');\r\n                if (modes.semi_auto) newModes.push('SR5.WeaponModeSemiAutoShort');\r\n                if (modes.burst_fire) newModes.push('SR5.WeaponModeBurstFireShort');\r\n                if (modes.full_auto) newModes.push('SR5.WeaponModeFullAutoShort');\r\n                props.push(newModes.map((m) => game.i18n.localize(m)).join('/'));\r\n            }\r\n            if (data.range.ranges) props.push(Array.from(Object.values(data.range.ranges)).join('/'));\r\n        } else if (data.category === 'melee') {\r\n            if (data.melee.reach) {\r\n                const reachString = `${game.i18n.localize('SR5.Reach')} ${data.melee.reach}`;\r\n                // find accuracy in props and insert ourselves after it\r\n                const accIndex = props.findIndex((p) => p.includes('Accuracy'));\r\n                if (accIndex > -1) {\r\n                    props.splice(accIndex + 1, 0, reachString);\r\n                } else {\r\n                    props.push(reachString);\r\n                }\r\n            }\r\n        } else if (data.category === 'thrown') {\r\n            const { blast } = data.thrown;\r\n            if (blast?.radius) props.push(`${game.i18n.localize('SR5.BlastRadius')} ${blast.radius}m`);\r\n            if (blast?.dropoff) props.push(`${game.i18n.localize('SR5.Dropoff')} ${blast.dropoff}/m`);\r\n\r\n            if (data.thrown.ranges) {\r\n                const mult = data.thrown.ranges.attribute && item?.actor ? item.actor.data.data.attributes[data.thrown.ranges.attribute].value : 1;\r\n                const ranges = [data.thrown.ranges.short, data.thrown.ranges.medium, data.thrown.ranges.long, data.thrown.ranges.extreme];\r\n                props.push(ranges.map((v) => v * mult).join('/'));\r\n            }\r\n        }\r\n    },\r\n};\r\n","import { Helpers } from '../helpers';\r\nimport { SR5Actor } from '../actor/SR5Actor';\r\nimport ModList = Shadowrun.ModList;\r\nimport AttackData = Shadowrun.AttackData;\r\nimport AttributeField = Shadowrun.AttributeField;\r\nimport SkillField = Shadowrun.SkillField;\r\nimport LimitField = Shadowrun.LimitField;\r\nimport FireModeData = Shadowrun.FireModeData;\r\nimport SpellForceData = Shadowrun.SpellForceData;\r\nimport ComplexFormLevelData = Shadowrun.ComplexFormLevelData;\r\nimport FireRangeData = Shadowrun.FireRangeData;\r\nimport BlastData = Shadowrun.BlastData;\r\nimport { ChatData } from './ChatData';\r\nimport { SYSTEM_NAME } from '../constants';\r\n\r\nexport class SR5Item extends Item {\r\n    labels: {} = {};\r\n    items: SR5Item[];\r\n    actor: SR5Actor;\r\n\r\n    // Flag Functions\r\n    getLastFireMode(): FireModeData {\r\n        return this.getFlag(SYSTEM_NAME, 'lastFireMode') || { value: 0 };\r\n    }\r\n    async setLastFireMode(fireMode: FireModeData) {\r\n        return this.setFlag(SYSTEM_NAME, 'lastFireMode', fireMode);\r\n    }\r\n    getLastSpellForce(): SpellForceData {\r\n        return this.getFlag(SYSTEM_NAME, 'lastSpellForce') || { value: 0 };\r\n    }\r\n    async setLastSpellForce(force: SpellForceData) {\r\n        return this.setFlag(SYSTEM_NAME, 'lastSpellForce', force);\r\n    }\r\n    getLastComplexFormLevel(): ComplexFormLevelData {\r\n        return this.getFlag(SYSTEM_NAME, 'lastComplexFormLevel') || { value: 0 };\r\n    }\r\n    async setLastComplexFormLevel(level: ComplexFormLevelData) {\r\n        return this.setFlag(SYSTEM_NAME, 'lastComplexFormLevel', level);\r\n    }\r\n    getLastFireRangeMod(): FireRangeData {\r\n        return this.getFlag(SYSTEM_NAME, 'lastFireRange') || { value: 0 };\r\n    }\r\n    async setLastFireRangeMod(environmentalMod: FireRangeData) {\r\n        return this.setFlag(SYSTEM_NAME, 'lastFireRange', environmentalMod);\r\n    }\r\n\r\n    /**\r\n     * Return an Array of the Embedded Item Data\r\n     * TODO properly types this\r\n     */\r\n    getEmbeddedItems(): any[] {\r\n        let items = this.getFlag(SYSTEM_NAME, 'embeddedItems');\r\n        if (items) {\r\n            // moved this \"hotfix\" to here so that everywhere that accesses the flag just gets an array -- Shawn\r\n            //TODO: This is a hotfix. Items should either always be\r\n            // stored as an array or always be stored as a object.\r\n            if (!Array.isArray(items)) {\r\n                let newItems: any[] = [];\r\n                for (const key of Object.keys(items)) {\r\n                    newItems.push(items[key]);\r\n                }\r\n                return newItems;\r\n            }\r\n            return items;\r\n        }\r\n        return [];\r\n    }\r\n\r\n    /**\r\n     * Set the embedded item data\r\n     * @param items\r\n     */\r\n    async setEmbeddedItems(items: any[]) {\r\n        // clear the flag first to remove the previous items - if we don't do this then it doesn't actually \"delete\" any items\r\n        await this.unsetFlag(SYSTEM_NAME, 'embeddedItems');\r\n        await this.setFlag(SYSTEM_NAME, 'embeddedItems', items);\r\n    }\r\n\r\n    getLastAttack(): AttackData | undefined {\r\n        return this.getFlag(SYSTEM_NAME, 'lastAttack');\r\n    }\r\n    async setLastAttack(attack: AttackData) {\r\n        // unset the flag first to clear old data, data can get weird if not done\r\n        await this.unsetFlag(SYSTEM_NAME, 'lastAttack');\r\n        return this.setFlag(SYSTEM_NAME, 'lastAttack', attack);\r\n    }\r\n\r\n    async update(data, options?) {\r\n        const ret = super.update(data, options);\r\n        ret.then(() => {\r\n            if (this.actor) {\r\n                this.actor.render();\r\n            }\r\n        });\r\n        return ret;\r\n    }\r\n    get hasOpposedRoll(): boolean {\r\n        return !!(this.data.data.action && this.data.data.action.opposed.type);\r\n    }\r\n\r\n    get hasRoll(): boolean {\r\n        const { action } = this.data.data;\r\n        return !!(action && action.type !== '' && (action.skill || action.attribute));\r\n    }\r\n    get hasTemplate(): boolean {\r\n        return this.isAreaOfEffect();\r\n    }\r\n\r\n    prepareData() {\r\n        super.prepareData();\r\n        const labels = {};\r\n        const item = this.data;\r\n\r\n        if (item.type === 'sin') {\r\n            if (typeof item.data.licenses === 'object') {\r\n                item.data.licenses = Object.values(item.data.licenses);\r\n            }\r\n        }\r\n        const equippedMods = this.getEquippedMods();\r\n        const equippedAmmo = this.getEquippedAmmo();\r\n\r\n        const { technology, range, action } = item.data;\r\n\r\n        if (technology) {\r\n            if (!technology.condition_monitor) technology.condition_monitor = { value: 0 };\r\n            technology.condition_monitor.max = 8 + Math.ceil(technology.rating / 2);\r\n\r\n            if (!technology.conceal) technology.conceal = {};\r\n            technology.conceal.mod = {};\r\n\r\n            equippedMods.forEach((mod) => {\r\n                if (technology?.conceal && mod.data.data.technology.conceal.value) {\r\n                    technology.conceal.mod[mod.name] = mod.data.data.technology.conceal.value;\r\n                }\r\n            });\r\n\r\n            technology.conceal.value = technology.conceal.base + Helpers.totalMods(technology.conceal.mod);\r\n        }\r\n\r\n        if (action) {\r\n            action.alt_mod = 0;\r\n            action.limit.mod = {};\r\n            action.damage.mod = {};\r\n            action.damage.ap.mod = {};\r\n            action.dice_pool_mod = {};\r\n            // handle overrides from mods\r\n            equippedMods.forEach((mod) => {\r\n                if (mod.data.data.accuracy) action.limit.mod[mod.name] = mod.data.data.accuracy;\r\n                if (mod.data.data.dice_pool) action.dice_pool_mod[mod.name] = mod.data.data.dice_pool;\r\n            });\r\n\r\n            if (equippedAmmo) {\r\n                // add mods to damage from ammo\r\n                action.damage.mod[`${equippedAmmo.name}`] = equippedAmmo.data.data.damage;\r\n                // add mods to ap from ammo\r\n                action.damage.ap.mod[`${equippedAmmo.name}`] = equippedAmmo.data.data.ap;\r\n\r\n                // override element\r\n                if (equippedAmmo.data.data.element) {\r\n                    action.damage.element.value = equippedAmmo.data.data.element;\r\n                } else {\r\n                    action.damage.element.value = action.damage.element.base;\r\n                }\r\n\r\n                // override damage type\r\n                if (equippedAmmo.data.data.damageType) {\r\n                    action.damage.type.value = equippedAmmo.data.data.damageType;\r\n                } else {\r\n                    action.damage.type.value = action.damage.type.base;\r\n                }\r\n            } else {\r\n                // set value if we don't have item overrides\r\n                action.damage.element.value = action.damage.element.base;\r\n                action.damage.type.value = action.damage.type.base;\r\n            }\r\n\r\n            // once all damage mods have been accounted for, sum base and mod to value\r\n            action.damage.value = action.damage.base + Helpers.totalMods(action.damage.mod);\r\n            action.damage.ap.value = action.damage.ap.base + Helpers.totalMods(action.damage.ap.mod);\r\n\r\n            action.limit.value = action.limit.base + Helpers.totalMods(action.limit.mod);\r\n\r\n            if (this.actor) {\r\n                if (action.damage.attribute) {\r\n                    const { attribute } = action.damage;\r\n                    // TODO convert this in the template\r\n                    action.damage.mod[game.i18n.localize(CONFIG.SR5.attributes[attribute])] = this.actor.findAttribute(attribute)?.value;\r\n                    action.damage.value = action.damage.base + Helpers.totalMods(action.damage.mod);\r\n                }\r\n                if (action.limit.attribute) {\r\n                    const { attribute } = action.limit;\r\n                    // TODO convert this in the template\r\n                    action.limit.mod[game.i18n.localize(CONFIG.SR5.limits[attribute])] = this.actor.findLimit(attribute)?.value;\r\n                    action.limit.value = action.limit.base + Helpers.totalMods(action.limit.mod);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (range) {\r\n            if (range.rc) {\r\n                range.rc.mod = {};\r\n                equippedMods.forEach((mod) => {\r\n                    if (mod.data.data.rc) range.rc.mod[mod.name] = mod.data.data.rc;\r\n                    // handle overrides from ammo\r\n                });\r\n                if (range.rc) range.rc.value = range.rc.base + Helpers.totalMods(range.rc.mod);\r\n            }\r\n        }\r\n\r\n        if (item.type === 'adept_power') {\r\n            item.data.type = item.data.action?.type ? 'active' : 'passive';\r\n        }\r\n\r\n        this.labels = labels;\r\n        item['properties'] = this.getChatData().properties;\r\n    }\r\n\r\n    getChatData(htmlOptions?) {\r\n        const data = duplicate(this.data.data);\r\n        const { labels } = this;\r\n        if (!data.description) data.description = {};\r\n\r\n        data.description.value = TextEditor.enrichHTML(data.description.value, htmlOptions);\r\n\r\n        const props = [];\r\n        const func = ChatData[this.data.type];\r\n        if (func) func(duplicate(data), labels, props, this);\r\n\r\n        data.properties = props.filter((p) => !!p);\r\n\r\n        return data;\r\n    }\r\n\r\n    getOpposedTestName(): string {\r\n        let name = '';\r\n        if (this.data.data.action?.opposed?.type) {\r\n            const { opposed } = this.data.data.action;\r\n            if (opposed.type !== 'custom') {\r\n                name = `${Helpers.label(opposed.type)}`;\r\n            } else if (opposed.skill) {\r\n                name = `${Helpers.label(opposed.skill)}+${Helpers.label(opposed.attribute)}`;\r\n            } else if (opposed.attribute2) {\r\n                name = `${Helpers.label(opposed.attribute)}+${Helpers.label(opposed.attribute2)}`;\r\n            } else if (opposed.attribute) {\r\n                name = `${Helpers.label(opposed.attribute)}`;\r\n            }\r\n        }\r\n        const mod = this.getOpposedTestModifier();\r\n        if (mod) name += ` ${mod}`;\r\n        return name;\r\n    }\r\n\r\n    getEquippedAmmo() {\r\n        return (this.items || []).filter((item) => item.type === 'ammo' && item.data.data?.technology?.equipped)[0];\r\n    }\r\n\r\n    getEquippedMods() {\r\n        return (this.items || []).filter((item) => item.type === 'modification' && item.data.data.type === 'weapon' && item.data.data?.technology?.equipped);\r\n    }\r\n\r\n    async equipWeaponMod(iid) {\r\n        const mod = this.getOwnedItem(iid);\r\n        if (mod) {\r\n            const dupData = duplicate(mod.data);\r\n            dupData.data.technology.equipped = !dupData.data.technology.equipped;\r\n            await this.updateOwnedItem(dupData);\r\n        }\r\n    }\r\n\r\n    get hasAmmo() {\r\n        return this.data.data.ammo !== undefined;\r\n    }\r\n\r\n    async useAmmo(fireMode) {\r\n        const dupData = duplicate(this.data);\r\n        const { ammo } = dupData.data;\r\n        if (ammo) {\r\n            ammo.current.value = Math.max(0, ammo.current.value - fireMode);\r\n            return this.update(dupData);\r\n        }\r\n    }\r\n\r\n    async reloadAmmo() {\r\n        const data = duplicate(this.data);\r\n        const { ammo } = data.data;\r\n        const diff = ammo.current.max - ammo.current.value;\r\n        ammo.current.value = ammo.current.max;\r\n\r\n        if (ammo.spare_clips) {\r\n            ammo.spare_clips.value = Math.max(0, ammo.spare_clips.value - 1);\r\n        }\r\n        await this.update(data);\r\n\r\n        const newAmmunition = (this.items || [])\r\n            .filter((i) => i.data.type === 'ammo')\r\n            .reduce((acc: BaseEntityData[], item) => {\r\n                const { technology } = item.data.data;\r\n                if (technology.equipped) {\r\n                    const qty = technology.quantity;\r\n                    technology.quantity = Math.max(0, qty - diff);\r\n                    acc.push(item.data);\r\n                }\r\n                return acc;\r\n            }, []);\r\n        if (newAmmunition.length) await this.updateOwnedItem(newAmmunition);\r\n    }\r\n\r\n    async equipAmmo(iid) {\r\n        // only allow ammo that was just clicked to be equipped\r\n        const ammo = this.items\r\n            ?.filter((item) => item.type === 'ammo')\r\n            .map((item) => {\r\n                const i = this.getOwnedItem(item._id);\r\n                if (i) {\r\n                    i.data.data.technology.equipped = iid === item._id;\r\n                    return i.data;\r\n                }\r\n            });\r\n        await this.updateOwnedItem(ammo);\r\n    }\r\n\r\n    addNewLicense() {\r\n        const data = duplicate(this.data);\r\n        const { licenses } = data.data;\r\n        if (typeof licenses === 'object') {\r\n            data.data.licenses = Object.values(licenses);\r\n        }\r\n        data.data.licenses.push({\r\n            name: '',\r\n            rtg: '',\r\n            description: '',\r\n        });\r\n        this.update(data);\r\n    }\r\n\r\n    getRollPartsList(): ModList<number> {\r\n        // we only have a roll if we have an action or an actor\r\n        if (!this.data.data.action || !this.actor) return {};\r\n\r\n        const parts = duplicate(this.getModifierList());\r\n\r\n        const skill = this.actor.findActiveSkill(this.getActionSkill());\r\n        const attribute = this.actor.findAttribute(this.getActionAttribute());\r\n        const attribute2 = this.actor.findAttribute(this.getActionAttribute2());\r\n\r\n        if (attribute && attribute.label) parts[attribute.label] = attribute.value;\r\n\r\n        // if we have a valid skill, don't look for a second attribute\r\n        if (skill && skill.label) parts[skill.label] = skill.value;\r\n        else if (attribute2 && attribute2.label) parts[attribute2.label] = attribute2.value;\r\n\r\n        const spec = this.getActionSpecialization();\r\n        if (spec) parts[spec] = 2;\r\n\r\n        // TODO remove these (by making them not used, not just delete)\r\n        const mod = parseInt(this.data.data.action.mod || 0);\r\n        if (mod) parts['SR5.ItemMod'] = mod;\r\n\r\n        const atts: (AttributeField | SkillField)[] | boolean = [];\r\n        if (attribute !== undefined) atts.push(attribute);\r\n        if (attribute2 !== undefined) atts.push(attribute2);\r\n        if (skill !== undefined) atts.push(skill);\r\n        // add global parts from actor\r\n        this.actor._addGlobalParts(parts);\r\n        this.actor._addMatrixParts(parts, atts);\r\n        this._addWeaponParts(parts);\r\n\r\n        return parts;\r\n    }\r\n\r\n    calculateRecoil() {\r\n        const lastFireMode = this.getLastFireMode();\r\n        if (!lastFireMode) return 0;\r\n        if (lastFireMode.value === 20) return 0;\r\n        return Math.min(this.getRecoilCompensation(true) - (this.getLastFireMode()?.value || 0), 0);\r\n    }\r\n\r\n    _addWeaponParts(parts: ModList<number>) {\r\n        if (this.isRangedWeapon()) {\r\n            const recoil = this.calculateRecoil();\r\n            if (recoil) parts['SR5.Recoil'] = recoil;\r\n        }\r\n    }\r\n\r\n    removeLicense(index) {\r\n        const data = duplicate(this.data);\r\n        const { licenses } = data.data;\r\n        licenses.splice(index, 1);\r\n        this.update(data);\r\n    }\r\n\r\n    static getItemFromMessage(html): SR5Item | undefined {\r\n        const card = html.find('.chat-card');\r\n        let actor;\r\n        const tokenKey = card.data('tokenId');\r\n        if (tokenKey) {\r\n            const [sceneId, tokenId] = tokenKey.split('.');\r\n            let token;\r\n            if (sceneId === canvas.scene._id) token = canvas.tokens.get(tokenId);\r\n            else {\r\n                const scene: Scene = game.scenes.get(sceneId);\r\n                if (!scene) return;\r\n                // @ts-ignore\r\n                const tokenData = scene.data.tokens.find((t) => t.id === Number(tokenId));\r\n                if (tokenData) token = new Token(tokenData);\r\n            }\r\n            if (!token) return;\r\n            actor = Actor.fromToken(token);\r\n        } else actor = game.actors.get(card.data('actorId'));\r\n\r\n        if (!actor) return;\r\n        const itemId = card.data('itemId');\r\n        return actor.getOwnedItem(itemId);\r\n    }\r\n\r\n    static getTargets() {\r\n        const { character } = game.user;\r\n        const { controlled } = canvas.tokens;\r\n        const targets = controlled.reduce((arr, t) => (t.actor ? arr.concat([t.actor]) : arr), []);\r\n        if (character && controlled.length === 0) targets.push(character);\r\n        if (!targets.length) throw new Error(`You must designate a specific Token as the roll target`);\r\n        return targets;\r\n    }\r\n\r\n    /**\r\n     * Create an item in this item\r\n     * @param itemData\r\n     * @param options\r\n     */\r\n    async createOwnedItem(itemData, options = {}) {\r\n        if (!Array.isArray(itemData)) itemData = [itemData];\r\n        // weapons accept items\r\n        if (this.type === 'weapon') {\r\n            const currentItems = duplicate(this.getEmbeddedItems());\r\n\r\n            itemData.forEach((ogItem) => {\r\n                const item = duplicate(ogItem);\r\n                item._id = randomID(16);\r\n                if (item.type === 'ammo' || item.type === 'modification') {\r\n                    if (item?.data?.technology?.equipped) {\r\n                        item.data.technology.equipped = false;\r\n                    }\r\n                    currentItems.push(item);\r\n                }\r\n            });\r\n\r\n            await this.setEmbeddedItems(currentItems);\r\n        }\r\n        await this.prepareEmbeddedEntities();\r\n        await this.prepareData();\r\n        await this.render(false);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Prepare embeddedItems\r\n     */\r\n    prepareEmbeddedEntities() {\r\n        super.prepareEmbeddedEntities();\r\n        let items = this.getEmbeddedItems();\r\n        if (items) {\r\n            const existing = (this.items || []).reduce((object, i) => {\r\n                object[i.id] = i;\r\n                return object;\r\n            }, {});\r\n            this.items = items.map((i) => {\r\n                if (i._id in existing) {\r\n                    const a = existing[i._id];\r\n                    a.data = i;\r\n                    a.prepareData();\r\n                    return a;\r\n                } else {\r\n                    // dirty things done here\r\n                    // @ts-ignore\r\n                    return Item.createOwned(i, this);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    getOwnedItem(itemId) {\r\n        const items = this.items;\r\n        if (!items) return;\r\n        return items.find((i) => i._id === itemId);\r\n    }\r\n\r\n    async updateOwnedItem(changes) {\r\n        const items = duplicate(this.getEmbeddedItems());\r\n        if (!items) return;\r\n        changes = Array.isArray(changes) ? changes : [changes];\r\n        if (!changes || changes.length === 0) return;\r\n        changes.forEach((itemChanges) => {\r\n            const index = items.findIndex((i) => i._id === itemChanges._id);\r\n            if (index === -1) return;\r\n            const item = items[index];\r\n            if (item) {\r\n                itemChanges = expandObject(itemChanges);\r\n                mergeObject(item, itemChanges);\r\n                items[index] = item;\r\n                // this.items[index].data = items[index];\r\n            }\r\n        });\r\n\r\n        await this.setEmbeddedItems(items);\r\n        await this.prepareEmbeddedEntities();\r\n        await this.prepareData();\r\n        await this.render(false);\r\n        return true;\r\n    }\r\n\r\n    async updateEmbeddedEntity(embeddedName: string, updateData: object | object[], options?: object) {\r\n        await this.updateOwnedItem(updateData);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove an owned item\r\n     * @param deleted\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    async deleteOwnedItem(deleted) {\r\n        const items = duplicate(this.getEmbeddedItems());\r\n        if (!items) return;\r\n\r\n        const idx = items.findIndex((i) => i._id === deleted || Number(i._id) === deleted);\r\n        if (idx === -1) throw new Error(`Shadowrun5e | Couldn't find owned item ${deleted}`);\r\n        items.splice(idx, 1);\r\n        await this.setEmbeddedItems(items);\r\n        await this.prepareEmbeddedEntities();\r\n        await this.prepareData();\r\n        await this.render(false);\r\n        return true;\r\n    }\r\n\r\n    async openPdfSource() {\r\n        const source = this.getBookSource();\r\n        if (source === '') {\r\n            // @ts-ignore\r\n            ui.notifications.error(game.i18n.localize('SR5.SourceFieldEmptyError'));\r\n        }\r\n        // TODO open PDF to correct location\r\n        // parse however you need, all \"buttons\" will lead to this function\r\n        const [code, page] = source.split(' ');\r\n        //@ts-ignore\r\n        ui.PDFoundry.openPDFByCode(code, parseInt(page));\r\n    }\r\n\r\n    isAreaOfEffect(): boolean {\r\n        return this.isGrenade() || (this.isSpell() && this.data.data.range === 'los_a') || this.hasExplosiveAmmo();\r\n    }\r\n\r\n    isGrenade(): boolean {\r\n        return this.data.type === 'weapon' && this.data.data.thrown?.blast?.radius;\r\n    }\r\n\r\n    isCombatSpell(): boolean {\r\n        return this.isSpell() && this.data.data.category === 'combat';\r\n    }\r\n\r\n    isRangedWeapon(): boolean {\r\n        return this.data.type === 'weapon' && this.data.data.category === 'range';\r\n    }\r\n\r\n    isSpell(): boolean {\r\n        return this.data.type === 'spell';\r\n    }\r\n\r\n    isComplexForm(): boolean {\r\n        return this.data.type === 'complex_form';\r\n    }\r\n\r\n    isMeleeWeapon(): boolean {\r\n        return this.data.type === 'weapon' && this.data.data.category === 'melee';\r\n    }\r\n\r\n    isEquipped(): boolean {\r\n        return this.data.data.technology?.equipped || false;\r\n    }\r\n\r\n    getBookSource(): string {\r\n        return this.data.data.description.source;\r\n    }\r\n\r\n    getAttackData(hits: number): AttackData | undefined {\r\n        if (!this.data.data.action?.damage) return undefined;\r\n        const damage = this.data.data.action.damage;\r\n        const data: AttackData = {\r\n            hits,\r\n            damage: damage,\r\n        };\r\n\r\n        if (this.isCombatSpell()) {\r\n            const force = this.getLastSpellForce().value;\r\n            data.force = force;\r\n            data.damage.base = force;\r\n            data.damage.value = force + Helpers.totalMods(data.damage.mod);\r\n            data.damage.ap.value = -force + Helpers.totalMods(data.damage.mod);\r\n            data.damage.ap.base = -force;\r\n        }\r\n\r\n        if (this.isComplexForm()) {\r\n            data.level = this.getLastComplexFormLevel().value;\r\n        }\r\n\r\n        if (this.isMeleeWeapon()) {\r\n            data.reach = this.getReach();\r\n            data.accuracy = this.getActionLimit();\r\n        }\r\n\r\n        if (this.isRangedWeapon()) {\r\n            data.fireMode = this.getLastFireMode();\r\n            data.accuracy = this.getActionLimit();\r\n        }\r\n\r\n        const blastData = this.getBlastData();\r\n        if (blastData) data.blast = blastData;\r\n\r\n        return data;\r\n    }\r\n\r\n    getActionSkill(): string | undefined {\r\n        return this.data.data.action?.skill;\r\n    }\r\n\r\n    getActionAttribute(): string | undefined {\r\n        return this.data.data.action?.attribute;\r\n    }\r\n\r\n    getActionAttribute2(): string | undefined {\r\n        return this.data.data.action?.attribute2;\r\n    }\r\n\r\n    getRollName(): string | undefined {\r\n        if (this.isRangedWeapon()) {\r\n            return game.i18n.localize('SR5.RangeWeaponAttack');\r\n        }\r\n        if (this.isMeleeWeapon()) {\r\n            return game.i18n.localize('SR5.MeleeWeaponAttack');\r\n        }\r\n        if (this.isCombatSpell()) {\r\n            return game.i18n.localize('SR5.SpellAttack');\r\n        }\r\n        if (this.isSpell()) {\r\n            return game.i18n.localize('SR5.SpellCast');\r\n        }\r\n        if (this.hasRoll) return this.name;\r\n        return undefined;\r\n    }\r\n\r\n    getLimit(): LimitField {\r\n        const limit = this.data.data.action?.limit;\r\n        if (this.data.type === 'weapon') {\r\n            limit.label = 'SR5.Accuracy';\r\n        } else if (limit?.attribute) {\r\n            limit.label = CONFIG.SR5.attributes[limit.attribute];\r\n        } else if (this.isSpell()) {\r\n            limit.value = this.getLastSpellForce().value;\r\n            limit.label = 'SR5.Force';\r\n        } else if (this.isComplexForm()) {\r\n            limit.value = this.getLastComplexFormLevel().value;\r\n            limit.label = 'SR5.Level';\r\n        } else {\r\n            limit.label = 'SR5.Limit';\r\n        }\r\n        return limit;\r\n    }\r\n\r\n    getActionLimit(): number | undefined {\r\n        return this.data.data.action?.limit?.value;\r\n    }\r\n\r\n    getModifierList(): ModList<number> {\r\n        return this.data.data.action?.dice_pool_mod || [];\r\n    }\r\n\r\n    getActionSpecialization(): string | undefined {\r\n        if (this.data.data.action?.spec) return 'SR5.Specialization';\r\n        return undefined;\r\n    }\r\n\r\n    getDrain(): number {\r\n        return this.data.data.drain || 0;\r\n    }\r\n\r\n    getFade(): number {\r\n        return this.data.data.fade || 0;\r\n    }\r\n\r\n    getRecoilCompensation(includeActor: boolean = true): number {\r\n        let base = parseInt(this.data.data.range.rc.value);\r\n        if (includeActor) base += parseInt(this.actor.data.data.recoil_compensation);\r\n        return base;\r\n    }\r\n\r\n    getReach(): number {\r\n        if (this.isMeleeWeapon()) {\r\n            return this.data.data.melee?.reach;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    hasExplosiveAmmo(): boolean {\r\n        const ammo = this.getEquippedAmmo();\r\n        return ammo?.data?.data?.blast?.radius > 0;\r\n    }\r\n\r\n    hasDefenseTest(): boolean {\r\n        return this.data.data.action?.opposed?.type === 'defense';\r\n    }\r\n\r\n    getOpposedTestMod(): ModList<number> {\r\n        const parts = {};\r\n        if (this.hasDefenseTest()) {\r\n            if (this.isAreaOfEffect()) {\r\n                parts['SR5.Aoe'] = -2;\r\n            }\r\n            if (this.isRangedWeapon()) {\r\n                const fireModeData = this.getLastFireMode();\r\n                if (fireModeData?.defense) {\r\n                    if (fireModeData.defense !== 'SR5.DuckOrCover') {\r\n                        const fireMode = +fireModeData.defense;\r\n                        if (fireMode) parts['SR5.FireMode'] = fireMode;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return parts;\r\n    }\r\n\r\n    getOpposedTestModifier(): string {\r\n        const testMod = this.getOpposedTestMod();\r\n        const total = Helpers.totalMods(testMod);\r\n        if (total) return `(${total})`;\r\n        else {\r\n            if (this.isRangedWeapon()) {\r\n                const fireModeData = this.getLastFireMode();\r\n                if (fireModeData?.defense) {\r\n                    if (fireModeData.defense === 'SR5.DuckOrCover') {\r\n                        return game.i18n.localize('SR5.DuckOrCover');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return '';\r\n    }\r\n\r\n    getBlastData(): BlastData | undefined {\r\n        // can only handle spells and grenade right now\r\n        if (this.isSpell() && this.isAreaOfEffect()) {\r\n            // distance on spells is equal to force\r\n            let distance = this.getLastSpellForce().value;\r\n            // extended spells multiply by 10\r\n            if (this.data.data.extended) distance *= 10;\r\n            return {\r\n                radius: distance,\r\n                dropoff: 0,\r\n            };\r\n        } else if (this.isGrenade()) {\r\n            // use blast radius\r\n            const distance = this.data.data.thrown.blast.radius;\r\n            const dropoff = this.data.data.thrown.blast.dropoff;\r\n            return {\r\n                radius: distance,\r\n                dropoff: dropoff,\r\n            };\r\n        } else if (this.hasExplosiveAmmo()) {\r\n            const ammo = this.getEquippedAmmo();\r\n            const distance = ammo.data.data.blast.radius;\r\n            const dropoff = ammo.data.data.blast.dropoff;\r\n            return {\r\n                radius: distance,\r\n                dropoff,\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Override setFlag to remove the 'SR5.' from keys in modlists, otherwise it handles them as embedded keys\r\n     * @param scope\r\n     * @param key\r\n     * @param value\r\n     */\r\n    setFlag(scope: string, key: string, value: any): Promise<Entity> {\r\n        const newValue = Helpers.onSetFlag(value);\r\n        return super.setFlag(scope, key, newValue);\r\n    }\r\n\r\n    /**\r\n     * Override getFlag to add back the 'SR5.' keys correctly to be handled\r\n     * @param scope\r\n     * @param key\r\n     */\r\n    getFlag(scope: string, key: string): any {\r\n        const data = super.getFlag(scope, key);\r\n        return Helpers.onGetFlag(data);\r\n    }\r\n}\r\n","import { Helpers } from '../helpers';\r\nimport { SR5Item } from './SR5Item';\r\n\r\n/**\r\n * Extend the basic ItemSheet with some very simple modifications\r\n */\r\nexport class SR5ItemSheet extends ItemSheet {\r\n    item: SR5Item;\r\n    private _shownDesc: any[];\r\n    private _scroll: string;\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._shownDesc = [];\r\n    }\r\n\r\n    getEmbeddedItems() {\r\n        return this.item.items || [];\r\n    }\r\n\r\n    /**\r\n     * Extend and override the default options used by the Simple Item Sheet\r\n     * @returns {Object}\r\n     */\r\n    static get defaultOptions() {\r\n        return mergeObject(super.defaultOptions, {\r\n            classes: ['sr5', 'sheet', 'item'],\r\n            width: 650,\r\n            height: 450,\r\n            tabs: [{ navSelector: '.tabs', contentSelector: '.sheetbody' }],\r\n        });\r\n    }\r\n\r\n    get template() {\r\n        const path = 'systems/shadowrun5e/dist/templates/item/';\r\n        return `${path}${this.item.data.type}.html`;\r\n    }\r\n\r\n    /* -------------------------------------------- */\r\n\r\n    /**\r\n     * Prepare data for rendering the Item sheet\r\n     * The prepared data object contains both the actor data as well as additional sheet options\r\n     */\r\n    getData() {\r\n        const data = super.getData();\r\n        const itemData = data.data;\r\n\r\n        if (itemData.action) {\r\n            try {\r\n                const { action } = itemData;\r\n                if (action.mod === 0) delete action.mod;\r\n                if (action.limit === 0) delete action.limit;\r\n                if (action.damage) {\r\n                    if (action.damage.mod === 0) delete action.damage.mod;\r\n                    if (action.damage.ap.mod === 0) delete action.damage.ap.mod;\r\n                }\r\n                if (action.limit) {\r\n                    if (action.limit.mod === 0) delete action.limit.mod;\r\n                }\r\n            } catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n\r\n        if (itemData.technology) {\r\n            try {\r\n                const tech = itemData.technology;\r\n                if (tech.rating === 0) delete tech.rating;\r\n                if (tech.quantity === 0) delete tech.quantity;\r\n                if (tech.cost === 0) delete tech.cost;\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n\r\n        data['config'] = CONFIG.SR5;\r\n        const items = this.getEmbeddedItems();\r\n        const [ammunition, weaponMods, armorMods] = items.reduce(\r\n            (parts: [BaseEntityData[], BaseEntityData[], BaseEntityData[]], item: SR5Item) => {\r\n                if (item.type === 'ammo') parts[0].push(item.data);\r\n                if (item.type === 'modification' && item.data.data.type === 'weapon') parts[1].push(item.data);\r\n                if (item.type === 'modification' && item.data.data.type === 'armor') parts[2].push(item.data);\r\n                return parts;\r\n            },\r\n            [[], [], []],\r\n        );\r\n        data['ammunition'] = ammunition;\r\n        data['weaponMods'] = weaponMods;\r\n        data['armorMods'] = armorMods;\r\n        // TODO set to the proper boolean for if the source PDF can be accessed\r\n        // I'm thinking maybe check for the mod being installed?\r\n        data['hasSourcePdfAvailable'] = true;\r\n\r\n        return data;\r\n    }\r\n\r\n    /* -------------------------------------------- */\r\n\r\n    /**\r\n     * Activate event listeners using the prepared sheet HTML\r\n     * @param html {HTML}   The prepared HTML object ready to be rendered into the DOM\r\n     */\r\n    activateListeners(html) {\r\n        super.activateListeners(html);\r\n        if (this.item.type === 'weapon') {\r\n            this.form.ondragover = (event) => this._onDragOver(event);\r\n            this.form.ondrop = (event) => this._onDrop(event);\r\n        }\r\n        html.find('.add-new-ammo').click(this._onAddNewAmmo.bind(this));\r\n        html.find('.ammo-equip').click(this._onAmmoEquip.bind(this));\r\n        html.find('.ammo-delete').click(this._onAmmoRemove.bind(this));\r\n        html.find('.ammo-reload').click(this._onAmmoReload.bind(this));\r\n\r\n        html.find('.edit-item').click(this._onEditItem.bind(this));\r\n\r\n        html.find('.add-new-mod').click(this._onAddWeaponMod.bind(this));\r\n        html.find('.mod-equip').click(this._onWeaponModEquip.bind(this));\r\n        html.find('.mod-delete').click(this._onWeaponModRemove.bind(this));\r\n\r\n        html.find('.add-new-license').click(this._onAddLicense.bind(this));\r\n        html.find('.license-delete').on('click', this._onRemoveLicense.bind(this));\r\n\r\n        html.find('.open-source-pdf').on('click', this._onOpenSourcePdf.bind(this));\r\n\r\n        html.find('.has-desc').click((event) => {\r\n            event.preventDefault();\r\n            const item = $(event.currentTarget).parents('.item');\r\n            const iid = $(item).data().item;\r\n            const field = item.next();\r\n            field.toggle();\r\n            if (iid) {\r\n                if (field.is(':visible')) this._shownDesc.push(iid);\r\n                else this._shownDesc = this._shownDesc.filter((val) => val !== iid);\r\n            }\r\n        });\r\n\r\n        html.find('.hidden').hide();\r\n    }\r\n\r\n    _onDragOver(event) {\r\n        event.preventDefault();\r\n        return false;\r\n    }\r\n\r\n    async _onDrop(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        let data;\r\n        try {\r\n            data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            if (data.type !== 'Item') {\r\n                console.log('Shadowrun5e | Can only drop Items');\r\n            }\r\n        } catch (err) {\r\n            console.log('Shadowrun5e | drop error');\r\n        }\r\n        let item;\r\n        // Case 1 - Data explicitly provided\r\n        if (data.data) {\r\n            // TODO test\r\n            if (this.item.isOwned && data.actorId === this.item.actor?._id && data.data._id === this.item._id) {\r\n                console.log('Shadowrun5e | Cant drop item on itself');\r\n                // @ts-ignore\r\n                ui.notifications.error('Are you trying to break the game??');\r\n            }\r\n            item = data;\r\n        } else if (data.pack) {\r\n            console.log(data);\r\n            // Case 2 - From a Compendium Pack\r\n            // TODO test\r\n            item = await this._getItemFromCollection(data.pack, data.id);\r\n        } else {\r\n            // Case 3 - From a World Entity\r\n            item = game.items.get(data.id);\r\n        }\r\n\r\n        this.item.createOwnedItem(item.data);\r\n    }\r\n\r\n    _getItemFromCollection(collection, itemId) {\r\n        const pack = game.packs.find((p) => p.collection === collection);\r\n        return pack.getEntity(itemId);\r\n    }\r\n\r\n    _eventId(event) {\r\n        event.preventDefault();\r\n        return event.currentTarget.closest('.item').dataset.itemId;\r\n    }\r\n\r\n    async _onOpenSourcePdf(event) {\r\n        event.preventDefault();\r\n        await this.item.openPdfSource();\r\n    }\r\n\r\n    async _onEditItem(event) {\r\n        const item = this.item.getOwnedItem(this._eventId(event));\r\n        if (item) {\r\n            item.sheet.render(true);\r\n        }\r\n    }\r\n\r\n    async _onAddLicense(event) {\r\n        event.preventDefault();\r\n        this.item.addNewLicense();\r\n    }\r\n\r\n    async _onRemoveLicense(event) {\r\n        event.preventDefault();\r\n        const index = event.currentTarget.dataset.index;\r\n        if (index >= 0) this.item.removeLicense(index);\r\n    }\r\n\r\n    async _onWeaponModRemove(event) {\r\n        this.item.deleteOwnedItem(this._eventId(event));\r\n    }\r\n\r\n    async _onWeaponModEquip(event) {\r\n        this.item.equipWeaponMod(this._eventId(event));\r\n    }\r\n\r\n    async _onAddWeaponMod(event) {\r\n        event.preventDefault();\r\n        const type = 'modification';\r\n        const itemData = {\r\n            name: `New ${Helpers.label(type)}`,\r\n            type: type,\r\n            data: duplicate(game.system.model.Item.modification),\r\n        };\r\n        itemData.data.type = 'weapon';\r\n        // @ts-ignore\r\n        const item = Item.createOwned(itemData, this.item);\r\n        this.item.createOwnedItem(item.data);\r\n    }\r\n\r\n    async _onAmmoReload(event) {\r\n        event.preventDefault();\r\n        this.item.reloadAmmo();\r\n    }\r\n\r\n    async _onAmmoRemove(event) {\r\n        this.item.deleteOwnedItem(this._eventId(event));\r\n    }\r\n\r\n    async _onAmmoEquip(event) {\r\n        this.item.equipAmmo(this._eventId(event));\r\n    }\r\n\r\n    _onAddNewAmmo(event) {\r\n        event.preventDefault();\r\n        const type = 'ammo';\r\n        const itemData = {\r\n            name: `New ${Helpers.label(type)}`,\r\n            type: type,\r\n            data: duplicate(game.system.model.Item.ammo),\r\n        };\r\n        // @ts-ignore\r\n        const item = Item.createOwned(itemData, this.item);\r\n        this.item.createOwnedItem(item.data);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _findActiveList() {\r\n        return $(this.element).find('.tab.active .scroll-area');\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    async _render(force = false, options = {}) {\r\n        this._saveScrollPositions();\r\n        await super._render(force, options);\r\n        this._restoreScrollPositions();\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _restoreScrollPositions() {\r\n        const activeList = this._findActiveList();\r\n        if (activeList.length && this._scroll != null) {\r\n            activeList.prop('scrollTop', this._scroll);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _saveScrollPositions() {\r\n        const activeList = this._findActiveList();\r\n        if (activeList.length) {\r\n            this._scroll = activeList.prop('scrollTop');\r\n        }\r\n    }\r\n}\r\n","import { SR5ItemSheet } from './item/SR5ItemSheet';\r\nimport { SR5ActorSheet } from './actor/SR5ActorSheet';\r\nimport { SR5Actor } from './actor/SR5Actor';\r\nimport { SR5Item } from './item/SR5Item';\r\nimport { SR5 } from './config';\r\nimport { Helpers } from './helpers';\r\nimport { registerSystemSettings } from './settings';\r\nimport { preCombatUpdate, shadowrunCombatUpdate } from './combat';\r\nimport { measureDistance } from './canvas';\r\nimport { OverwatchScoreTracker } from './apps/gmtools/OverwatchScoreTracker';\r\nimport { registerHandlebarHelpers, preloadHandlebarsTemplates } from './handlebars';\r\nimport { Migrator } from './migrator/Migrator';\r\nimport { SYSTEM_NAME } from './constants';\r\n\r\n/* -------------------------------------------- */\r\n/*  Browser Initialization                      */\r\n/* -------------------------------------------- */\r\nimport { registerCustomElements } from './rolls/util/RegistrationHelper';\r\nregisterCustomElements();\r\n\r\n/* -------------------------------------------- */\r\n/*  Foundry VTT Initialization                  */\r\n/* -------------------------------------------- */\r\n\r\nHooks.once('init', function () {\r\n    console.log('Loading Shadowrun 5e System');\r\n\r\n    // Create a shadowrun5e namespace within the game global\r\n    game['shadowrun5e'] = {\r\n        SR5Actor,\r\n        SR5Item,\r\n        rollItemMacro,\r\n    };\r\n\r\n    CONFIG.SR5 = SR5;\r\n    CONFIG.Actor.entityClass = SR5Actor;\r\n    CONFIG.Item.entityClass = SR5Item;\r\n\r\n    registerSystemSettings();\r\n\r\n    // Register sheet application classes\r\n    Actors.unregisterSheet('core', ActorSheet);\r\n    Actors.registerSheet(SYSTEM_NAME, SR5ActorSheet, { makeDefault: true });\r\n    Items.unregisterSheet('core', ItemSheet);\r\n    Items.registerSheet(SYSTEM_NAME, SR5ItemSheet, { makeDefault: true });\r\n\r\n    ['renderSR5ActorSheet', 'renderSR5ItemSheet'].forEach((s) => {\r\n        Hooks.on(s, (app, html) => Helpers.setupCustomCheckbox(app, html));\r\n    });\r\n\r\n    preloadHandlebarsTemplates();\r\n\r\n    // CONFIG.debug.hooks = true;\r\n});\r\n\r\nHooks.on('canvasInit', function () {\r\n    // this does actually exist. Fix in types?\r\n    // @ts-ignore\r\n    SquareGrid.prototype.measureDistance = measureDistance;\r\n});\r\n\r\nHooks.on('ready', function () {\r\n    // this is correct, will need to be fixed in foundry types\r\n    // @ts-ignore\r\n    game.socket.on('system.shadowrun5e', (data) => {\r\n        if (game.user.isGM && data.gmCombatUpdate) {\r\n            shadowrunCombatUpdate(data.gmCombatUpdate.changes, data.gmCombatUpdate.options);\r\n        }\r\n    });\r\n\r\n    if (game.user.isGM) {\r\n        Migrator.BeginMigration();\r\n    }\r\n});\r\n\r\nHooks.on('preUpdateCombat', preCombatUpdate);\r\n\r\n/* -------------------------------------------- */\r\n/*  Hotbar Macros                               */\r\n/* -------------------------------------------- */\r\n\r\nHooks.on('hotbarDrop', (bar, data, slot) => {\r\n    if (data.type !== 'Item') return;\r\n\r\n    createItemMacro(data.data, slot);\r\n    return false;\r\n});\r\n\r\nHooks.on('renderSceneControls', (controls, html) => {\r\n    html.find('[data-tool=\"overwatch-score-tracker\"]').on('click', (event) => {\r\n        event.preventDefault();\r\n        new OverwatchScoreTracker().render(true);\r\n    });\r\n});\r\n\r\nHooks.on('getSceneControlButtons', (controls) => {\r\n    if (game.user.isGM) {\r\n        const tokenControls = controls.find((c) => c.name === 'token');\r\n        tokenControls.tools.push({\r\n            name: 'overwatch-score-tracker',\r\n            title: 'CONTROLS.SR5.OverwatchScoreTracker',\r\n            icon: 'fas fa-network-wired',\r\n        });\r\n    }\r\n});\r\n\r\n/**\r\n * Create a Macro from an Item drop.\r\n * Get an existing item macro if one exists, otherwise create a new one.\r\n * @param {Object} item     The item data\r\n * @param {number} slot     The hotbar slot to use\r\n * @returns {Promise}\r\n */\r\nasync function createItemMacro(item, slot) {\r\n    const command = `game.shadowrun5e.rollItemMacro(\"${item.name}\");`;\r\n    let macro = game.macros.entities.find((m) => m.name === item.name);\r\n    if (!macro) {\r\n        macro = (await Macro.create(\r\n            {\r\n                name: item.name,\r\n                type: 'script',\r\n                img: item.img,\r\n                command: command,\r\n                flags: { 'shadowrun5e.itemMacro': true },\r\n            },\r\n            { displaySheet: false },\r\n        )) as Macro;\r\n    }\r\n    if (macro) game.user.assignHotbarMacro(macro, slot);\r\n}\r\n\r\n/**\r\n * Create a Macro from an Item drop.\r\n * Get an existing item macro if one exists, otherwise create a new one.\r\n * @param {string} itemName\r\n * @return {Promise}\r\n */\r\nfunction rollItemMacro(itemName) {\r\n    const speaker = ChatMessage.getSpeaker();\r\n    let actor;\r\n    if (speaker.token) actor = game.actors.tokens[speaker.token];\r\n    if (!actor) actor = game.actors.get(speaker.actor);\r\n    const item = actor ? actor.items.find((i) => i.name === itemName) : null;\r\n    if (!item) {\r\n        // @ts-ignore\r\n        return ui.notifications.warn(`Your controlled Actor does not have an item named ${itemName}`);\r\n    }\r\n\r\n    return item.rollTest(event);\r\n}\r\n\r\nregisterHandlebarHelpers();\r\n","import { VersionMigration } from './VersionMigration';\r\nimport { LegacyMigration } from './versions/LegacyMigration';\r\nimport { Version0_6_5 } from './versions/Version0_6_5';\r\n\r\ntype VersionDefinition = {\r\n    versionNumber: string;\r\n    migration: VersionMigration;\r\n};\r\nexport class Migrator {\r\n    // Map of all version migrations to their target version numbers.\r\n    private static readonly s_Versions: VersionDefinition[] = [\r\n        { versionNumber: LegacyMigration.TargetVersion, migration: new LegacyMigration() },\r\n        { versionNumber: Version0_6_5.TargetVersion, migration: new Version0_6_5() },\r\n    ];\r\n\r\n    //TODO: Call on Init()\r\n    public static async BeginMigration() {\r\n        let currentVersion = game.settings.get(VersionMigration.MODULE_NAME, VersionMigration.KEY_DATA_VERSION);\r\n        if (currentVersion === undefined || currentVersion === null) {\r\n            currentVersion = VersionMigration.NO_VERSION;\r\n        }\r\n\r\n        const migrations = Migrator.s_Versions.filter(({ versionNumber }) => {\r\n            // if versionNUmber is greater than currentVersion, we need to apply this migration\r\n            return this.compareVersion(versionNumber, currentVersion) === 1;\r\n        });\r\n\r\n        // No migrations are required, exit.\r\n        if (migrations.length === 0) {\r\n            return;\r\n        }\r\n\r\n        const localizedWarningTitle = game.i18n.localize('SR5.MIGRATION.WarningTitle');\r\n        const localizedWarningHeader = game.i18n.localize('SR5.MIGRATION.WarningHeader');\r\n        const localizedWarningRequired = game.i18n.localize('SR5.MIGRATION.WarningRequired');\r\n        const localizedWarningDescription = game.i18n.localize('SR5.MIGRATION.WarningDescription');\r\n        const localizedWarningBackup = game.i18n.localize('SR5.MIGRATION.WarningBackup');\r\n        const localizedWarningBegin = game.i18n.localize('SR5.MIGRATION.BeginMigration');\r\n\r\n        const d = new Dialog({\r\n            title: localizedWarningTitle,\r\n            content:\r\n                `<h2 style=\"color: red; text-align: center\">${localizedWarningHeader}</h2>` +\r\n                `<p style=\"text-align: center\"><i>${localizedWarningRequired}</i></p>` +\r\n                `<p>${localizedWarningDescription}</p>` +\r\n                `<h3 style=\"color: red\">${localizedWarningBackup}</h3>`,\r\n            buttons: {\r\n                ok: {\r\n                    label: localizedWarningBegin,\r\n                    callback: () => this.migrate(migrations),\r\n                },\r\n            },\r\n            default: 'ok',\r\n        });\r\n        d.render(true);\r\n    }\r\n\r\n    private static async migrate(migrations: VersionDefinition[]) {\r\n        // we want to apply migrations in ascending order until we're up to the latest\r\n        migrations.sort((a, b) => {\r\n            return this.compareVersion(a.versionNumber, b.versionNumber);\r\n        });\r\n\r\n        await this.migrateWorld(game, migrations);\r\n        await this.migrateCompendium(game, migrations);\r\n\r\n        const localizedWarningTitle = game.i18n.localize('SR5.MIGRATION.SuccessTitle');\r\n        const localizedWarningHeader = game.i18n.localize('SR5.MIGRATION.SuccessHeader');\r\n        const localizedSuccessDescription = game.i18n.localize('SR5.MIGRATION.SuccessDescription');\r\n        const localizedSuccessPacksInfo = game.i18n.localize('SR5.MIGRATION.SuccessPacksInfo');\r\n        const localizedSuccessConfirm = game.i18n.localize('SR5.MIGRATION.SuccessConfirm');\r\n        const packsDialog = new Dialog({\r\n            title: localizedWarningTitle,\r\n            content:\r\n                `<h2 style=\"text-align: center; color: green\">${localizedWarningHeader}</h2>` +\r\n                `<p>${localizedSuccessDescription}</p>` +\r\n                `<p style=\"text-align: center\"><i>${localizedSuccessPacksInfo}</i></p>`,\r\n            buttons: {\r\n                ok: {\r\n                    icon: '<i class=\"fas fa-check\"></i>',\r\n                    label: localizedSuccessConfirm,\r\n                },\r\n            },\r\n            default: 'ok',\r\n        });\r\n        packsDialog.render(true);\r\n    }\r\n\r\n    /**\r\n     * Migrate all world objects\r\n     * @param game\r\n     * @param migrations\r\n     */\r\n    private static async migrateWorld(game: Game, migrations: VersionDefinition[]) {\r\n        // Run the migrations in order\r\n        for (const { migration } of migrations) {\r\n            await migration.Migrate(game);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Iterate over all world compendium packs\r\n     * @param game Game that will be migrated\r\n     * @param migrations Instances of the version migration\r\n     */\r\n    private static async migrateCompendium(game: Game, migrations: VersionDefinition[]) {\r\n        // Migrate World Compendium Packs\r\n        const packs = game.packs.filter((pack) => pack.metadata.package === 'world' && ['Actor', 'Item', 'Scene'].includes(pack.metadata.entity));\r\n\r\n        // Run the migrations in order on each pack.\r\n        for (const pack of packs) {\r\n            for (const { migration } of migrations) {\r\n                await migration.MigrateCompendiumPack(pack);\r\n            }\r\n        }\r\n    }\r\n\r\n    // found at: https://helloacm.com/the-javascript-function-to-compare-version-number-strings/\r\n    // updated for typescript\r\n    /**\r\n     * compare two version numbers, returns 1 if v1 > v2, -1 if v1 < v2, 0 if equal\r\n     * @param v1\r\n     * @param v2\r\n     */\r\n    public static compareVersion(v1: string, v2: string) {\r\n        const s1 = v1.split('.').map((s) => parseInt(s, 10));\r\n        const s2 = v2.split('.').map((s) => parseInt(s, 10));\r\n        const k = Math.min(v1.length, v2.length);\r\n        for (let i = 0; i < k; ++i) {\r\n            if (s1[i] > s2[i]) return 1;\r\n            if (s1[i] < s2[i]) return -1;\r\n        }\r\n        return v1.length === v2.length ? 0 : v1.length < v2.length ? -1 : 1;\r\n    }\r\n}\r\n","import { SR5Actor } from '../actor/SR5Actor';\r\n\r\n/**\r\n * Converts a game's data model from source version to a target version.\r\n * Extending classes are only required to handle items, actors, and scenes,\r\n *  other methods are implementable purely for convenience and atomicity.\r\n */\r\nexport abstract class VersionMigration {\r\n    static readonly MODULE_NAME = 'shadowrun5e';\r\n    static readonly KEY_DATA_VERSION = 'systemMigrationVersion';\r\n    static readonly NO_VERSION = '0';\r\n\r\n    private m_Abort: boolean = false;\r\n    private m_AbortReason: string;\r\n\r\n    /**\r\n     * The allowed version this migrator should be able to operate on.\r\n     */\r\n    public abstract get SourceVersion(): string;\r\n    /**\r\n     * The resulting version this migrator will produce.\r\n     */\r\n    public abstract get TargetVersion(): string;\r\n\r\n    public get SourceVersionFriendlyName(): string {\r\n        return `v${this.SourceVersion}`;\r\n    }\r\n    public get TargetVersionFriendlyName(): string {\r\n        return `v${this.TargetVersion}`;\r\n    }\r\n\r\n    /**\r\n     * Flag the migration to be aborted.\r\n     * @param reason The reason that the migration must be aborted, to be displayed\r\n     *  to the user and returned from the migration call.\r\n     */\r\n    protected abort(reason: string): void {\r\n        this.m_Abort = true;\r\n        this.m_AbortReason = reason;\r\n        // @ts-ignore\r\n        ui.notifications.error(`Data migration has been aborted: ${reason}`, { permanent: true });\r\n    }\r\n\r\n    /**\r\n     * Begin migration for the specified game.\r\n     * @param game The world that should be migrated.\r\n     */\r\n    public async Migrate(game: Game) {\r\n        // @ts-ignore TODO Unignore when Foundry Types updates\r\n        ui.notifications.info(`Beginning Shadowrun system migration from version ${this.SourceVersionFriendlyName} to ${this.TargetVersionFriendlyName}.`);\r\n        // @ts-ignore TODO Unignore when Foundry Types updates\r\n        ui.notifications.warn(`Please do not close your game or shutdown FoundryVTT.`, {\r\n            permanent: true,\r\n        });\r\n\r\n        // Map of entities to update, store until later to reduce chance of partial updates\r\n        // which may result in impossible game states.\r\n        const entityUpdates: Map<Entity, EntityUpdate> = new Map<Entity, EntityUpdate>();\r\n\r\n        // Migrate World Items\r\n        await this.PreMigrateItemData(game, entityUpdates);\r\n        if (this.m_Abort) {\r\n            return Promise.reject(this.m_AbortReason);\r\n        }\r\n        await this.IterateItems(game, entityUpdates);\r\n        await this.PostMigrateItemData(game, entityUpdates);\r\n        if (this.m_Abort) {\r\n            return Promise.reject(this.m_AbortReason);\r\n        }\r\n\r\n        // Migrate World Actors\r\n        await this.PreMigrateActorData(game, entityUpdates);\r\n        if (this.m_Abort) {\r\n            return Promise.reject(this.m_AbortReason);\r\n        }\r\n        await this.IterateActors(game, entityUpdates);\r\n        await this.PostMigrateActorData(game, entityUpdates);\r\n        if (this.m_Abort) {\r\n            return Promise.reject(this.m_AbortReason);\r\n        }\r\n\r\n        // Migrate Actor Tokens\r\n        await this.PreMigrateSceneData(game, entityUpdates);\r\n        if (this.m_Abort) {\r\n            return Promise.reject(this.m_AbortReason);\r\n        }\r\n        await this.IterateScenes(game, entityUpdates);\r\n        await this.PostMigrateSceneData(game, entityUpdates);\r\n        if (this.m_Abort) {\r\n            return Promise.reject(this.m_AbortReason);\r\n        }\r\n\r\n        // Apply the updates, this should *always* work, now that parsing is complete.\r\n        await this.Apply(entityUpdates);\r\n\r\n        await game.settings.set(VersionMigration.MODULE_NAME, VersionMigration.KEY_DATA_VERSION, this.TargetVersion);\r\n        // @ts-ignore TODO Unignore when Foundry Types updates\r\n        ui.notifications.info(`Shadowrun system migration successfully migrated to version ${this.TargetVersion}.`, { permanent: true });\r\n    }\r\n\r\n    /**\r\n     * Applies the specified mapping of entities, iteratively updating each.\r\n     * @param entityUpdates A mapping of entity updateData pairs.\r\n     */\r\n    protected async Apply(entityUpdates: Map<Entity, EntityUpdate>) {\r\n        for (const [entity, { updateData, embeddedItems }] of entityUpdates) {\r\n            if (embeddedItems !== null) {\r\n                const actor = entity as SR5Actor;\r\n                await actor.updateOwnedItem(embeddedItems);\r\n            }\r\n            await entity.update(updateData, { enforceTypes: false });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Iterate through all scenes and migrate each if needed.\r\n     * @param game\r\n     * @param entityUpdates\r\n     */\r\n    protected async IterateScenes(game: Game, entityUpdates: Map<Entity, EntityUpdate>) {\r\n        for (const scene of game.scenes.entities) {\r\n            try {\r\n                if (!(await this.ShouldMigrateSceneData(scene))) {\r\n                    continue;\r\n                }\r\n\r\n                if (scene._id === 'MAwSFhlXRipixOWw') {\r\n                    console.log('Scene Pre-Update');\r\n                    console.log(scene);\r\n                }\r\n\r\n                console.log(`Migrating Scene entity ${scene.name}`);\r\n                const updateData = await this.MigrateSceneData(duplicate(scene.data));\r\n\r\n                let hasTokenUpdates = false;\r\n                updateData.tokens = await Promise.all(\r\n                    // @ts-ignore\r\n                    scene.data.tokens.map(async (token) => {\r\n                        if (isObjectEmpty(token.actorData)) {\r\n                            return token;\r\n                        }\r\n\r\n                        let tokenDataUpdate = await this.MigrateActorData(token.actorData);\r\n                        if (!isObjectEmpty(tokenDataUpdate)) {\r\n                            hasTokenUpdates = true;\r\n                            tokenDataUpdate['_id'] = token._id;\r\n\r\n                            const newToken = duplicate(token);\r\n                            newToken.actorData = await mergeObject(token.actorData, tokenDataUpdate, {\r\n                                enforceTypes: false,\r\n                                inplace: false,\r\n                            });\r\n                            console.log(newToken);\r\n                            return newToken;\r\n                        } else {\r\n                            return token;\r\n                        }\r\n                    }),\r\n                );\r\n                if (scene._id === 'MAwSFhlXRipixOWw') {\r\n                    console.log('Scene Pre-Update');\r\n                    console.log(scene);\r\n                }\r\n\r\n                if (isObjectEmpty(updateData)) {\r\n                    continue;\r\n                }\r\n\r\n                expandObject(updateData);\r\n                entityUpdates.set(scene, {\r\n                    updateData,\r\n                    embeddedItems: null,\r\n                });\r\n            } catch (error) {\r\n                console.error(error);\r\n                return Promise.reject(error);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Iterate through all items and migrate each if needed.\r\n     * @param game The game to be updated.\r\n     * @param entityUpdates The current map of entity updates.\r\n     */\r\n    protected async IterateItems(game: Game, entityUpdates: Map<Entity, EntityUpdate>) {\r\n        for (const item of game.items.entities) {\r\n            try {\r\n                if (!(await this.ShouldMigrateItemData(item.data))) {\r\n                    continue;\r\n                }\r\n\r\n                console.log(`Migrating Item: ${item.name}`);\r\n                const updateData = await this.MigrateItemData(item.data);\r\n\r\n                if (isObjectEmpty(updateData)) {\r\n                    continue;\r\n                }\r\n\r\n                expandObject(updateData);\r\n                entityUpdates.set(item, {\r\n                    updateData,\r\n                    embeddedItems: null,\r\n                });\r\n            } catch (error) {\r\n                console.error(error);\r\n                return Promise.reject(error);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Iterate through all actors and migrate each if needed.\r\n     * @param game The game to be updated.\r\n     * @param entityUpdates The current map of entity updates.\r\n     */\r\n    protected async IterateActors(game: Game, entityUpdates: Map<Entity, EntityUpdate>) {\r\n        for (const actor of game.actors.entities) {\r\n            try {\r\n                if (!(await this.ShouldMigrateActorData(actor.data))) {\r\n                    continue;\r\n                }\r\n\r\n                console.log(`Migrating Actor ${actor.name}`);\r\n                console.log(actor);\r\n                const updateData = await this.MigrateActorData(duplicate(actor.data));\r\n                console.log(updateData);\r\n                let items = [];\r\n                if (updateData.items) {\r\n                    items = updateData.items;\r\n                    delete updateData.items;\r\n                }\r\n\r\n                expandObject(updateData);\r\n                entityUpdates.set(actor, {\r\n                    updateData,\r\n                    embeddedItems: items,\r\n                });\r\n            } catch (error) {\r\n                console.error(error);\r\n                return Promise.reject(error);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Iterate over an actor's items, updating those that need updating.\r\n     * @param actorData The actor to iterate over\r\n     * @param updateData The existing update data to merge into\r\n     */\r\n    protected async IterateActorItems(actorData: ActorData, updateData) {\r\n        let hasItemUpdates = false;\r\n        // @ts-ignore\r\n        if (actorData.items !== undefined) {\r\n            const items = await Promise.all(\r\n                // @ts-ignore\r\n                actorData.items.map(async (item) => {\r\n                    let itemUpdate = await this.MigrateItemData(item);\r\n\r\n                    if (!isObjectEmpty(itemUpdate)) {\r\n                        hasItemUpdates = true;\r\n                        itemUpdate['_id'] = item._id;\r\n                        return await mergeObject(item, itemUpdate, {\r\n                            enforceTypes: false,\r\n                            inplace: false,\r\n                        });\r\n                    } else {\r\n                        return item;\r\n                    }\r\n                }),\r\n            );\r\n            if (hasItemUpdates) {\r\n                updateData.items = items;\r\n            }\r\n        }\r\n\r\n        return updateData;\r\n    }\r\n\r\n    /**\r\n     * Check if a scene requires updates.\r\n     * @param scene The scene to check.\r\n     * @return A promise that resolves true or false.\r\n     */\r\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\r\n        return false;\r\n    }\r\n    /**\r\n     * Migrate the specified scene's data.\r\n     * @param scene The scene to migrate.\r\n     * @return A promise that resolves with the update data.\r\n     */\r\n    protected async MigrateSceneData(scene: any): Promise<any> {\r\n        return {};\r\n    }\r\n    /**\r\n     * Do something right before scene data is migrated.\r\n     * @param game The game to be updated.\r\n     * @param entityUpdates The current map of entity updates.\r\n     */\r\n    protected async PreMigrateSceneData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\r\n    /**\r\n     * Do something right before scene data is migrated.\r\n     * @param game The game to be updated.\r\n     * @param entityUpdates The current map of entity updates.\r\n     */\r\n    protected async PostMigrateSceneData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\r\n\r\n    /**\r\n     * Check if an item requires updates.\r\n     * @param item The item to check.\r\n     * @return A promise that resolves true or false.\r\n     */\r\n    protected async ShouldMigrateItemData(item: BaseEntityData): Promise<boolean> {\r\n        return false;\r\n    }\r\n    /**\r\n     * Migrate the specified item's data.\r\n     * @param item The item to migrate.\r\n     * @return A promise that resolves with the update data.\r\n     */\r\n    protected async MigrateItemData(item: BaseEntityData): Promise<any> {\r\n        return {};\r\n    }\r\n    /**\r\n     * Do something right before item data is migrated.\r\n     * @param game The game to be updated.\r\n     * @param entityUpdates The current map of entity updates.\r\n     */\r\n    protected async PreMigrateItemData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\r\n    /**\r\n     * Do something right before item data is migrated.\r\n     * @param game The game to be updated.\r\n     * @param entityUpdates The current map of entity updates.\r\n     */\r\n    protected async PostMigrateItemData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\r\n\r\n    /**\r\n     * Check if an actor requires updates.\r\n     * @param actor The actor to check.\r\n     * @return A promise that resolves true or false.\r\n     */\r\n    protected async ShouldMigrateActorData(actor: ActorData): Promise<boolean> {\r\n        return false;\r\n    }\r\n    /**\r\n     * Migrate the specified actor's data.\r\n     * @param actor The actor to migrate.\r\n     * @return A promise that resolves with the update data.\r\n     */\r\n    protected async MigrateActorData(actor: ActorData): Promise<any> {\r\n        return {};\r\n    }\r\n    /**\r\n     * Do something right before actor data is migrated.\r\n     * @param game The game to be updated.\r\n     * @param entityUpdates The current map of entity updates.\r\n     */\r\n    protected async PreMigrateActorData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\r\n    /**\r\n     * Do something right after actor data is migrated.\r\n     * @param game The game to be updated.\r\n     * @param entityUpdates The current map of entity updates.\r\n     */\r\n    protected async PostMigrateActorData(game: Game, entityUpdates: Map<Entity, EntityUpdate>): Promise<void> {}\r\n\r\n    /**\r\n     * Migrate a compendium pack\r\n     * @param pack\r\n     */\r\n    public async MigrateCompendiumPack(pack: Compendium) {\r\n        const entity = pack.metadata.entity;\r\n        if (!['Actor', 'Item', 'Scene'].includes(entity)) return;\r\n\r\n        // Begin by requesting server-side data model migration and get the migrated content\r\n        await pack.migrate({});\r\n        const content = await pack.getContent();\r\n\r\n        // Iterate over compendium entries - applying fine-tuned migration functions\r\n        for (let ent of content) {\r\n            try {\r\n                let updateData: any = null;\r\n                if (entity === 'Item') {\r\n                    updateData = await this.MigrateItemData(ent.data);\r\n\r\n                    if (isObjectEmpty(updateData)) {\r\n                        continue;\r\n                    }\r\n\r\n                    expandObject(updateData);\r\n                    updateData['_id'] = ent._id;\r\n                    await pack.updateEntity(updateData);\r\n                    // TODO: Uncomment when foundry allows embeddeds to be updated in packs\r\n                    // } else if (entity === 'Actor') {\r\n                    //     updateData = await this.MigrateActorData(ent.data);\r\n                    //\r\n                    //     if (isObjectEmpty(updateData)) {\r\n                    //         continue;\r\n                    //     }\r\n                    //\r\n                    //     updateData['_id'] = ent._id;\r\n                    //     await pack.updateEntity(updateData);\r\n                } else if (entity === 'Scene') {\r\n                    updateData = await this.MigrateSceneData(ent.data);\r\n\r\n                    if (isObjectEmpty(updateData)) {\r\n                        continue;\r\n                    }\r\n\r\n                    expandObject(updateData);\r\n                    updateData['_id'] = ent._id;\r\n                    await pack.updateEntity(updateData);\r\n                }\r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n        }\r\n        console.log(`Migrated all ${entity} entities from Compendium ${pack.collection}`);\r\n    }\r\n}\r\n\r\ntype EntityUpdate = {\r\n    updateData: any;\r\n    embeddedItems: null | any[];\r\n};\r\n","import { VersionMigration } from '../VersionMigration';\r\n\r\n/**\r\n * Migrates the data model for Legacy migrations prior to 0.6.4\r\n */\r\nexport class LegacyMigration extends VersionMigration {\r\n    get SourceVersion(): string {\r\n        return '0';\r\n    }\r\n    get TargetVersion(): string {\r\n        return LegacyMigration.TargetVersion;\r\n    }\r\n    static get TargetVersion(): string {\r\n        return '0.6.4';\r\n    }\r\n\r\n    protected async MigrateActorData(actorData: ActorData): Promise<any> {\r\n        let updateData: any = {};\r\n        LegacyMigration.migrateActorOverflow(actorData, updateData);\r\n        LegacyMigration.migrateActorSkills(actorData, updateData);\r\n\r\n        updateData = await this.IterateActorItems(actorData, updateData);\r\n\r\n        return updateData;\r\n    }\r\n\r\n    protected async MigrateItemData(item: BaseEntityData): Promise<any> {\r\n        const updateData = {};\r\n        LegacyMigration.migrateDamageTypeAndElement(item, updateData);\r\n        LegacyMigration.migrateItemsAddActions(item, updateData);\r\n        LegacyMigration.migrateActorOverflow(item, updateData);\r\n        LegacyMigration.migrateItemsAddCapacity(item, updateData);\r\n        LegacyMigration.migrateItemsAmmo(item, updateData);\r\n        LegacyMigration.migrateItemsConceal(item, updateData);\r\n        return updateData;\r\n    }\r\n\r\n    protected async MigrateSceneData(scene: any): Promise<any> {\r\n        return {};\r\n    }\r\n\r\n    protected async ShouldMigrateActorData(actorData: ActorData): Promise<boolean> {\r\n        return true;\r\n    }\r\n\r\n    protected async ShouldMigrateItemData(item: BaseEntityData): Promise<boolean> {\r\n        return true;\r\n    }\r\n\r\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\r\n        // @ts-ignore\r\n        return scene.data.tokens?.length > 0;\r\n    }\r\n\r\n    /**\r\n     * Migrate actor overflow from an integer to an object\r\n     * - it wasn't even displayed before so we know it is 0\r\n     * @param actorData\r\n     * @param updateData\r\n     */\r\n    private static migrateActorOverflow(actorData, updateData) {\r\n        if (getProperty(actorData.data, 'track.physical.overflow') === 0) {\r\n            updateData['data.track.physical.overflow.value'] = 0;\r\n            updateData['data.track.physical.overflow.max'] = 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Migrate actor skills specializations to be a list instead of string\r\n     * @param actorData\r\n     * @param updateData\r\n     */\r\n    private static migrateActorSkills(actorData, updateData) {\r\n        if (!actorData.data?.skills?.active) return;\r\n        const splitRegex = /[,\\/|.]+/;\r\n\r\n        const reducer = (running, [key, val]) => {\r\n            if (!Array.isArray(val.specs) && val.specs) {\r\n                running[key] = {\r\n                    specs: val.specs.split(splitRegex).filter((s) => s !== ''),\r\n                };\r\n            }\r\n            return running;\r\n        };\r\n\r\n        if (actorData.data.skills) {\r\n            updateData['data.skills.active'] = Object.entries(actorData.data.skills.active).reduce(reducer, {});\r\n            if (actorData.data.skills.knowledge) {\r\n                updateData['data.skills.knowledge.street.value'] = Object.entries(actorData.data.skills?.knowledge?.street?.value).reduce(reducer, {});\r\n                updateData['data.skills.knowledge.professional.value'] = Object.entries(actorData.data.skills?.knowledge?.professional?.value).reduce(reducer, {});\r\n                updateData['data.skills.knowledge.academic.value'] = Object.entries(actorData.data.skills?.knowledge?.academic?.value).reduce(reducer, {});\r\n                updateData['data.skills.knowledge.interests.value'] = Object.entries(actorData.data.skills?.knowledge?.interests?.value).reduce(reducer, {});\r\n            }\r\n            if (actorData.data.skills.language) {\r\n                updateData['data.skills.language.value'] = Object.entries(actorData.data.skills?.language?.value).reduce(reducer, {});\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param item\r\n     * @param updateData\r\n     */\r\n    private static migrateDamageTypeAndElement(item, updateData) {\r\n        // console.log('Migrating Damage and Elements');\r\n        if (item.data.action) {\r\n            const action = item.data.action;\r\n            if (typeof action.damage.type === 'string') {\r\n                updateData['data.action.damage.type.base'] = item.data.action.damage.type;\r\n            }\r\n            if (typeof action.damage.element === 'string') {\r\n                updateData['data.action.damage.element.base'] = item.data.action.damage.element;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Migrate ammo from ranged weapons only to all weapons\r\n     * @param item\r\n     * @param updateData\r\n     */\r\n    private static migrateItemsAmmo(item, updateData) {\r\n        // console.log('Migrating Ammo');\r\n        if (item.type === 'weapon' && item.data.ammo === undefined) {\r\n            let currentAmmo = { value: 0, max: 0 };\r\n            if (item.data.category === 'range' && item.data.range && item.data.range.ammo) {\r\n                // copy over ammo count\r\n                const oldAmmo = item.data.range.ammo;\r\n                currentAmmo.value = oldAmmo.value;\r\n                currentAmmo.max = oldAmmo.max;\r\n            }\r\n            updateData['data.ammo'] = {\r\n                spare_clips: {\r\n                    value: 0,\r\n                    max: 0,\r\n                },\r\n                current: {\r\n                    value: currentAmmo.value,\r\n                    max: currentAmmo.max,\r\n                },\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Migrate conceal name\r\n     * @param item\r\n     * @param updateData\r\n     */\r\n    private static migrateItemsConceal(item, updateData) {\r\n        if (item.data.technology?.concealability !== undefined) {\r\n            updateData['data.technology.conceal'] = {\r\n                base: item.data.technology.concealability,\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add capacity to items\r\n     * @param item\r\n     * @param updateData\r\n     */\r\n    private static migrateItemsAddCapacity(item, updateData) {\r\n        if (['cyberware'].includes(item.type)) {\r\n            if (item.data.capacity === undefined) {\r\n                updateData.data.capacity = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add actions to needed items\r\n     * @param item\r\n     * @param updateData\r\n     */\r\n    private static migrateItemsAddActions(item, updateData) {\r\n        if (['quality', 'cyberware'].includes(item.type)) {\r\n            if (item.data.action === undefined) {\r\n                const action = {\r\n                    type: '',\r\n                    category: '',\r\n                    attribute: '',\r\n                    attribute2: '',\r\n                    skill: '',\r\n                    spec: false,\r\n                    mod: 0,\r\n                    limit: {\r\n                        value: 0,\r\n                        attribute: '',\r\n                    },\r\n                    extended: false,\r\n                    damage: {\r\n                        type: '',\r\n                        element: '',\r\n                        value: 0,\r\n                        ap: {\r\n                            value: 0,\r\n                        },\r\n                        attribute: '',\r\n                    },\r\n                    opposed: {\r\n                        type: '',\r\n                        attribute: '',\r\n                        attribute2: '',\r\n                        skill: '',\r\n                        mod: 0,\r\n                        description: '',\r\n                    },\r\n                };\r\n                if (!updateData.data) updateData.data = {};\r\n                updateData.data.action = action;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { VersionMigration } from '../VersionMigration';\r\n\r\n/**\r\n * Add default value of willpower to the full_defense_attribute field\r\n */\r\nexport class Version0_6_5 extends VersionMigration {\r\n    get SourceVersion(): string {\r\n        return '0.6.4';\r\n    }\r\n    get TargetVersion(): string {\r\n        return Version0_6_5.TargetVersion;\r\n    }\r\n    static get TargetVersion(): string {\r\n        return '0.6.5';\r\n    }\r\n\r\n    protected async MigrateActorData(actorData: ActorData): Promise<any> {\r\n        let updateData: any = {};\r\n        if (updateData.data === undefined) updateData.data = {};\r\n        updateData.data.full_defense_attribute = 'willpower';\r\n        return updateData;\r\n    }\r\n\r\n    protected async ShouldMigrateActorData(actorData: any): Promise<boolean> {\r\n        return actorData.data.full_defense_attribute === undefined;\r\n    }\r\n\r\n    protected async ShouldMigrateSceneData(scene: Scene): Promise<boolean> {\r\n        // @ts-ignore\r\n        return scene.data.tokens?.length > 0;\r\n    }\r\n}\r\n","import { RollDialog, SR5RollDialogOptions } from './RollDialog';\r\nimport { DialogField } from '../field/base/DialogField';\r\nimport { SR5Actor } from '../../actor/SR5Actor';\r\n\r\nexport class DynamicDialog extends RollDialog {\r\n    constructor(fields: DialogField<any>[], actor?: SR5Actor, options?: SR5RollDialogOptions) {\r\n        super(actor, options);\r\n\r\n        this._fields.push(...fields);\r\n    }\r\n}\r\n","import { DialogField } from '../field/base/DialogField';\r\nimport { SR5Actor } from '../../actor/SR5Actor';\r\n\r\nexport type SR5RollDialogOptions = ApplicationOptions;\r\n\r\nexport type RollData = {\r\n    [key: string]: any;\r\n};\r\n\r\nexport abstract class RollDialog extends Application {\r\n    static get defaultOptions() {\r\n        const options = super.defaultOptions;\r\n        options.baseApplication = 'SR5RollDialog';\r\n        options.classes = ['sr5', 'roll-dialog'];\r\n        options.width = 400;\r\n        options.height = 'auto';\r\n\r\n        // TODO: I18n\r\n        options.title = 'Simple Roll';\r\n        return options;\r\n    }\r\n\r\n    /**\r\n     * Path to the template used for the dialog application.\r\n     */\r\n    public get template(): string {\r\n        return 'systems/shadowrun5e/dist/templates/roll/dialog/basic-roll.html';\r\n    }\r\n\r\n    protected readonly _fields: DialogField<any>[];\r\n    protected readonly _actor: SR5Actor | undefined;\r\n\r\n    protected constructor(actor?: SR5Actor, options?: SR5RollDialogOptions) {\r\n        super(options);\r\n\r\n        this._fields = [];\r\n        this._actor = actor;\r\n    }\r\n\r\n    protected activateListeners(html: JQuery<HTMLElement> | HTMLElement): void {\r\n        super.activateListeners(html);\r\n\r\n        const form = $(this.element).find('form');\r\n        for (const field of this._fields) {\r\n            form.prepend(field);\r\n        }\r\n\r\n        $(html).find('#roll').on('click', this.onRollClicked.bind(this));\r\n    }\r\n\r\n    protected onRollClicked(event: Event) {\r\n        event.preventDefault();\r\n\r\n        let data: RollData = {};\r\n        for (const field of this._fields) {\r\n            field.collect(this._actor, data);\r\n        }\r\n\r\n        console.warn('Data-Post-Collection');\r\n        console.warn(data);\r\n        // TODO: Roll the dice.\r\n    }\r\n}\r\n","import { NumberField } from './base/NumberField';\r\nimport { RollData } from '../dialog/RollDialog';\r\nimport { SR5Actor } from '../../actor/SR5Actor';\r\n\r\nexport const SITUATIONAL_MODIFIER_DATA_KEY = 'situationalModifier';\r\n\r\nexport class SituationalModifierField extends NumberField {\r\n    public constructor(defaultModifier: number) {\r\n        super('situational-modifier', 'SR5.SituationalModifier', defaultModifier);\r\n    }\r\n\r\n    collect(actor: SR5Actor, data: RollData) {\r\n        data[SITUATIONAL_MODIFIER_DATA_KEY] = this.getValue();\r\n    }\r\n}\r\n","import { SelectField } from './base/SelectField';\r\nimport { RollData } from '../dialog/RollDialog';\r\nimport { SR5Actor } from '../../actor/SR5Actor';\r\nimport { SR5ActiveSkill } from '../../types/enum/SR5ActiveSkill';\r\nimport SR5ActorData = Shadowrun.SR5ActorData;\r\n\r\nexport class SkillField extends SelectField {\r\n    public static getOptions(): string[] {\r\n        const pattern = /[A-Z]/;\r\n        const keys = Object.keys(SR5ActiveSkill);\r\n        for (let i = 0; i < keys.length; i++) {\r\n            const match = keys[i].match(pattern);\r\n            console.warn(keys[i]);\r\n            console.warn(match);\r\n        }\r\n        return keys;\r\n    }\r\n\r\n    public static getValues(): string[] {\r\n        return Object.values(SR5ActiveSkill);\r\n    }\r\n\r\n    constructor(defaultSkill: SR5ActiveSkill) {\r\n        super('skill', 'SR5.Skill', defaultSkill.toString(), SkillField.getOptions(), SkillField.getValues());\r\n    }\r\n\r\n    collect(actor: SR5Actor | undefined, data: RollData) {\r\n        // TODO: An example of how powerful this is.\r\n        //  We might not want this to pull data like this though.\r\n        //  Roll now has access to the entire skill *and* attribute.\r\n        //  Three lines of code (but some error handling is needed).\r\n        const actorData: SR5ActorData = actor?.data.data;\r\n        data['skill'] = actorData.skills.active[this.getValue()];\r\n        data['skill']['attribute'] = actorData.attributes[data['skill']['attribute']];\r\n    }\r\n}\r\n","import { RollData } from '../../dialog/RollDialog';\r\nimport { SR5Actor } from '../../../actor/SR5Actor';\r\n\r\nexport abstract class DialogField<TValue extends { toString: () => string }> extends HTMLElement {\r\n    // <editor-fold desc=\"Static Properties\"></editor-fold>\r\n\r\n    // <editor-fold desc=\"Static Methods\"></editor-fold>\r\n\r\n    // <editor-fold desc=\"Properties\">\r\n\r\n    /**\r\n     * The localization key of the label.\r\n     */\r\n    protected readonly labelKey: string;\r\n\r\n    /**\r\n     * Internal stored value of this field.\r\n     */\r\n    private _value: TValue;\r\n\r\n    // </editor-fold>\r\n\r\n    // <editor-fold desc=\"Constructor & Initialization\">\r\n\r\n    protected constructor(id: string, label: string, value: TValue) {\r\n        super();\r\n\r\n        this.id = id;\r\n        this.labelKey = label;\r\n        this._value = value;\r\n\r\n        this.setAttribute('class', this.class);\r\n    }\r\n\r\n    // </editor-fold>\r\n\r\n    // <editor-fold desc=\"Getters & Setters\">\r\n\r\n    // Read Only\r\n\r\n    /**\r\n     * Get the class that should be added to the root element.\r\n     */\r\n    public get class(): string {\r\n        return 'form-group';\r\n    }\r\n\r\n    // Read + Write\r\n\r\n    /**\r\n     * Get the value for this field. Can be overridden if type coercion is needed.\r\n     */\r\n    public getValue(): TValue {\r\n        return this._value;\r\n    }\r\n\r\n    /**\r\n     * Set the value for this field. Can be overridden if type coercion is needed.\r\n     * @param value\r\n     */\r\n    public setValue(value: TValue) {\r\n        this._value = value;\r\n    }\r\n\r\n    // </editor-fold>\r\n\r\n    // <editor-fold desc=\"Instance Methods\">\r\n\r\n    /**\r\n     * Get an id for the specified child element\r\n     * @param type\r\n     */\r\n    public getIdForChild(type: 'label' | 'input') {\r\n        return `${this.id}-${type}`;\r\n    }\r\n\r\n    /**\r\n     * This gets called when the element has been connected to the DOM. It's private so it doesn't get overwritten\r\n     * by accident. If you want more elements you should use {@see createAdditionalElements} instead.\r\n     */\r\n    private connectedCallback() {\r\n        const label = this.createLabel();\r\n        const input = this.createInput();\r\n\r\n        input.onchange = this.onInputChanged.bind(this);\r\n        input.oninput = this.onInputChanged.bind(this);\r\n\r\n        this.append(label);\r\n        this.append(input);\r\n\r\n        this.createAdditionalElements();\r\n    }\r\n\r\n    /**\r\n     * Create any additional elements this field needs.\r\n     */\r\n    protected createAdditionalElements() {}\r\n\r\n    /**\r\n     * Create the label to be used in this field.\r\n     */\r\n    protected createLabel(): HTMLLabelElement {\r\n        const label = document.createElement('label');\r\n\r\n        label.id = this.getIdForChild('label');\r\n        label.setAttribute('for', this.getIdForChild('input'));\r\n        label.innerText = game.i18n.localize(this.labelKey);\r\n\r\n        return label;\r\n    }\r\n\r\n    /**\r\n     * Create the input to be used in this field.\r\n     */\r\n    protected abstract createInput(): HTMLElement;\r\n\r\n    /**\r\n     * Callback executed when input is changed.\r\n     * @param event\r\n     */\r\n    protected abstract onInputChanged(event: Event);\r\n\r\n    /**\r\n     * Collects relevant data from the actor or fields and places it in the RollData object for use.\r\n     * @param actor\r\n     * @param data\r\n     */\r\n    public abstract collect(actor: SR5Actor | undefined, data: RollData);\r\n\r\n    // </editor-fold>\r\n}\r\n","import { DialogField } from './DialogField';\r\n\r\nexport abstract class NumberField extends DialogField<number> {\r\n    protected constructor(id: string, label: string, value: number) {\r\n        super(id, label, value);\r\n        // TODO: Handle min + max\r\n    }\r\n\r\n    public setValue(value: number | string) {\r\n        if (typeof value === 'string') {\r\n            value = parseInt(value);\r\n        }\r\n\r\n        super.setValue(value);\r\n    }\r\n\r\n    protected createInput(): HTMLInputElement {\r\n        const input = document.createElement('input');\r\n\r\n        input.id = this.getIdForChild('input');\r\n        input.value = this.getValue().toString();\r\n\r\n        input.setAttribute('type', 'number');\r\n\r\n        return input;\r\n    }\r\n\r\n    protected onInputChanged(event: Event) {\r\n        const input: HTMLInputElement = event.currentTarget as HTMLInputElement;\r\n        const stringValue = input.value.trim();\r\n\r\n        if (stringValue === '') {\r\n            this.setValue(0);\r\n        } else {\r\n            this.setValue(stringValue);\r\n        }\r\n    }\r\n}\r\n","import { DialogField } from './DialogField';\r\n\r\nexport abstract class SelectField extends DialogField<string> {\r\n    protected _options: string[];\r\n    protected _values: string[];\r\n\r\n    protected constructor(id: string, label: string, value: string, options: string[], values: string[]) {\r\n        super(id, label, value);\r\n\r\n        if (options.length !== values.length) {\r\n            throw new Error(`Cannot create SelectField: Options.length = ${options.length} but values.length = ${values.length}`);\r\n        }\r\n\r\n        this._options = options;\r\n        this._values = values;\r\n    }\r\n\r\n    protected createOptions(): HTMLOptionElement[] {\r\n        const options: HTMLOptionElement[] = [];\r\n        for (let i = 0; i < this._options.length; i++) {\r\n            const option = this._options[i];\r\n            const value = this._values[i];\r\n\r\n            const element = document.createElement('option');\r\n            element.value = value;\r\n            element.innerText = option;\r\n            options.push(element);\r\n        }\r\n        return options;\r\n    }\r\n\r\n    protected onInputChanged(event: Event) {\r\n        event.preventDefault();\r\n\r\n\r\n    }\r\n\r\n    protected createInput(): HTMLSelectElement {\r\n        const select = document.createElement('select');\r\n\r\n        select.id = this.getIdForChild('input');\r\n        select.value = this.getValue().toString();\r\n\r\n        select.onchange += this.onInputChanged.bind(this);\r\n\r\n        const options = this.createOptions();\r\n        select.append(...options);\r\n        return select;\r\n    }\r\n}\r\n","import { SituationalModifierField } from '../field/SituationalModifierField';\r\nimport { SkillField } from '../field/SkillField';\r\n\r\nexport const registerCustomElements = () => {\r\n    console.warn(`Registering Custom HTML Elements`);\r\n    window.customElements.define('sitmod-field', SituationalModifierField);\r\n    window.customElements.define('skill-field', SkillField);\r\n};\r\n","// game settings for shadowrun 5e\r\n\r\nimport { VersionMigration } from './migrator/VersionMigration';\r\nimport { SYSTEM_NAME } from './constants';\r\n\r\nexport const registerSystemSettings = () => {\r\n\r\n    /**\r\n     * Register diagonal movement rule setting\r\n     */\r\n    game.settings.register(SYSTEM_NAME, 'diagonalMovement', {\r\n        name: 'SETTINGS.DiagonalMovementName',\r\n        hint: 'SETTINGS.DiagonalMovementDescription',\r\n        scope: 'world',\r\n        config: true,\r\n        type: String,\r\n        default: '1-2-1',\r\n        choices: {\r\n            '1-1-1': 'SETTINGS.IgnoreDiagonal',\r\n            '1-2-1': 'SETTINGS.EstimateDiagonal',\r\n        },\r\n        onChange: (rule) => (canvas.grid.diagonalRule = rule),\r\n    });\r\n\r\n    /**\r\n     * Default limit behavior\r\n     */\r\n    game.settings.register(SYSTEM_NAME, 'applyLimits', {\r\n        name: 'SETTINGS.ApplyLimitsName',\r\n        hint: 'SETTINGS.ApplyLimitsDescription',\r\n        scope: 'world',\r\n        config: true,\r\n        type: Boolean,\r\n        default: true,\r\n    });\r\n\r\n    game.settings.register(SYSTEM_NAME, 'displayDefaultRollCard', {\r\n        name: 'SETTINGS.DisplayDefaultRollCardName',\r\n        hint: 'SETTINGS.DisplayDefaultRollCardDescription',\r\n        scope: 'user',\r\n        config: true,\r\n        type: Boolean,\r\n        default: false,\r\n    });\r\n\r\n    /**\r\n     * Track system version upon which a migration was last applied\r\n     */\r\n    game.settings.register(SYSTEM_NAME, VersionMigration.KEY_DATA_VERSION, {\r\n        name: 'System Data Version.',\r\n        scope: 'world',\r\n        config: false,\r\n        type: String,\r\n        default: '0',\r\n    });\r\n};\r\n","/**\r\n * An active skill in the SR5 system. These can be safely used as keys to access an actor's active skill list.\r\n * TODO: Move this enum to a module. Also need a map for localization.\r\n */\r\nexport enum SR5ActiveSkill {\r\n    Archery = 'archery',\r\n    Automatics = 'automatics',\r\n    Blades = 'blades',\r\n    Clubs = 'clubs',\r\n    ExoticMelee = 'exotic_melee',\r\n    ExoticRange = 'exotic_range',\r\n    HeavyWeapons = 'heavy_weapons',\r\n    Longarms = 'longarms',\r\n    Pistols = 'pistols',\r\n    ThrowingWeapons = 'throwing_weapons',\r\n    UnarmedCombat = 'unarmed_combat',\r\n    Disguise = 'disguise',\r\n    Diving = 'diving',\r\n    EscapeArtist = 'escape_artist',\r\n    FreeFall = 'free_fall',\r\n    Gymnastics = 'gymnastics',\r\n    Palming = 'palming',\r\n    Perception = 'perception',\r\n    Running = 'running',\r\n    Sneaking = 'sneaking',\r\n    Survival = 'survival',\r\n    Swimming = 'swimming',\r\n    Tracking = 'tracking',\r\n    Con = 'con',\r\n    Etiquette = 'etiquette',\r\n    Impersonation = 'impersonation',\r\n    Instruction = 'instruction',\r\n    Intimidation = 'intimidation',\r\n    Leadership = 'leadership',\r\n    Negotiation = 'negotiation',\r\n    Performance = 'performance',\r\n    Alchemy = 'alchemy',\r\n    Arcana = 'arcana',\r\n    Artificing = 'artificing',\r\n    Assensing = 'assensing',\r\n    AstralCombat = 'astral_combat',\r\n    Banishing = 'banishing',\r\n    Binding = 'binding',\r\n    Counterspelling = 'counterspelling',\r\n    Disenchanting = 'disenchanting',\r\n    RitualSpellcasting = 'ritual_spellcasting',\r\n    Spellcasting = 'spellcasting',\r\n    Summoning = 'summoning',\r\n    Compiling = 'compiling',\r\n    Decompiling = 'decompiling',\r\n    Registering = 'registering',\r\n    AeronauticsMechanic = 'aeronautics_mechanic',\r\n    AutomotiveMechanic = 'automotive_mechanic',\r\n    IndustrialMechanic = 'industrial_mechanic',\r\n    NauticalMechanic = 'nautical_mechanic',\r\n    AnimalHandling = 'animal_handling',\r\n    Armorer = 'armorer',\r\n    Artisan = 'artisan',\r\n    Biotechnology = 'biotechnology',\r\n    Chemistry = 'chemistry',\r\n    Computer = 'computer',\r\n    Cybercombat = 'cybercombat',\r\n    Cybertechnology = 'cybertechnology',\r\n    Demolitions = 'demolitions',\r\n    ElectronicWarfare = 'electronic_warfare',\r\n    FirstAid = 'first_aid',\r\n    Forgery = 'forgery',\r\n    Hacking = 'hacking',\r\n    Hardware = 'hardware',\r\n    Locksmith = 'locksmith',\r\n    Medicine = 'medicine',\r\n    Navigation = 'navigation',\r\n    Software = 'software',\r\n    Gunnery = 'gunnery',\r\n    PilotAerospace = 'pilot_aerospace',\r\n    PilotAircraft = 'pilot_aircraft',\r\n    PilotWalker = 'pilot_walker',\r\n    PilotGroundCraft = 'pilot_ground_craft',\r\n    PilotWaterCraft = 'pilot_water_craft',\r\n    PilotExoticVehicle = 'pilot_exotic_vehicle',\r\n}\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3N1cGVyUHJvcEJhc2UuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwic3JjL21vZHVsZS9hY3Rvci9TUjVBY3Rvci50cyIsInNyYy9tb2R1bGUvYWN0b3IvU1I1QWN0b3JTaGVldC50cyIsInNyYy9tb2R1bGUvYXBwcy9jaHVtbWVyLWltcG9ydC1mb3JtLmpzIiwic3JjL21vZHVsZS9hcHBzL2dtdG9vbHMvT3ZlcndhdGNoU2NvcmVUcmFja2VyLmpzIiwic3JjL21vZHVsZS9hcHBzL3NraWxscy9Lbm93bGVkZ2VTa2lsbEVkaXRGb3JtLnRzIiwic3JjL21vZHVsZS9hcHBzL3NraWxscy9MYW5ndWFnZVNraWxsRWRpdEZvcm0udHMiLCJzcmMvbW9kdWxlL2FwcHMvc2tpbGxzL1NraWxsRWRpdEZvcm0udHMiLCJzcmMvbW9kdWxlL2NhbnZhcy50cyIsInNyYy9tb2R1bGUvY29tYmF0LnRzIiwic3JjL21vZHVsZS9jb25maWcudHMiLCJzcmMvbW9kdWxlL2NvbnN0YW50cy50cyIsInNyYy9tb2R1bGUvaGFuZGxlYmFycy50cyIsInNyYy9tb2R1bGUvaGVscGVycy50cyIsInNyYy9tb2R1bGUvaXRlbS9DaGF0RGF0YS50cyIsInNyYy9tb2R1bGUvaXRlbS9TUjVJdGVtLnRzIiwic3JjL21vZHVsZS9pdGVtL1NSNUl0ZW1TaGVldC50cyIsInNyYy9tb2R1bGUvbWFpbi50cyIsInNyYy9tb2R1bGUvbWlncmF0b3IvTWlncmF0b3IudHMiLCJzcmMvbW9kdWxlL21pZ3JhdG9yL1ZlcnNpb25NaWdyYXRpb24udHMiLCJzcmMvbW9kdWxlL21pZ3JhdG9yL3ZlcnNpb25zL0xlZ2FjeU1pZ3JhdGlvbi50cyIsInNyYy9tb2R1bGUvbWlncmF0b3IvdmVyc2lvbnMvVmVyc2lvbjBfNl81LnRzIiwic3JjL21vZHVsZS9yb2xscy9kaWFsb2cvRHluYW1pY0RpYWxvZy50cyIsInNyYy9tb2R1bGUvcm9sbHMvZGlhbG9nL1JvbGxEaWFsb2cudHMiLCJzcmMvbW9kdWxlL3JvbGxzL2ZpZWxkL1NpdHVhdGlvbmFsTW9kaWZpZXJGaWVsZC50cyIsInNyYy9tb2R1bGUvcm9sbHMvZmllbGQvU2tpbGxGaWVsZC50cyIsInNyYy9tb2R1bGUvcm9sbHMvZmllbGQvYmFzZS9EaWFsb2dGaWVsZC50cyIsInNyYy9tb2R1bGUvcm9sbHMvZmllbGQvYmFzZS9OdW1iZXJGaWVsZC50cyIsInNyYy9tb2R1bGUvcm9sbHMvZmllbGQvYmFzZS9TZWxlY3RGaWVsZC50cyIsInNyYy9tb2R1bGUvcm9sbHMvdXRpbC9SZWdpc3RyYXRpb25IZWxwZXIudHMiLCJzcmMvbW9kdWxlL3NldHRpbmdzLnRzIiwic3JjL21vZHVsZS90eXBlcy9lbnVtL1NSNUFjdGl2ZVNraWxsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0FBQyxDQUFDLEtBQUssQ0FBQztZQUNuRSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssT0FBTztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUN4QyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssYUFBYTtnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNuRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssUUFBUTtnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUM5QyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssY0FBYztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNwRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssV0FBVztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUNqRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssS0FBSztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMzQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUztnQkFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENB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LHlEQUF1QyxDQUFBO0lBQ3ZDLHVEQUFxQyxDQUFBO0lBQ3JDLDZEQUEyQyxDQUFBO0FBQy9DLENBQUMsRUE1RVcsY0FBYyxHQUFkLHNCQUFjLEtBQWQsc0JBQWMsUUE0RXpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkOyIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3luY1RvR2VuZXJhdG9yOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5OyIsInZhciBzdXBlclByb3BCYXNlID0gcmVxdWlyZShcIi4vc3VwZXJQcm9wQmFzZVwiKTtcblxuZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIgJiYgUmVmbGVjdC5nZXQpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF9nZXQgPSBSZWZsZWN0LmdldDtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICB2YXIgYmFzZSA9IHN1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICBpZiAoIWJhc2UpIHJldHVybjtcbiAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlciB8fCB0YXJnZXQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9nZXQ7IiwiZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2dldFByb3RvdHlwZU9mOyIsInZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL3NldFByb3RvdHlwZU9mXCIpO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2luaGVyaXRzOyIsImZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgXCJkZWZhdWx0XCI6IG9ialxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQ7IiwidmFyIF90eXBlb2YgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBhc3NlcnRUaGlzSW5pdGlhbGl6ZWQgPSByZXF1aXJlKFwiLi9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIik7XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICByZXR1cm4gY2FsbDtcbiAgfVxuXG4gIHJldHVybiBhc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm47IiwiZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2Y7IiwidmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vZ2V0UHJvdG90eXBlT2ZcIik7XG5cbmZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgd2hpbGUgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHtcbiAgICBvYmplY3QgPSBnZXRQcm90b3R5cGVPZihvYmplY3QpO1xuICAgIGlmIChvYmplY3QgPT09IG51bGwpIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc3VwZXJQcm9wQmFzZTsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF90eXBlb2Y7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt0b1N0cmluZ1RhZ1N5bWJvbF0gPVxuICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgaWYgKCEodG9TdHJpbmdUYWdTeW1ib2wgaW4gZ2VuRnVuKSkge1xuICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iLCJpbXBvcnQgeyBIZWxwZXJzIH0gZnJvbSAnLi4vaGVscGVycyc7XHJcbmltcG9ydCB7IFNSNUl0ZW0gfSBmcm9tICcuLi9pdGVtL1NSNUl0ZW0nO1xyXG5pbXBvcnQgSXRlbURhdGEgPSBTaGFkb3dydW4uSXRlbURhdGE7XHJcbmltcG9ydCBBdHRyaWJ1dGVzID0gU2hhZG93cnVuLkF0dHJpYnV0ZXM7XHJcbmltcG9ydCBTa2lsbHMgPSBTaGFkb3dydW4uU2tpbGxzO1xyXG5pbXBvcnQgS25vd2xlZGdlU2tpbGxMaXN0ID0gU2hhZG93cnVuLktub3dsZWRnZVNraWxsTGlzdDtcclxuaW1wb3J0IEtub3dsZWRnZVNraWxscyA9IFNoYWRvd3J1bi5Lbm93bGVkZ2VTa2lsbHM7XHJcbmltcG9ydCBMaW1pdHMgPSBTaGFkb3dydW4uTGltaXRzO1xyXG5pbXBvcnQgVHJhY2tzID0gU2hhZG93cnVuLlRyYWNrcztcclxuaW1wb3J0IEF0dHJpYnV0ZUZpZWxkID0gU2hhZG93cnVuLkF0dHJpYnV0ZUZpZWxkO1xyXG5pbXBvcnQgTWF0cml4ID0gU2hhZG93cnVuLk1hdHJpeDtcclxuaW1wb3J0IFNraWxsRmllbGQgPSBTaGFkb3dydW4uU2tpbGxGaWVsZDtcclxuaW1wb3J0IFZhbHVlTWF4UGFpciA9IFNoYWRvd3J1bi5WYWx1ZU1heFBhaXI7XHJcbmltcG9ydCBNb2RMaXN0ID0gU2hhZG93cnVuLk1vZExpc3Q7XHJcbmltcG9ydCBCYXNlVmFsdWVQYWlyID0gU2hhZG93cnVuLkJhc2VWYWx1ZVBhaXI7XHJcbmltcG9ydCBNb2RpZmlhYmxlVmFsdWUgPSBTaGFkb3dydW4uTW9kaWZpYWJsZVZhbHVlO1xyXG5pbXBvcnQgTGFiZWxGaWVsZCA9IFNoYWRvd3J1bi5MYWJlbEZpZWxkO1xyXG5pbXBvcnQgTGltaXRGaWVsZCA9IFNoYWRvd3J1bi5MaW1pdEZpZWxkO1xyXG5pbXBvcnQgeyBTWVNURU1fTkFNRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU1I1QWN0b3IgZXh0ZW5kcyBBY3RvciB7XHJcbiAgICBhc3luYyB1cGRhdGUoZGF0YSwgb3B0aW9ucz8pIHtcclxuICAgICAgICBhd2FpdCBzdXBlci51cGRhdGUoZGF0YSwgb3B0aW9ucyk7XHJcbiAgICAgICAgLy8gdHJpZ2dlciB1cGRhdGUgZm9yIGFsbCBpdGVtcyB3aXRoIGFjdGlvblxyXG4gICAgICAgIC8vIG5lZWRlZCBmb3Igcm9sbHMgdG8gcHJvcGVybHkgdXBkYXRlIHdoZW4gaXRlbXMgb3IgYXR0cmlidXRlcyB1cGRhdGVcclxuICAgICAgICBjb25zdCBpdGVtVXBkYXRlczogSXRlbVtdID0gW107XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5kYXRhLml0ZW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0uZGF0YS5hY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1VcGRhdGVzLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVFbWJlZGRlZEVudGl0eSgnT3duZWRJdGVtJywgaXRlbVVwZGF0ZXMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE92ZXJ3YXRjaFNjb3JlKCkge1xyXG4gICAgICAgIGNvbnN0IG9zID0gdGhpcy5nZXRGbGFnKFNZU1RFTV9OQU1FLCAnb3ZlcndhdGNoU2NvcmUnKTtcclxuICAgICAgICByZXR1cm4gb3MgIT09IHVuZGVmaW5lZCA/IG9zIDogMDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZXRPdmVyd2F0Y2hTY29yZSh2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlKTtcclxuICAgICAgICBpZiAoIWlzTmFOKG51bSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ292ZXJ3YXRjaFNjb3JlJywgbnVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJlcGFyZURhdGEoKSB7XHJcbiAgICAgICAgc3VwZXIucHJlcGFyZURhdGEoKTtcclxuXHJcbiAgICAgICAgY29uc3QgYWN0b3JEYXRhID0gdGhpcy5kYXRhO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjb25zdCBpdGVtczogU1I1SXRlbVtdID0gYWN0b3JEYXRhLml0ZW1zO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhY3RvckRhdGEuZGF0YTtcclxuICAgICAgICBjb25zdCB7IGF0dHJpYnV0ZXMgfTogeyBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzIH0gPSBkYXRhO1xyXG4gICAgICAgIGNvbnN0IGFybW9yID0gZGF0YS5hcm1vcjtcclxuICAgICAgICBjb25zdCB7IGxpbWl0cyB9OiB7IGxpbWl0czogTGltaXRzIH0gPSBkYXRhO1xyXG4gICAgICAgIGNvbnN0IHsgbGFuZ3VhZ2UgfTogeyBsYW5ndWFnZTogS25vd2xlZGdlU2tpbGxMaXN0IH0gPSBkYXRhLnNraWxscztcclxuICAgICAgICBjb25zdCB7IGFjdGl2ZSB9OiB7IGFjdGl2ZTogU2tpbGxzIH0gPSBkYXRhLnNraWxscztcclxuICAgICAgICBjb25zdCB7IGtub3dsZWRnZToga25vd2xlZGdlIH06IHsga25vd2xlZGdlOiBLbm93bGVkZ2VTa2lsbHMgfSA9IGRhdGEuc2tpbGxzO1xyXG4gICAgICAgIGNvbnN0IHsgdHJhY2sgfTogeyB0cmFjazogVHJhY2tzIH0gPSBkYXRhO1xyXG5cclxuICAgICAgICBhdHRyaWJ1dGVzLm1hZ2ljLmhpZGRlbiA9ICEoZGF0YS5zcGVjaWFsID09PSAnbWFnaWMnKTtcclxuICAgICAgICBhdHRyaWJ1dGVzLnJlc29uYW5jZS5oaWRkZW4gPSAhKGRhdGEuc3BlY2lhbCA9PT0gJ3Jlc29uYW5jZScpO1xyXG5cclxuICAgICAgICBpZiAoIWRhdGEubW9kaWZpZXJzKSBkYXRhLm1vZGlmaWVycyA9IHt9O1xyXG4gICAgICAgIGNvbnN0IG1vZGlmaWVycyA9IHt9O1xyXG4gICAgICAgIGxldCBtaXNjVGFiTW9kaWZpZXJzID0gW1xyXG4gICAgICAgICAgICAnc29haycsXHJcbiAgICAgICAgICAgICdkcmFpbicsXHJcbiAgICAgICAgICAgICdhcm1vcicsXHJcbiAgICAgICAgICAgICdwaHlzaWNhbF9saW1pdCcsXHJcbiAgICAgICAgICAgICdzb2NpYWxfbGltaXQnLFxyXG4gICAgICAgICAgICAnbWVudGFsX2xpbWl0JyxcclxuICAgICAgICAgICAgJ3N0dW5fdHJhY2snLFxyXG4gICAgICAgICAgICAncGh5c2ljYWxfdHJhY2snLFxyXG4gICAgICAgICAgICAnbWVhdF9pbml0aWF0aXZlJyxcclxuICAgICAgICAgICAgJ21lYXRfaW5pdGlhdGl2ZV9kaWNlJyxcclxuICAgICAgICAgICAgJ2FzdHJhbF9pbml0aWF0aXZlJyxcclxuICAgICAgICAgICAgJ2FzdHJhbF9pbml0aWF0aXZlX2RpY2UnLFxyXG4gICAgICAgICAgICAnbWF0cml4X2luaXRpYXRpdmUnLFxyXG4gICAgICAgICAgICAnbWF0cml4X2luaXRpYXRpdmVfZGljZScsXHJcbiAgICAgICAgICAgICdjb21wb3N1cmUnLFxyXG4gICAgICAgICAgICAnbGlmdF9jYXJyeScsXHJcbiAgICAgICAgICAgICdqdWRnZV9pbnRlbnRpb25zJyxcclxuICAgICAgICAgICAgJ21lbW9yeScsXHJcbiAgICAgICAgICAgICd3YWxrJyxcclxuICAgICAgICAgICAgJ3J1bicsXHJcbiAgICAgICAgICAgICdkZWZlbnNlJyxcclxuICAgICAgICAgICAgJ3dvdW5kX3RvbGVyYW5jZScsXHJcbiAgICAgICAgICAgICdlc3NlbmNlJyxcclxuICAgICAgICAgICAgJ2ZhZGUnLFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgbWlzY1RhYk1vZGlmaWVycy5zb3J0KCk7XHJcbiAgICAgICAgbWlzY1RhYk1vZGlmaWVycy51bnNoaWZ0KCdnbG9iYWwnKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBtaXNjVGFiTW9kaWZpZXJzKSB7XHJcbiAgICAgICAgICAgIG1vZGlmaWVyc1tpdGVtXSA9IGRhdGEubW9kaWZpZXJzW2l0ZW1dIHx8IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkYXRhLm1vZGlmaWVycyA9IG1vZGlmaWVycztcclxuXHJcbiAgICAgICAgbGV0IHRvdGFsRXNzZW5jZSA9IDY7XHJcbiAgICAgICAgYXJtb3IuYmFzZSA9IDA7XHJcbiAgICAgICAgYXJtb3IudmFsdWUgPSAwO1xyXG4gICAgICAgIGFybW9yLm1vZCA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBPYmplY3Qua2V5cyhDT05GSUcuU1I1LmVsZW1lbnRUeXBlcykpIHtcclxuICAgICAgICAgICAgYXJtb3JbZWxlbWVudF0gPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gREVGQVVMVCBNQVRSSVggQVRUUyBUTyBNT0QgVkFMVUVcclxuICAgICAgICBjb25zdCBtYXRyaXg6IE1hdHJpeCA9IGRhdGEubWF0cml4O1xyXG4gICAgICAgIG1hdHJpeC5maXJld2FsbC52YWx1ZSA9IEhlbHBlcnMudG90YWxNb2RzKG1hdHJpeC5maXJld2FsbC5tb2QpO1xyXG4gICAgICAgIG1hdHJpeC5kYXRhX3Byb2Nlc3NpbmcudmFsdWUgPSBIZWxwZXJzLnRvdGFsTW9kcyhtYXRyaXguZGF0YV9wcm9jZXNzaW5nLm1vZCk7XHJcbiAgICAgICAgbWF0cml4LmF0dGFjay52YWx1ZSA9IEhlbHBlcnMudG90YWxNb2RzKG1hdHJpeC5hdHRhY2subW9kKTtcclxuICAgICAgICBtYXRyaXguc2xlYXplLnZhbHVlID0gSGVscGVycy50b3RhbE1vZHMobWF0cml4LnNsZWF6ZS5tb2QpO1xyXG4gICAgICAgIG1hdHJpeC5jb25kaXRpb25fbW9uaXRvci5tYXggPSAwO1xyXG4gICAgICAgIG1hdHJpeC5yYXRpbmcgPSAwO1xyXG4gICAgICAgIG1hdHJpeC5uYW1lID0gJyc7XHJcbiAgICAgICAgbWF0cml4LmRldmljZSA9ICcnO1xyXG5cclxuICAgICAgICAvLyBQQVJTRSBXRUFQT05TIEFORCBTRVQgVkFMVUVTIEFTIE5FRURFRFxyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgT2JqZWN0LnZhbHVlcyhpdGVtcykpIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbURhdGE6IEl0ZW1EYXRhID0gKGl0ZW0uZGF0YSBhcyB1bmtub3duKSBhcyBJdGVtRGF0YTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGVxdWlwcGVkID0gaXRlbURhdGEudGVjaG5vbG9neT8uZXF1aXBwZWQ7XHJcbiAgICAgICAgICAgIGlmIChlcXVpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1EYXRhLmFybW9yICYmIGl0ZW1EYXRhLmFybW9yLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBhIG1vZCwgYWRkIHRvIHRoZSBtb2QgZmllbGRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbURhdGEuYXJtb3IubW9kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFybW9yLm1vZFtpdGVtLm5hbWVdID0gaXRlbURhdGEuYXJtb3IudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvLyBpZiBub3QgYSBtb2QsIHNldCBhcm1vci52YWx1ZSB0byB0aGUgaXRlbXMgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJtb3IuYmFzZSA9IGl0ZW1EYXRhLmFybW9yLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5sYWJlbCA9IGl0ZW0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIE9iamVjdC5rZXlzKENPTkZJRy5TUjUuZWxlbWVudFR5cGVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJtb3JbZWxlbWVudF0gPSBpdGVtRGF0YS5hcm1vcltlbGVtZW50XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBNT0RJRklFUyBFU1NFTkNFXHJcbiAgICAgICAgICAgIGlmIChpdGVtRGF0YS5lc3NlbmNlICYmIGl0ZW1EYXRhLnRlY2hub2xvZ3kgJiYgaXRlbURhdGEudGVjaG5vbG9neS5lcXVpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgdG90YWxFc3NlbmNlIC09IGl0ZW1EYXRhLmVzc2VuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gTU9ESUZJRVMgTUFUUklYIEFUVFJJQlVURVNcclxuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2RldmljZScgJiYgaXRlbURhdGEudGVjaG5vbG9neT8uZXF1aXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5kZXZpY2UgPSBpdGVtLl9pZDtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25fbW9uaXRvci5tYXggPSBpdGVtRGF0YS50ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yPy5tYXggfHwgMDtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25fbW9uaXRvci52YWx1ZSA9IGl0ZW1EYXRhLnRlY2hub2xvZ3kuY29uZGl0aW9uX21vbml0b3I/LnZhbHVlIHx8IDA7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXgucmF0aW5nID0gaXRlbURhdGEudGVjaG5vbG9neS5yYXRpbmc7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXguaXNfY3liZXJkZWNrID0gaXRlbURhdGEuY2F0ZWdvcnkgPT09ICdjeWJlcmRlY2snO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4Lm5hbWUgPSBpdGVtLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBtYXRyaXguaXRlbSA9IGl0ZW1EYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtRGF0YS5jYXRlZ29yeSA9PT0gJ2N5YmVyZGVjaycgJiYgaXRlbURhdGEuYXR0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IFtrZXksIGF0dF0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbURhdGEuYXR0cykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W2F0dC5hdHRdLnZhbHVlICs9IGF0dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W2F0dC5hdHRdLmRldmljZV9hdHQgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXguZmlyZXdhbGwudmFsdWUgKz0gbWF0cml4LnJhdGluZyB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5kYXRhX3Byb2Nlc3NpbmcudmFsdWUgKz0gbWF0cml4LnJhdGluZyB8fCAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhcm1vci5tb2RbZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQm9udXMnKV0gPSBtb2RpZmllcnNbJ2FybW9yJ107XHJcbiAgICAgICAgLy8gU0VUIEFSTU9SXHJcbiAgICAgICAgYXJtb3IudmFsdWUgPSBhcm1vci5iYXNlICsgSGVscGVycy50b3RhbE1vZHMoYXJtb3IubW9kKTtcclxuXHJcbiAgICAgICAgLy8gQVRUUklCVVRFU1xyXG4gICAgICAgIGZvciAobGV0IFssIGF0dF0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykpIHtcclxuICAgICAgICAgICAgaWYgKCFhdHQuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWF0dC5tb2QpIGF0dC5tb2QgPSB7fTtcclxuICAgICAgICAgICAgICAgIGF0dC52YWx1ZSA9IGF0dC5iYXNlICsgSGVscGVycy50b3RhbE1vZHMoYXR0Lm1vZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChsYW5ndWFnZSkge1xyXG4gICAgICAgICAgICBpZiAoIWxhbmd1YWdlLnZhbHVlKSBsYW5ndWFnZS52YWx1ZSA9IHt9O1xyXG4gICAgICAgICAgICBsYW5ndWFnZS5hdHRyaWJ1dGUgPSAnaW50dWl0aW9uJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHByZXBhcmVTa2lsbCA9IChza2lsbCkgPT4ge1xyXG4gICAgICAgICAgICBza2lsbC5tb2QgPSB7fTtcclxuICAgICAgICAgICAgaWYgKCFza2lsbC5iYXNlKSBza2lsbC5iYXNlID0gMDtcclxuICAgICAgICAgICAgaWYgKHNraWxsLmJvbnVzPy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGJvbnVzIG9mIHNraWxsLmJvbnVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpbGwubW9kW2JvbnVzLmtleV0gPSBib251cy52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBza2lsbC52YWx1ZSA9IHNraWxsLmJhc2UgKyBIZWxwZXJzLnRvdGFsTW9kcyhza2lsbC5tb2QpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgc2tpbGwgb2YgT2JqZWN0LnZhbHVlcyhhY3RpdmUpKSB7XHJcbiAgICAgICAgICAgIGlmICghc2tpbGwuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVwYXJlU2tpbGwoc2tpbGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhkYXRhLnNraWxscy5sYW5ndWFnZS52YWx1ZSk7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBlbnRyaWVzIHdoaWNoIGFyZSBkZWxldGVkIFRPRE8gZmlndXJlIG91dCBob3cgdG8gZGVsZXRlIHRoZXNlIGZyb20gdGhlIGRhdGFcclxuICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKChba2V5LCB2YWxdOiBbc3RyaW5nLCB7IF9kZWxldGU/OiBib29sZWFuIH1dKSA9PiB2YWwuX2RlbGV0ZSAmJiBkZWxldGUgZGF0YS5za2lsbHMubGFuZ3VhZ2UudmFsdWVba2V5XSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBza2lsbCBvZiBPYmplY3QudmFsdWVzKGxhbmd1YWdlLnZhbHVlKSkge1xyXG4gICAgICAgICAgICBwcmVwYXJlU2tpbGwoc2tpbGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgWywgZ3JvdXBdIG9mIE9iamVjdC5lbnRyaWVzKGtub3dsZWRnZSkpIHtcclxuICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGdyb3VwLnZhbHVlKTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGVudHJpZXMgd2hpY2ggYXJlIGRlbGV0ZWQgVE9ETyBmaWd1cmUgb3V0IGhvdyB0byBkZWxldGUgdGhlc2UgZnJvbSB0aGUgZGF0YVxyXG4gICAgICAgICAgICBncm91cC52YWx1ZSA9IGVudHJpZXNcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKFssIHZhbF0pID0+ICF2YWwuX2RlbGV0ZSlcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgW2lkLCBza2lsbF0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwcmVwYXJlU2tpbGwoc2tpbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjY1tpZF0gPSBza2lsbDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVEVDSE5PTUFOQ0VSIExJVklORyBQRVJTT05BXHJcbiAgICAgICAgaWYgKGRhdGEuc3BlY2lhbCA9PT0gJ3Jlc29uYW5jZScpIHtcclxuICAgICAgICAgICAgLy8gaWYgd2UgZG9uJ3QgaGF2ZSBhIGRldmljZSwgdXNlIGxpdmluZyBwZXJzb25hXHJcbiAgICAgICAgICAgIGlmIChtYXRyaXguZGV2aWNlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgLy8gd2Ugc2hvdWxkIHVzZSBsaXZpbmcgcGVyc29uYVxyXG4gICAgICAgICAgICAgICAgbWF0cml4LmZpcmV3YWxsLnZhbHVlICs9IGF0dHJpYnV0ZXMud2lsbHBvd2VyLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LmRhdGFfcHJvY2Vzc2luZy52YWx1ZSArPSBhdHRyaWJ1dGVzLmxvZ2ljLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnJhdGluZyA9IGF0dHJpYnV0ZXMucmVzb25hbmNlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LmF0dGFjay52YWx1ZSArPSBhdHRyaWJ1dGVzLmNoYXJpc21hLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgbWF0cml4LnNsZWF6ZS52YWx1ZSArPSBhdHRyaWJ1dGVzLmludHVpdGlvbi52YWx1ZTtcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5uYW1lID0gJ0xpdmluZyBQZXJzb25hJztcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5kZXZpY2UgPSAnJztcclxuICAgICAgICAgICAgICAgIG1hdHJpeC5jb25kaXRpb25fbW9uaXRvci5tYXggPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzZXQgbWF0cml4IGNvbmRpdGlvbiBtb25pdG9yIHRvIG1heCBpZiBncmVhdGVyIHRoYW5cclxuICAgICAgICBpZiAobWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLnZhbHVlID4gbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLm1heCkgbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLnZhbHVlID0gbWF0cml4LmNvbmRpdGlvbl9tb25pdG9yLm1heDtcclxuXHJcbiAgICAgICAgLy8gQUREIE1BVFJJWCBBVFRTIFRPIExJTUlUU1xyXG4gICAgICAgIGxpbWl0cy5maXJld2FsbCA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IG1hdHJpeC5maXJld2FsbC52YWx1ZSxcclxuICAgICAgICAgICAgYmFzZTogbWF0cml4LmZpcmV3YWxsLmJhc2UsXHJcbiAgICAgICAgICAgIG1vZDogbWF0cml4LmZpcmV3YWxsLm1vZCxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGltaXRzLmRhdGFfcHJvY2Vzc2luZyA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IG1hdHJpeC5kYXRhX3Byb2Nlc3NpbmcudmFsdWUsXHJcbiAgICAgICAgICAgIGJhc2U6IG1hdHJpeC5kYXRhX3Byb2Nlc3NpbmcuYmFzZSxcclxuICAgICAgICAgICAgbW9kOiBtYXRyaXguZGF0YV9wcm9jZXNzaW5nLm1vZCxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGltaXRzLmF0dGFjayA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IG1hdHJpeC5hdHRhY2sudmFsdWUsXHJcbiAgICAgICAgICAgIGJhc2U6IG1hdHJpeC5hdHRhY2suYmFzZSxcclxuICAgICAgICAgICAgbW9kOiBtYXRyaXguYXR0YWNrLm1vZCxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGltaXRzLnNsZWF6ZSA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IG1hdHJpeC5zbGVhemUudmFsdWUsXHJcbiAgICAgICAgICAgIGJhc2U6IG1hdHJpeC5zbGVhemUuYmFzZSxcclxuICAgICAgICAgICAgbW9kOiBtYXRyaXguc2xlYXplLm1vZCxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF0dHJpYnV0ZXMuZmlyZXdhbGwgPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBtYXRyaXguZmlyZXdhbGwudmFsdWUsXHJcbiAgICAgICAgICAgIGJhc2U6IG1hdHJpeC5maXJld2FsbC5iYXNlLFxyXG4gICAgICAgICAgICBtb2Q6IG1hdHJpeC5maXJld2FsbC5tb2QsXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGF0dHJpYnV0ZXMuZGF0YV9wcm9jZXNzaW5nID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogbWF0cml4LmRhdGFfcHJvY2Vzc2luZy52YWx1ZSxcclxuICAgICAgICAgICAgYmFzZTogbWF0cml4LmRhdGFfcHJvY2Vzc2luZy5iYXNlLFxyXG4gICAgICAgICAgICBtb2Q6IG1hdHJpeC5kYXRhX3Byb2Nlc3NpbmcubW9kLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBhdHRyaWJ1dGVzLmF0dGFjayA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IG1hdHJpeC5hdHRhY2sudmFsdWUsXHJcbiAgICAgICAgICAgIGJhc2U6IG1hdHJpeC5hdHRhY2suYmFzZSxcclxuICAgICAgICAgICAgbW9kOiBtYXRyaXguYXR0YWNrLm1vZCxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXR0cmlidXRlcy5zbGVhemUgPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBtYXRyaXguc2xlYXplLnZhbHVlLFxyXG4gICAgICAgICAgICBiYXNlOiBtYXRyaXguc2xlYXplLmJhc2UsXHJcbiAgICAgICAgICAgIG1vZDogbWF0cml4LnNsZWF6ZS5tb2QsXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBTRVQgRVNTRU5DRVxyXG4gICAgICAgIGFjdG9yRGF0YS5kYXRhLmF0dHJpYnV0ZXMuZXNzZW5jZS52YWx1ZSA9ICsodG90YWxFc3NlbmNlICsgbW9kaWZpZXJzWydlc3NlbmNlJ10pLnRvRml4ZWQoMyk7XHJcblxyXG4gICAgICAgIC8vIFNFVFVQIExJTUlUU1xyXG4gICAgICAgIGxpbWl0cy5waHlzaWNhbC52YWx1ZSA9XHJcbiAgICAgICAgICAgIE1hdGguY2VpbCgoMiAqIGF0dHJpYnV0ZXMuc3RyZW5ndGgudmFsdWUgKyBhdHRyaWJ1dGVzLmJvZHkudmFsdWUgKyBhdHRyaWJ1dGVzLnJlYWN0aW9uLnZhbHVlKSAvIDMpICsgbW9kaWZpZXJzWydwaHlzaWNhbF9saW1pdCddO1xyXG4gICAgICAgIGxpbWl0cy5tZW50YWwudmFsdWUgPSBNYXRoLmNlaWwoKDIgKiBhdHRyaWJ1dGVzLmxvZ2ljLnZhbHVlICsgYXR0cmlidXRlcy5pbnR1aXRpb24udmFsdWUgKyBhdHRyaWJ1dGVzLndpbGxwb3dlci52YWx1ZSkgLyAzKSArIG1vZGlmaWVyc1snbWVudGFsX2xpbWl0J107XHJcbiAgICAgICAgbGltaXRzLnNvY2lhbC52YWx1ZSA9XHJcbiAgICAgICAgICAgIE1hdGguY2VpbCgoMiAqIGF0dHJpYnV0ZXMuY2hhcmlzbWEudmFsdWUgKyBhdHRyaWJ1dGVzLndpbGxwb3dlci52YWx1ZSArIGF0dHJpYnV0ZXMuZXNzZW5jZS52YWx1ZSkgLyAzKSArIG1vZGlmaWVyc1snc29jaWFsX2xpbWl0J107XHJcblxyXG4gICAgICAgIC8vIE1PVkVNRU5UXHJcbiAgICAgICAgY29uc3QgbW92ZW1lbnQgPSBkYXRhLm1vdmVtZW50O1xyXG4gICAgICAgIG1vdmVtZW50LndhbGsudmFsdWUgPSBhdHRyaWJ1dGVzLmFnaWxpdHkudmFsdWUgKiAoMiArIG1vZGlmaWVyc1snd2FsayddKTtcclxuICAgICAgICBtb3ZlbWVudC5ydW4udmFsdWUgPSBhdHRyaWJ1dGVzLmFnaWxpdHkudmFsdWUgKiAoNCArIG1vZGlmaWVyc1sncnVuJ10pO1xyXG5cclxuICAgICAgICAvLyBDT05ESVRJT05fTU9OSVRPUlNcclxuICAgICAgICB0cmFjay5waHlzaWNhbC5tYXggPSA4ICsgTWF0aC5jZWlsKGF0dHJpYnV0ZXMuYm9keS52YWx1ZSAvIDIpICsgbW9kaWZpZXJzWydwaHlzaWNhbF90cmFjayddO1xyXG4gICAgICAgIHRyYWNrLnBoeXNpY2FsLm92ZXJmbG93Lm1heCA9IGF0dHJpYnV0ZXMuYm9keS52YWx1ZTtcclxuICAgICAgICB0cmFjay5zdHVuLm1heCA9IDggKyBNYXRoLmNlaWwoYXR0cmlidXRlcy53aWxscG93ZXIudmFsdWUgLyAyKSArIG1vZGlmaWVyc1snc3R1bl90cmFjayddO1xyXG5cclxuICAgICAgICAvLyBDQUxDVUxBVEUgUkVDT0lMXHJcbiAgICAgICAgZGF0YS5yZWNvaWxfY29tcGVuc2F0aW9uID0gMSArIE1hdGguY2VpbChhdHRyaWJ1dGVzLnN0cmVuZ3RoLnZhbHVlIC8gMyk7XHJcblxyXG4gICAgICAgIC8vIElOSVRJQVRJVkVcclxuICAgICAgICBjb25zdCBpbml0ID0gZGF0YS5pbml0aWF0aXZlO1xyXG4gICAgICAgIGluaXQubWVhdHNwYWNlLmJhc2UuYmFzZSA9IGF0dHJpYnV0ZXMuaW50dWl0aW9uLnZhbHVlICsgYXR0cmlidXRlcy5yZWFjdGlvbi52YWx1ZSArIG1vZGlmaWVyc1snbWVhdF9pbml0aWF0aXZlJ107XHJcbiAgICAgICAgaW5pdC5tZWF0c3BhY2UuZGljZS5iYXNlID0gMSArIG1vZGlmaWVyc1snbWVhdF9pbml0aWF0aXZlX2RpY2UnXTtcclxuICAgICAgICBpbml0LmFzdHJhbC5iYXNlLmJhc2UgPSBhdHRyaWJ1dGVzLmludHVpdGlvbi52YWx1ZSAqIDIgKyBtb2RpZmllcnNbJ2FzdHJhbF9pbml0aWF0aXZlJ107XHJcbiAgICAgICAgaW5pdC5hc3RyYWwuZGljZS5iYXNlID0gMiArIG1vZGlmaWVyc1snYXN0cmFsX2luaXRpYXRpdmVfZGljZSddO1xyXG4gICAgICAgIGluaXQubWF0cml4LmJhc2UuYmFzZSA9IGF0dHJpYnV0ZXMuaW50dWl0aW9uLnZhbHVlICsgZGF0YS5tYXRyaXguZGF0YV9wcm9jZXNzaW5nLnZhbHVlICsgbW9kaWZpZXJzWydtYXRyaXhfaW5pdGlhdGl2ZSddO1xyXG4gICAgICAgIGluaXQubWF0cml4LmRpY2UuYmFzZSA9IGRhdGEubWF0cml4LmhvdF9zaW0gPyA0IDogMyArIG1vZGlmaWVyc1snbWF0cml4X2luaXRpYXRpdmVfZGljZSddO1xyXG4gICAgICAgIGlmIChpbml0LnBlcmNlcHRpb24gPT09ICdtYXRyaXgnKSBpbml0LmN1cnJlbnQgPSBpbml0Lm1hdHJpeDtcclxuICAgICAgICBlbHNlIGlmIChpbml0LnBlcmNlcHRpb24gPT09ICdhc3RyYWwnKSBpbml0LmN1cnJlbnQgPSBpbml0LmFzdHJhbDtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5pdC5jdXJyZW50ID0gaW5pdC5tZWF0c3BhY2U7XHJcbiAgICAgICAgICAgIGluaXQucGVyY2VwdGlvbiA9ICdtZWF0c3BhY2UnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbml0LmN1cnJlbnQuZGljZS52YWx1ZSA9IGluaXQuY3VycmVudC5kaWNlLmJhc2U7XHJcbiAgICAgICAgaWYgKGluaXQuZWRnZSkgaW5pdC5jdXJyZW50LmRpY2UudmFsdWUgPSA1O1xyXG4gICAgICAgIGluaXQuY3VycmVudC5kaWNlLnZhbHVlID0gTWF0aC5taW4oNSwgaW5pdC5jdXJyZW50LmRpY2UudmFsdWUpOyAvLyBtYXhpbXVtIG9mIDVkNiBmb3IgaW5pdGlhdGl2ZVxyXG4gICAgICAgIGluaXQuY3VycmVudC5kaWNlLnRleHQgPSBgJHtpbml0LmN1cnJlbnQuZGljZS52YWx1ZX1kNmA7XHJcbiAgICAgICAgaW5pdC5jdXJyZW50LmJhc2UudmFsdWUgPSBpbml0LmN1cnJlbnQuYmFzZS5iYXNlO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5tYWdpYy5kcmFpbiAmJiAhZGF0YS5tYWdpYy5kcmFpbi5tb2QpIGRhdGEubWFnaWMuZHJhaW4ubW9kID0ge307XHJcblxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgY291bnQgPSAzICsgbW9kaWZpZXJzWyd3b3VuZF90b2xlcmFuY2UnXTtcclxuICAgICAgICAgICAgY29uc3Qgc3R1bldvdW5kcyA9IE1hdGguZmxvb3IoZGF0YS50cmFjay5zdHVuLnZhbHVlIC8gY291bnQpO1xyXG4gICAgICAgICAgICBjb25zdCBwaHlzaWNhbFdvdW5kcyA9IE1hdGguZmxvb3IoZGF0YS50cmFjay5waHlzaWNhbC52YWx1ZSAvIGNvdW50KTtcclxuXHJcbiAgICAgICAgICAgIGRhdGEudHJhY2suc3R1bi53b3VuZHMgPSBzdHVuV291bmRzO1xyXG4gICAgICAgICAgICBkYXRhLnRyYWNrLnBoeXNpY2FsLndvdW5kcyA9IHBoeXNpY2FsV291bmRzO1xyXG5cclxuICAgICAgICAgICAgZGF0YS53b3VuZHMgPSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3R1bldvdW5kcyArIHBoeXNpY2FsV291bmRzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gbGltaXQgbGFiZWxzXHJcbiAgICAgICAgZm9yIChsZXQgW2wsIGxpbWl0XSBvZiBPYmplY3QuZW50cmllcyhsaW1pdHMpKSB7XHJcbiAgICAgICAgICAgIGxpbWl0LmxhYmVsID0gQ09ORklHLlNSNS5saW1pdHNbbF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNraWxsIGxhYmVsc1xyXG4gICAgICAgIGZvciAobGV0IFtzLCBza2lsbF0gb2YgT2JqZWN0LmVudHJpZXMoYWN0aXZlKSkge1xyXG4gICAgICAgICAgICBza2lsbC5sYWJlbCA9IENPTkZJRy5TUjUuYWN0aXZlU2tpbGxzW3NdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhdHRyaWJ1dGUgbGFiZWxzXHJcbiAgICAgICAgZm9yIChsZXQgW2EsIGF0dF0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykpIHtcclxuICAgICAgICAgICAgYXR0LmxhYmVsID0gQ09ORklHLlNSNS5hdHRyaWJ1dGVzW2FdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0cmFja3NcclxuICAgICAgICBmb3IgKGxldCBbdCwgdHJdIG9mIE9iamVjdC5lbnRyaWVzKHRyYWNrKSkge1xyXG4gICAgICAgICAgICB0ci5sYWJlbCA9IENPTkZJRy5TUjUuZGFtYWdlVHlwZXNbdF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldE1vZGlmaWVyKG1vZGlmaWVyTmFtZTogc3RyaW5nKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEubW9kaWZpZXJzW21vZGlmaWVyTmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgZmluZEFjdGl2ZVNraWxsKHNraWxsTmFtZT86IHN0cmluZyk6IFNraWxsRmllbGQgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmIChza2lsbE5hbWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuc2tpbGxzLmFjdGl2ZVtza2lsbE5hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZT86IHN0cmluZyk6IEF0dHJpYnV0ZUZpZWxkIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRMaW1pdEZyb21BdHRyaWJ1dGUoYXR0cmlidXRlTmFtZT86IHN0cmluZyk6IExpbWl0RmllbGQgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gdGhpcy5maW5kQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xyXG4gICAgICAgIGlmICghYXR0cmlidXRlPy5saW1pdCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kTGltaXQoYXR0cmlidXRlLmxpbWl0KTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kTGltaXQobGltaXROYW1lPzogc3RyaW5nKTogTGltaXRGaWVsZCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKCFsaW1pdE5hbWUpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLmxpbWl0c1tsaW1pdE5hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFdvdW5kTW9kaWZpZXIoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gLTEgKiB0aGlzLmRhdGEuZGF0YS53b3VuZHM/LnZhbHVlIHx8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWRnZSgpOiBBdHRyaWJ1dGVGaWVsZCAmIFZhbHVlTWF4UGFpcjxudW1iZXI+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuYXR0cmlidXRlcy5lZGdlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFybW9yKCk6IEJhc2VWYWx1ZVBhaXI8bnVtYmVyPiAmIE1vZGlmaWFibGVWYWx1ZSAmIExhYmVsRmllbGQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hcm1vcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPd25lZEl0ZW0oaXRlbUlkOiBzdHJpbmcpOiBTUjVJdGVtIHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIChzdXBlci5nZXRPd25lZEl0ZW0oaXRlbUlkKSBhcyB1bmtub3duKSBhcyBTUjVJdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1hdHJpeERldmljZSgpOiBTUjVJdGVtIHwgdW5kZWZpbmVkIHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgbWF0cml4ID0gdGhpcy5kYXRhLmRhdGEubWF0cml4O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1hdHJpeCk7XHJcbiAgICAgICAgaWYgKG1hdHJpeC5kZXZpY2UpIHJldHVybiB0aGlzLmdldE93bmVkSXRlbShtYXRyaXguZGV2aWNlKTtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZ1bGxEZWZlbnNlQXR0cmlidXRlKCk6IEF0dHJpYnV0ZUZpZWxkIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBsZXQgYXR0ID0gdGhpcy5kYXRhLmRhdGEuZnVsbF9kZWZlbnNlX2F0dHJpYnV0ZTtcclxuICAgICAgICBpZiAoIWF0dCkgYXR0ID0gJ3dpbGxwb3dlcic7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEF0dHJpYnV0ZShhdHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVxdWlwcGVkV2VhcG9ucygpOiBTUjVJdGVtW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pc0VxdWlwcGVkKCkgJiYgaXRlbS5kYXRhLnR5cGUgPT09ICd3ZWFwb24nKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRLbm93bGVkZ2VTa2lsbChjYXRlZ29yeSwgc2tpbGw/KSB7XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdFNraWxsID0ge1xyXG4gICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgc3BlY3M6IFtdLFxyXG4gICAgICAgICAgICBiYXNlOiAwLFxyXG4gICAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgICAgbW9kOiAwLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2tpbGwgPSB7XHJcbiAgICAgICAgICAgIC4uLmRlZmF1bHRTa2lsbCxcclxuICAgICAgICAgICAgLi4uc2tpbGwsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgaWQgPSByYW5kb21JRCgxNik7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB7fTtcclxuICAgICAgICB2YWx1ZVtpZF0gPSBza2lsbDtcclxuICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBgZGF0YS5za2lsbHMua25vd2xlZGdlLiR7Y2F0ZWdvcnl9LnZhbHVlYDtcclxuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XHJcbiAgICAgICAgdXBkYXRlRGF0YVtmaWVsZE5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy51cGRhdGUodXBkYXRlRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlTGFuZ3VhZ2VTa2lsbChza2lsbElkKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB7fTtcclxuICAgICAgICB2YWx1ZVtza2lsbElkXSA9IHsgX2RlbGV0ZTogdHJ1ZSB9O1xyXG4gICAgICAgIHRoaXMudXBkYXRlKHsgJ2RhdGEuc2tpbGxzLmxhbmd1YWdlLnZhbHVlJzogdmFsdWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkTGFuZ3VhZ2VTa2lsbChza2lsbCkge1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRTa2lsbCA9IHtcclxuICAgICAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgICAgIHNwZWNzOiBbXSxcclxuICAgICAgICAgICAgYmFzZTogMCxcclxuICAgICAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgICAgIG1vZDogMCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNraWxsID0ge1xyXG4gICAgICAgICAgICAuLi5kZWZhdWx0U2tpbGwsXHJcbiAgICAgICAgICAgIC4uLnNraWxsLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGlkID0gcmFuZG9tSUQoMTYpO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0ge307XHJcbiAgICAgICAgdmFsdWVbaWRdID0gc2tpbGw7XHJcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gYGRhdGEuc2tpbGxzLmxhbmd1YWdlLnZhbHVlYDtcclxuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XHJcbiAgICAgICAgdXBkYXRlRGF0YVtmaWVsZE5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy51cGRhdGUodXBkYXRlRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlS25vd2xlZGdlU2tpbGwoc2tpbGxJZCwgY2F0ZWdvcnkpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHt9O1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3QgZGF0YVN0cmluZyA9IGBkYXRhLnNraWxscy5rbm93bGVkZ2UuJHtjYXRlZ29yeX0udmFsdWVgO1xyXG4gICAgICAgIHZhbHVlW3NraWxsSWRdID0geyBfZGVsZXRlOiB0cnVlIH07XHJcbiAgICAgICAgdXBkYXRlRGF0YVtkYXRhU3RyaW5nXSA9IHZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZSh1cGRhdGVEYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBfYWRkTWF0cml4UGFydHMocGFydHMsIGF0dHMpIHtcclxuICAgICAgICBpZiAoSGVscGVycy5pc01hdHJpeChhdHRzKSkge1xyXG4gICAgICAgICAgICBjb25zdCBtID0gdGhpcy5kYXRhLmRhdGEubWF0cml4O1xyXG4gICAgICAgICAgICBpZiAobS5ob3Rfc2ltKSBwYXJ0c1snU1I1LkhvdFNpbSddID0gMjtcclxuICAgICAgICAgICAgaWYgKG0ucnVubmluZ19zaWxlbnQpIHBhcnRzWydTUjUuUnVubmluZ1NpbGVudCddID0gLTI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX2FkZEdsb2JhbFBhcnRzKHBhcnRzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5kYXRhLm1vZGlmaWVycy5nbG9iYWwpIHtcclxuICAgICAgICAgICAgcGFydHNbJ1NSNS5HbG9iYWwnXSA9IHRoaXMuZGF0YS5kYXRhLm1vZGlmaWVycy5nbG9iYWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9hZGREZWZlbnNlUGFydHMocGFydHMpIHtcclxuICAgICAgICBjb25zdCByZWFjdGlvbiA9IHRoaXMuZmluZEF0dHJpYnV0ZSgncmVhY3Rpb24nKTtcclxuICAgICAgICBjb25zdCBpbnR1aXRpb24gPSB0aGlzLmZpbmRBdHRyaWJ1dGUoJ2ludHVpdGlvbicpO1xyXG4gICAgICAgIGNvbnN0IG1vZCA9IHRoaXMuZ2V0TW9kaWZpZXIoJ2RlZmVuc2UnKTtcclxuXHJcbiAgICAgICAgaWYgKHJlYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHBhcnRzW3JlYWN0aW9uLmxhYmVsIHx8ICdTUjUuUmVhY3Rpb24nXSA9IHJlYWN0aW9uLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW50dWl0aW9uKSB7XHJcbiAgICAgICAgICAgIHBhcnRzW2ludHVpdGlvbi5sYWJlbCB8fCAnU1I1LkludHVpdGlvbiddID0gaW50dWl0aW9uLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9kKSB7XHJcbiAgICAgICAgICAgIHBhcnRzWydTUjUuQm9udXMnXSA9IG1vZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZEFybW9yUGFydHMocGFydHM6IE1vZExpc3Q8bnVtYmVyPikge1xyXG4gICAgICAgIGNvbnN0IGFybW9yID0gdGhpcy5nZXRBcm1vcigpO1xyXG4gICAgICAgIGlmIChhcm1vcikge1xyXG4gICAgICAgICAgICBwYXJ0c1thcm1vci5sYWJlbCB8fCAnU1I1LkFybW9yJ10gPSBhcm1vci5iYXNlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIE9iamVjdC5lbnRyaWVzKGFybW9yLm1vZCkpIHtcclxuICAgICAgICAgICAgICAgIHBhcnRzW2tleV0gPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZFNvYWtQYXJ0cyhwYXJ0czogTW9kTGlzdDxudW1iZXI+KSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuZmluZEF0dHJpYnV0ZSgnYm9keScpO1xyXG4gICAgICAgIGlmIChib2R5KSB7XHJcbiAgICAgICAgICAgIHBhcnRzW2JvZHkubGFiZWwgfHwgJ1NSNS5Cb2R5J10gPSBib2R5LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9hZGRBcm1vclBhcnRzKHBhcnRzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE92ZXJyaWRlIHNldEZsYWcgdG8gcmVtb3ZlIHRoZSAnU1I1LicgZnJvbSBrZXlzIGluIG1vZGxpc3RzLCBvdGhlcndpc2UgaXQgaGFuZGxlcyB0aGVtIGFzIGVtYmVkZGVkIGtleXNcclxuICAgICAqIEBwYXJhbSBzY29wZVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHNldEZsYWcoc2NvcGU6IHN0cmluZywga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBQcm9taXNlPEVudGl0eT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gSGVscGVycy5vblNldEZsYWcodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBzdXBlci5zZXRGbGFnKHNjb3BlLCBrZXksIG5ld1ZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE92ZXJyaWRlIGdldEZsYWcgdG8gYWRkIGJhY2sgdGhlICdTUjUuJyBrZXlzIGNvcnJlY3RseSB0byBiZSBoYW5kbGVkXHJcbiAgICAgKiBAcGFyYW0gc2NvcGVcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgZ2V0RmxhZyhzY29wZTogc3RyaW5nLCBrZXk6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHN1cGVyLmdldEZsYWcoc2NvcGUsIGtleSk7XHJcbiAgICAgICAgcmV0dXJuIEhlbHBlcnMub25HZXRGbGFnKGRhdGEpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcclxuaW1wb3J0IHsgQ2h1bW1lckltcG9ydEZvcm0gfSBmcm9tICcuLi9hcHBzL2NodW1tZXItaW1wb3J0LWZvcm0nO1xyXG5pbXBvcnQgeyBTa2lsbEVkaXRGb3JtIH0gZnJvbSAnLi4vYXBwcy9za2lsbHMvU2tpbGxFZGl0Rm9ybSc7XHJcbmltcG9ydCB7IEtub3dsZWRnZVNraWxsRWRpdEZvcm0gfSBmcm9tICcuLi9hcHBzL3NraWxscy9Lbm93bGVkZ2VTa2lsbEVkaXRGb3JtJztcclxuaW1wb3J0IHsgTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtIH0gZnJvbSAnLi4vYXBwcy9za2lsbHMvTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtJztcclxuaW1wb3J0IHsgU1I1QWN0b3IgfSBmcm9tICcuL1NSNUFjdG9yJztcclxuaW1wb3J0IHsgRHluYW1pY0RpYWxvZyB9IGZyb20gJy4uL3JvbGxzL2RpYWxvZy9EeW5hbWljRGlhbG9nJztcclxuaW1wb3J0IHsgU2l0dWF0aW9uYWxNb2RpZmllckZpZWxkIH0gZnJvbSAnLi4vcm9sbHMvZmllbGQvU2l0dWF0aW9uYWxNb2RpZmllckZpZWxkJztcclxuaW1wb3J0IHsgU2tpbGxGaWVsZCB9IGZyb20gJy4uL3JvbGxzL2ZpZWxkL1NraWxsRmllbGQnO1xyXG5pbXBvcnQgeyBTUjVBY3RpdmVTa2lsbCB9IGZyb20gJy4uL3R5cGVzL2VudW0vU1I1QWN0aXZlU2tpbGwnO1xyXG5pbXBvcnQgU1I1QWN0b3JTaGVldERhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JTaGVldERhdGE7XHJcbmltcG9ydCBTUjVTaGVldEZpbHRlcnMgPSBTaGFkb3dydW4uU1I1U2hlZXRGaWx0ZXJzO1xyXG5pbXBvcnQgU2tpbGxzID0gU2hhZG93cnVuLlNraWxscztcclxuaW1wb3J0IE1hdHJpeEF0dHJpYnV0ZSA9IFNoYWRvd3J1bi5NYXRyaXhBdHRyaWJ1dGU7XHJcblxyXG4vKipcclxuICogRXh0ZW5kIHRoZSBiYXNpYyBBY3RvclNoZWV0IHdpdGggc29tZSB2ZXJ5IHNpbXBsZSBtb2RpZmljYXRpb25zXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU1I1QWN0b3JTaGVldCBleHRlbmRzIEFjdG9yU2hlZXQge1xyXG4gICAgX3Nob3duVW50cmFpbmVkU2tpbGxzOiBib29sZWFuO1xyXG4gICAgX3Nob3duRGVzYzogc3RyaW5nW107XHJcbiAgICBfZmlsdGVyczogU1I1U2hlZXRGaWx0ZXJzO1xyXG4gICAgYWN0b3I6IFNSNUFjdG9yO1xyXG4gICAgX3Njcm9sbDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcclxuICAgICAgICBzdXBlciguLi5hcmdzKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogS2VlcCB0cmFjayBvZiB0aGUgY3VycmVudGx5IGFjdGl2ZSBzaGVldCB0YWJcclxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3Nob3duVW50cmFpbmVkU2tpbGxzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9zaG93bkRlc2MgPSBbXTtcclxuICAgICAgICB0aGlzLl9maWx0ZXJzID0ge1xyXG4gICAgICAgICAgICBza2lsbHM6ICcnLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSA1ZSBBY3RvciBTaGVldFxyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcclxuICAgICAgICAgICAgY2xhc3NlczogWydzcjUnLCAnc2hlZXQnLCAnYWN0b3InXSxcclxuICAgICAgICAgICAgdGVtcGxhdGU6ICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL2NoYXJhY3Rlci5odG1sJyxcclxuICAgICAgICAgICAgd2lkdGg6IDg4MCxcclxuICAgICAgICAgICAgaGVpZ2h0OiA2OTAsXHJcbiAgICAgICAgICAgIHRhYnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuYXZTZWxlY3RvcjogJy50YWJzJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VsZWN0b3I6ICcuc2hlZXRib2R5JyxcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsOiAnc2tpbGxzJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBhcmUgZGF0YSBmb3IgcmVuZGVyaW5nIHRoZSBBY3RvciBzaGVldFxyXG4gICAgICogVGhlIHByZXBhcmVkIGRhdGEgb2JqZWN0IGNvbnRhaW5zIGJvdGggdGhlIGFjdG9yIGRhdGEgYXMgd2VsbCBhcyBhZGRpdGlvbmFsIHNoZWV0IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgZ2V0RGF0YSgpIHtcclxuICAgICAgICBjb25zdCBkYXRhOiBTUjVBY3RvclNoZWV0RGF0YSA9IChzdXBlci5nZXREYXRhKCkgYXMgdW5rbm93bikgYXMgU1I1QWN0b3JTaGVldERhdGE7XHJcblxyXG4gICAgICAgIHRoaXMuX3ByZXBhcmVNYXRyaXhBdHRyaWJ1dGVzKGRhdGEpO1xyXG5cclxuICAgICAgICBjb25zdCBhdHRycyA9IGRhdGEuZGF0YS5hdHRyaWJ1dGVzO1xyXG4gICAgICAgIGZvciAobGV0IFssIGF0dF0gb2YgT2JqZWN0LmVudHJpZXMoYXR0cnMpKSB7XHJcbiAgICAgICAgICAgIGlmICghYXR0LmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dC5tb2RbJ1RlbXBvcmFyeSddID09PSAwKSBkZWxldGUgYXR0Lm1vZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeyBtYWdpYyB9ID0gZGF0YS5kYXRhO1xyXG4gICAgICAgIGlmIChtYWdpYy5kcmFpbiAmJiBtYWdpYy5kcmFpbi5tb2RbJ1RlbXBvcmFyeSddID09PSAwKSBkZWxldGUgbWFnaWMuZHJhaW4ubW9kWydUZW1wb3JhcnknXTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBtb2RpZmllcnM6IG1vZHMgfSA9IGRhdGEuZGF0YTtcclxuICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobW9kcykpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKSBtb2RzW2tleV0gPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ByZXBhcmVJdGVtcyhkYXRhKTtcclxuICAgICAgICB0aGlzLl9wcmVwYXJlU2tpbGxzKGRhdGEpO1xyXG5cclxuICAgICAgICBkYXRhWydjb25maWcnXSA9IENPTkZJRy5TUjU7XHJcbiAgICAgICAgZGF0YVsnYXdha2VuZWQnXSA9IGRhdGEuZGF0YS5zcGVjaWFsID09PSAnbWFnaWMnO1xyXG4gICAgICAgIGRhdGFbJ2VtZXJnZWQnXSA9IGRhdGEuZGF0YS5zcGVjaWFsID09PSAncmVzb25hbmNlJztcclxuXHJcbiAgICAgICAgZGF0YS5maWx0ZXJzID0gdGhpcy5fZmlsdGVycztcclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgX2lzU2tpbGxNYWdpYyhpZCwgc2tpbGwpIHtcclxuICAgICAgICByZXR1cm4gc2tpbGwuYXR0cmlidXRlID09PSAnbWFnaWMnIHx8IGlkID09PSAnYXN0cmFsX2NvbWJhdCcgfHwgaWQgPT09ICdhc3NlbnNpbmcnO1xyXG4gICAgfVxyXG5cclxuICAgIF9kb2VzU2tpbGxDb250YWluVGV4dChrZXksIHNraWxsLCB0ZXh0KSB7XHJcbiAgICAgICAgbGV0IHNlYXJjaFN0cmluZyA9IGAke2tleX0gJHtnYW1lLmkxOG4ubG9jYWxpemUoc2tpbGwubGFiZWwpfSAke3NraWxsPy5zcGVjcz8uam9pbignICcpfWA7XHJcbiAgICAgICAgcmV0dXJuIHNlYXJjaFN0cmluZy50b0xvd2VyQ2FzZSgpLnNlYXJjaCh0ZXh0LnRvTG93ZXJDYXNlKCkpID4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgX3ByZXBhcmVNYXRyaXhBdHRyaWJ1dGVzKGRhdGEpIHtcclxuICAgICAgICBjb25zdCB7IG1hdHJpeCB9ID0gZGF0YS5kYXRhO1xyXG4gICAgICAgIGNvbnN0IGNsZWFudXBBdHRyaWJ1dGUgPSAoYXR0cmlidXRlOiBNYXRyaXhBdHRyaWJ1dGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXR0ID0gbWF0cml4W2F0dHJpYnV0ZV07XHJcbiAgICAgICAgICAgIGlmIChhdHQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYXR0Lm1vZCkgYXR0Lm1vZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dC5tb2RbJ1RlbXBvcmFyeSddID09PSAwKSBkZWxldGUgYXR0Lm1vZFsnVGVtcG9yYXJ5J107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBbJ2ZpcmV3YWxsJywgJ2RhdGFfcHJvY2Vzc2luZycsICdzbGVhemUnLCAnYXR0YWNrJ10uZm9yRWFjaCgoYXR0OiBNYXRyaXhBdHRyaWJ1dGUpID0+IGNsZWFudXBBdHRyaWJ1dGUoYXR0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3ByZXBhcmVTa2lsbHMoZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVNraWxscyA9IHt9O1xyXG4gICAgICAgIGNvbnN0IG9sZFNraWxsczogU2tpbGxzID0gZGF0YS5kYXRhLnNraWxscy5hY3RpdmU7XHJcbiAgICAgICAgZm9yIChsZXQgW2tleSwgc2tpbGxdIG9mIE9iamVjdC5lbnRyaWVzKG9sZFNraWxscykpIHtcclxuICAgICAgICAgICAgLy8gaWYgZmlsdGVyIGlzbid0IGVtcHR5LCB3ZSBhcmUgZG9pbmcgY3VzdG9tIGZpbHRlcmluZ1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZmlsdGVycy5za2lsbHMgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZG9lc1NraWxsQ29udGFpblRleHQoa2V5LCBza2lsbCwgdGhpcy5fZmlsdGVycy5za2lsbHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2tpbGxzW2tleV0gPSBza2lsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGdlbmVyYWwgY2hlY2sgaWYgd2UgYXJlbid0IGZpbHRlcmluZ1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgKHNraWxsLnZhbHVlID4gMCB8fCB0aGlzLl9zaG93blVudHJhaW5lZFNraWxscykgJiZcclxuICAgICAgICAgICAgICAgICEodGhpcy5faXNTa2lsbE1hZ2ljKGtleSwgc2tpbGwpICYmIGRhdGEuZGF0YS5zcGVjaWFsICE9PSAnbWFnaWMnKSAmJlxyXG4gICAgICAgICAgICAgICAgIShza2lsbC5hdHRyaWJ1dGUgPT09ICdyZXNvbmFuY2UnICYmIGRhdGEuZGF0YS5zcGVjaWFsICE9PSAncmVzb25hbmNlJylcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVTa2lsbHNba2V5XSA9IHNraWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEhlbHBlcnMub3JkZXJLZXlzKGFjdGl2ZVNraWxscyk7XHJcbiAgICAgICAgZGF0YS5kYXRhLnNraWxscy5hY3RpdmUgPSBhY3RpdmVTa2lsbHM7XHJcbiAgICB9XHJcblxyXG4gICAgX3ByZXBhcmVJdGVtcyhkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgaW52ZW50b3J5ID0ge1xyXG4gICAgICAgICAgICB3ZWFwb246IHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5XZWFwb24nKSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgICAgIGRhdGFzZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2VhcG9uJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFybW9yOiB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQXJtb3InKSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgICAgIGRhdGFzZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXJtb3InLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGV2aWNlOiB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRGV2aWNlJyksXHJcbiAgICAgICAgICAgICAgICBpdGVtczogW10sXHJcbiAgICAgICAgICAgICAgICBkYXRhc2V0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RldmljZScsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcXVpcG1lbnQ6IHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5FcXVpcG1lbnQnKSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgICAgIGRhdGFzZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXF1aXBtZW50JyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGN5YmVyd2FyZToge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LkN5YmVyd2FyZScpLFxyXG4gICAgICAgICAgICAgICAgaXRlbXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgZGF0YXNldDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjeWJlcndhcmUnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHJvZ3JhbXM6IHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5Qcm9ncmFtJyksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IFtpdGVtcywgc3BlbGxzLCBxdWFsaXRpZXMsIGFkZXB0X3Bvd2VycywgYWN0aW9ucywgY29tcGxleF9mb3JtcywgbGlmZXN0eWxlcywgY29udGFjdHMsIHNpbnMsIHByb2dyYW1zXSA9IGRhdGEuaXRlbXMucmVkdWNlKFxyXG4gICAgICAgICAgICAoYXJyLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmlzU3RhY2sgPSBpdGVtLmRhdGEucXVhbnRpdHkgPyBpdGVtLmRhdGEucXVhbnRpdHkgPiAxIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnc3BlbGwnKSBhcnJbMV0ucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3F1YWxpdHknKSBhcnJbMl0ucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2FkZXB0X3Bvd2VyJykgYXJyWzNdLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdhY3Rpb24nKSBhcnJbNF0ucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ2NvbXBsZXhfZm9ybScpIGFycls1XS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS50eXBlID09PSAnbGlmZXN0eWxlJykgYXJyWzZdLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdjb250YWN0JykgYXJyWzddLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtLnR5cGUgPT09ICdzaW4nKSBhcnJbOF0ucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0udHlwZSA9PT0gJ3Byb2dyYW0nKSBhcnJbOV0ucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKE9iamVjdC5rZXlzKGludmVudG9yeSkuaW5jbHVkZXMoaXRlbS50eXBlKSkgYXJyWzBdLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBbW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNvcnRCeU5hbWUgPSAoaTEsIGkyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpMS5uYW1lID4gaTIubmFtZSkgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIGlmIChpMS5uYW1lIDwgaTIubmFtZSkgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHNvcnRCeUVxdWlwcGVkID0gKGxlZnQsIHJpZ2h0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlZnRFcXVpcHBlZCA9IGxlZnQuZGF0YT8udGVjaG5vbG9neT8uZXF1aXBwZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0RXF1aXBwZWQgPSByaWdodC5kYXRhPy50ZWNobm9sb2d5Py5lcXVpcHBlZDtcclxuICAgICAgICAgICAgaWYgKGxlZnRFcXVpcHBlZCAmJiAhcmlnaHRFcXVpcHBlZCkgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICBpZiAocmlnaHRFcXVpcHBlZCAmJiAhbGVmdEVxdWlwcGVkKSByZXR1cm4gMTtcclxuICAgICAgICAgICAgaWYgKGxlZnQubmFtZSA+IHJpZ2h0Lm5hbWUpIHJldHVybiAxO1xyXG4gICAgICAgICAgICBpZiAobGVmdC5uYW1lIDwgcmlnaHQubmFtZSkgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGFjdGlvbnMuc29ydChzb3J0QnlOYW1lKTtcclxuICAgICAgICBhZGVwdF9wb3dlcnMuc29ydChzb3J0QnlOYW1lKTtcclxuICAgICAgICBjb21wbGV4X2Zvcm1zLnNvcnQoc29ydEJ5TmFtZSk7XHJcbiAgICAgICAgaXRlbXMuc29ydChzb3J0QnlFcXVpcHBlZCk7XHJcbiAgICAgICAgc3BlbGxzLnNvcnQoc29ydEJ5TmFtZSk7XHJcbiAgICAgICAgY29udGFjdHMuc29ydChzb3J0QnlOYW1lKTtcclxuICAgICAgICBsaWZlc3R5bGVzLnNvcnQoc29ydEJ5TmFtZSk7XHJcbiAgICAgICAgc2lucy5zb3J0KHNvcnRCeU5hbWUpO1xyXG4gICAgICAgIHByb2dyYW1zLnNvcnQoc29ydEJ5RXF1aXBwZWQpO1xyXG5cclxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGludmVudG9yeVtpdGVtLnR5cGVdLml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRhdGEuaW52ZW50b3J5ID0gT2JqZWN0LnZhbHVlcyhpbnZlbnRvcnkpO1xyXG4gICAgICAgIGRhdGEubWFnaWMgPSB7XHJcbiAgICAgICAgICAgIHNwZWxsYm9vazogc3BlbGxzLFxyXG4gICAgICAgICAgICBwb3dlcnM6IGFkZXB0X3Bvd2VycyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRhdGEuYWN0aW9ucyA9IGFjdGlvbnM7XHJcbiAgICAgICAgZGF0YS5jb21wbGV4X2Zvcm1zID0gY29tcGxleF9mb3JtcztcclxuICAgICAgICBkYXRhLmxpZmVzdHlsZXMgPSBsaWZlc3R5bGVzO1xyXG4gICAgICAgIGRhdGEuY29udGFjdHMgPSBjb250YWN0cztcclxuICAgICAgICBkYXRhLnNpbnMgPSBzaW5zO1xyXG4gICAgICAgIGRhdGEucHJvZ3JhbXMgPSBwcm9ncmFtcztcclxuXHJcbiAgICAgICAgcXVhbGl0aWVzLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGEuZGF0YS50eXBlID09PSAncG9zaXRpdmUnICYmIGIuZGF0YS50eXBlID09PSAnbmVnYXRpdmUnKSByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIGlmIChhLmRhdGEudHlwZSA9PT0gJ25lZ2F0aXZlJyAmJiBiLmRhdGEudHlwZSA9PT0gJ3Bvc2l0aXZlJykgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIHJldHVybiBhLm5hbWUgPCBiLm5hbWUgPyAtMSA6IDE7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGF0YS5xdWFsaXRpZXMgPSBxdWFsaXRpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFjdGl2YXRlIGV2ZW50IGxpc3RlbmVycyB1c2luZyB0aGUgcHJlcGFyZWQgc2hlZXQgSFRNTFxyXG4gICAgICogQHBhcmFtIGh0bWwgVGhlIHByZXBhcmVkIEhUTUwgb2JqZWN0IHJlYWR5IHRvIGJlIHJlbmRlcmVkIGludG8gdGhlIERPTVxyXG4gICAgICovXHJcbiAgICBhY3RpdmF0ZUxpc3RlbmVycyhodG1sKSB7XHJcbiAgICAgICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XHJcblxyXG4gICAgICAgIGh0bWwuZmluZCgnLmhpZGRlbicpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgaHRtbC5maW5kKCcuc2tpbGwtaGVhZGVyJykuY2xpY2soKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3duVW50cmFpbmVkU2tpbGxzID0gIXRoaXMuX3Nob3duVW50cmFpbmVkU2tpbGxzO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGh0bWwuZmluZCgnLmhhcy1kZXNjJykuY2xpY2soKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlpZCA9ICQoaXRlbSkuZGF0YSgpLml0ZW07XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gaXRlbS5uZXh0KCk7XHJcbiAgICAgICAgICAgIGZpZWxkLnRvZ2dsZSgpO1xyXG4gICAgICAgICAgICBpZiAoaWlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXMoJzp2aXNpYmxlJykpIHRoaXMuX3Nob3duRGVzYy5wdXNoKGlpZCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuX3Nob3duRGVzYyA9IHRoaXMuX3Nob3duRGVzYy5maWx0ZXIoKHZhbCkgPT4gdmFsICE9PSBpaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGh0bWwuZmluZCgnI2ZpbHRlci1za2lsbHMnKS5vbignaW5wdXQnLCB0aGlzLl9vbkZpbHRlclNraWxscy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyBodG1sLmZpbmQoJy50cmFjay1yb2xsJykuY2xpY2sodGhpcy5fb25Sb2xsVHJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gaHRtbC5maW5kKCcuYXR0cmlidXRlLXJvbGwnKS5jbGljayh0aGlzLl9vblJvbGxBdHRyaWJ1dGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gaHRtbC5maW5kKCcuc2tpbGwtcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbEFjdGl2ZVNraWxsLmJpbmQodGhpcykpO1xyXG4gICAgICAgIC8vIGh0bWwuZmluZCgnLmRlZmVuc2Utcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbERlZmVuc2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gaHRtbC5maW5kKCcuYXR0cmlidXRlLW9ubHktcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbEF0dHJpYnV0ZXNPbmx5LmJpbmQodGhpcykpO1xyXG4gICAgICAgIC8vIGh0bWwuZmluZCgnLnNvYWstcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbFNvYWsuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gaHRtbC5maW5kKCcuZHJhaW4tcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbERyYWluLmJpbmQodGhpcykpO1xyXG4gICAgICAgIC8vIGh0bWwuZmluZCgnLmZhZGUtcm9sbCcpLmNsaWNrKHRoaXMuX29uUm9sbEZhZGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gaHRtbC5maW5kKCcuaXRlbS1yb2xsJykuY2xpY2sodGhpcy5fb25Sb2xsSXRlbS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyAkKGh0bWwpLmZpbmQoJy5pdGVtLXJvbGwnKS5vbignY29udGV4dG1lbnUnLCAoKSA9PiBjb25zb2xlLmxvZygnVEVTVCcpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5pdGVtLWVxdWlwLXRvZ2dsZScpLmNsaWNrKHRoaXMuX29uRXF1aXBJdGVtLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLml0ZW0tcXR5JykuY2hhbmdlKHRoaXMuX29uQ2hhbmdlUXR5LmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLml0ZW0tcnRnJykuY2hhbmdlKHRoaXMuX29uQ2hhbmdlUnRnLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLml0ZW0tY3JlYXRlJykuY2xpY2sodGhpcy5fb25JdGVtQ3JlYXRlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIC8vIGh0bWwuZmluZCgnLm1hdHJpeC1yb2xsJykuY2xpY2sodGhpcy5fb25Sb2xsTWF0cml4QXR0cmlidXRlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLm1hdHJpeC1hdHQtc2VsZWN0b3InKS5jaGFuZ2UodGhpcy5fb25NYXRyaXhBdHRyaWJ1dGVTZWxlY3RlZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5iYXNpYy1yb2xsJykub24oJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkID0gbmV3IER5bmFtaWNEaWFsb2coW25ldyBTaXR1YXRpb25hbE1vZGlmaWVyRmllbGQoMCksIG5ldyBTa2lsbEZpZWxkKFNSNUFjdGl2ZVNraWxsLkFlcm9uYXV0aWNzTWVjaGFuaWMpXSwgdGhpcy5hY3Rvcik7XHJcbiAgICAgICAgICAgIGQucmVuZGVyKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGh0bWwuZmluZCgnLmFybW9yLXJvbGwnKS5jbGljayh0aGlzLl9vblJvbGxBcm1vci5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5hZGQta25vd2xlZGdlJykuY2xpY2sodGhpcy5fb25BZGRLbm93bGVkZ2VTa2lsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyBodG1sLmZpbmQoJy5rbm93bGVkZ2Utc2tpbGwnKS5jbGljayh0aGlzLl9vblJvbGxLbm93bGVkZ2VTa2lsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5yZW1vdmUta25vd2xlZGdlJykuY2xpY2sodGhpcy5fb25SZW1vdmVLbm93bGVkZ2VTa2lsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5hZGQtbGFuZ3VhZ2UnKS5jbGljayh0aGlzLl9vbkFkZExhbmd1YWdlU2tpbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8gaHRtbC5maW5kKCcubGFuZ3VhZ2Utc2tpbGwnKS5jbGljayh0aGlzLl9vblJvbGxMYW5ndWFnZVNraWxsLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLnJlbW92ZS1sYW5ndWFnZScpLmNsaWNrKHRoaXMuX29uUmVtb3ZlTGFuZ3VhZ2VTa2lsbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5pbXBvcnQtY2hhcmFjdGVyJykuY2xpY2sodGhpcy5fb25TaG93SW1wb3J0Q2hhcmFjdGVyLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLnJlbG9hZC1hbW1vJykuY2xpY2sodGhpcy5fb25SZWxvYWRBbW1vLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLnNraWxsLWVkaXQnKS5jbGljayh0aGlzLl9vblNob3dFZGl0U2tpbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaHRtbC5maW5kKCcua25vd2xlZGdlLXNraWxsLWVkaXQnKS5jbGljayh0aGlzLl9vblNob3dFZGl0S25vd2xlZGdlU2tpbGwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaHRtbC5maW5kKCcubGFuZ3VhZ2Utc2tpbGwtZWRpdCcpLmNsaWNrKHRoaXMuX29uU2hvd0VkaXRMYW5ndWFnZVNraWxsLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLm1hdHJpeC1jb25kaXRpb24tdmFsdWUnKS5vbignY2hhbmdlJywgYXN5bmMgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBIZWxwZXJzLnBhcnNlSW5wdXRUb051bWJlcihldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUpO1xyXG4gICAgICAgICAgICBjb25zdCBtYXRyaXhEZXZpY2UgPSB0aGlzLmFjdG9yLmdldE1hdHJpeERldmljZSgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtYXRyaXhEZXZpY2UpO1xyXG4gICAgICAgICAgICBpZiAobWF0cml4RGV2aWNlICYmICFpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1hdHJpeERldmljZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLnRlY2hub2xvZ3kuY29uZGl0aW9uX21vbml0b3IudmFsdWUnXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbWF0cml4RGV2aWNlLnVwZGF0ZSh1cGRhdGVEYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgSW52ZW50b3J5IEl0ZW1cclxuICAgICAgICBodG1sLmZpbmQoJy5pdGVtLWVkaXQnKS5jbGljaygoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc3QgaWlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5nZXRPd25lZEl0ZW0oaWlkKTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0pIGl0ZW0uc2hlZXQucmVuZGVyKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIERlbGV0ZSBJbnZlbnRvcnkgSXRlbVxyXG4gICAgICAgIGh0bWwuZmluZCgnLml0ZW0tZGVsZXRlJykuY2xpY2soKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlpZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKS5kYXRhc2V0Lml0ZW1JZDtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0b3IuZGVsZXRlT3duZWRJdGVtKGlpZCk7XHJcbiAgICAgICAgICAgIGVsLnNsaWRlVXAoMjAwLCAoKSA9PiB0aGlzLnJlbmRlcihmYWxzZSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIERyYWcgaW52ZW50b3J5IGl0ZW1cclxuICAgICAgICBsZXQgaGFuZGxlciA9IChldikgPT4gdGhpcy5fb25EcmFnSXRlbVN0YXJ0KGV2KTtcclxuICAgICAgICBodG1sLmZpbmQoJy5pdGVtJykuZWFjaCgoaSwgaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5kYXRhc2V0ICYmIGl0ZW0uZGF0YXNldC5pdGVtSWQpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlciwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uRmlsdGVyU2tpbGxzKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5fZmlsdGVycy5za2lsbHMgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uUmVsb2FkQW1tbyhldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgaWlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkO1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLmdldE93bmVkSXRlbShpaWQpO1xyXG4gICAgICAgIGlmIChpdGVtKSByZXR1cm4gaXRlbS5yZWxvYWRBbW1vKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uTWF0cml4QXR0cmlidXRlU2VsZWN0ZWQoZXZlbnQpIHtcclxuICAgICAgICBsZXQgaWlkID0gdGhpcy5hY3Rvci5kYXRhLmRhdGEubWF0cml4LmRldmljZTtcclxuICAgICAgICBsZXQgaXRlbSA9IHRoaXMuYWN0b3IuZ2V0T3duZWRJdGVtKGlpZCk7XHJcbiAgICAgICAgaWYgKCFpdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NvdWxkIG5vdCBmaW5kIGl0ZW0nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBncmFiIG1hdHJpeCBhdHRyaWJ1dGUgKHNsZWF6ZSwgYXR0YWNrLCBldGMuKVxyXG4gICAgICAgIGxldCBhdHQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuYXR0O1xyXG4gICAgICAgIC8vIGdyYWIgZGV2aWNlIGF0dHJpYnV0ZSAoYXR0MSwgYXR0MiwgLi4uKVxyXG4gICAgICAgIGxldCBkZXZpY2VBdHQgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgICAgICAvLyBnZXQgY3VycmVudCBtYXRyaXggYXR0cmlidXRlIG9uIHRoZSBkZXZpY2VcclxuICAgICAgICBsZXQgb2xkVmFsID0gaXRlbS5kYXRhLmRhdGEuYXR0c1tkZXZpY2VBdHRdLmF0dDtcclxuICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgX2lkOiBpaWQsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZ28gdGhyb3VnaCBhdHRzIG9uIGRldmljZSwgc2V0dXAgbWF0cml4IGF0dHJpYnV0ZXMgb24gaXRcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHRtcCA9IGBhdHQke2l9YDtcclxuICAgICAgICAgICAgbGV0IGtleSA9IGBkYXRhLmF0dHMuYXR0JHtpfS5hdHRgO1xyXG4gICAgICAgICAgICBpZiAodG1wID09PSBkZXZpY2VBdHQpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFba2V5XSA9IGF0dDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmRhdGEuZGF0YS5hdHRzW2BhdHQke2l9YF0uYXR0ID09PSBhdHQpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFba2V5XSA9IG9sZFZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZU93bmVkSXRlbShkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBfb25JdGVtQ3JlYXRlKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBoZWFkZXIgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBoZWFkZXIuZGF0YXNldC50eXBlO1xyXG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBgTmV3ICR7SGVscGVycy5sYWJlbCh0eXBlKX1gLFxyXG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICBkYXRhOiBkdXBsaWNhdGUoaGVhZGVyLmRhdGFzZXQpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZGVsZXRlIGl0ZW1EYXRhLmRhdGFbJ3R5cGUnXTtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3Rvci5jcmVhdGVPd25lZEl0ZW0oaXRlbURhdGEsIHsgcmVuZGVyU2hlZXQ6IHRydWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uQWRkTGFuZ3VhZ2VTa2lsbChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5hY3Rvci5hZGRMYW5ndWFnZVNraWxsKHsgbmFtZTogJycgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uUmVtb3ZlTGFuZ3VhZ2VTa2lsbChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3Qgc2tpbGxJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbDtcclxuICAgICAgICB0aGlzLmFjdG9yLnJlbW92ZUxhbmd1YWdlU2tpbGwoc2tpbGxJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uQWRkS25vd2xlZGdlU2tpbGwoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhdGVnb3J5O1xyXG4gICAgICAgIHRoaXMuYWN0b3IuYWRkS25vd2xlZGdlU2tpbGwoY2F0ZWdvcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIF9vblJlbW92ZUtub3dsZWRnZVNraWxsKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBza2lsbElkID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsO1xyXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhdGVnb3J5O1xyXG4gICAgICAgIHRoaXMuYWN0b3IucmVtb3ZlS25vd2xlZGdlU2tpbGwoc2tpbGxJZCwgY2F0ZWdvcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIF9vbkNoYW5nZVJ0ZyhldmVudCkge1xyXG4gICAgICAgIGNvbnN0IGlpZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnLml0ZW0nKS5kYXRhc2V0Lml0ZW1JZDtcclxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5hY3Rvci5nZXRPd25lZEl0ZW0oaWlkKTtcclxuICAgICAgICBjb25zdCBydGcgPSBwYXJzZUludChldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICBpZiAoaXRlbSAmJiBydGcpIHtcclxuICAgICAgICAgICAgaXRlbS51cGRhdGUoeyAnZGF0YS50ZWNobm9sb2d5LnJhdGluZyc6IHJ0ZyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uQ2hhbmdlUXR5KGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgaWlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkO1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLmdldE93bmVkSXRlbShpaWQpO1xyXG4gICAgICAgIGNvbnN0IHF0eSA9IHBhcnNlSW50KGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUpO1xyXG4gICAgICAgIGlmIChpdGVtICYmIHF0eSkge1xyXG4gICAgICAgICAgICBpdGVtLmRhdGEuZGF0YS50ZWNobm9sb2d5LnF1YW50aXR5ID0gcXR5O1xyXG4gICAgICAgICAgICBpdGVtLnVwZGF0ZSh7ICdkYXRhLnRlY2hub2xvZ3kucXVhbnRpdHknOiBxdHkgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIF9vbkVxdWlwSXRlbShldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgaWlkID0gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkO1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmFjdG9yLmdldE93bmVkSXRlbShpaWQpO1xyXG4gICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gaXRlbS5kYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gW10gYXMgYW55W107XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdkZXZpY2UnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0dXJuIG9mZiBhbGwgb3RoZXIgZGV2aWNlcyB0aGFuIHRoZSBvbmUgdGhhdCBpcyBiZWluZyBlcXVpcHBlZFxyXG4gICAgICAgICAgICAgICAgLy8gaWYgY2xpY2tpbmcgdGhlIGVxdWlwcGVkLCB0b2dnbGUgaXRcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZSBvZiB0aGlzLmFjdG9yLml0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSAnZGV2aWNlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJdGVtcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ19pZCc6IGl0ZS5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLnRlY2hub2xvZ3kuZXF1aXBwZWQnOiBpdGUuX2lkID09PSBpaWQgPyAhaXRlbURhdGEudGVjaG5vbG9neS5lcXVpcHBlZCA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3SXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ19pZCc6IGlpZCxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkJzogIWl0ZW1EYXRhLnRlY2hub2xvZ3kuZXF1aXBwZWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZUVtYmVkZGVkRW50aXR5KCdPd25lZEl0ZW0nLCBuZXdJdGVtcyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0b3IucmVuZGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgX2ZpbmRBY3RpdmVMaXN0KCkge1xyXG4gICAgICAgIHJldHVybiAkKHRoaXMuZWxlbWVudCkuZmluZCgnLnRhYi5hY3RpdmUgLnNjcm9sbC1hcmVhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBhc3luYyBfcmVuZGVyKC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zdCBmb2N1c0xpc3QgPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnOmZvY3VzJyk7XHJcbiAgICAgICAgY29uc3QgZm9jdXM6IGFueSA9IGZvY3VzTGlzdC5sZW5ndGggPyBmb2N1c0xpc3RbMF0gOiBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLl9zYXZlU2Nyb2xsUG9zaXRpb25zKCk7XHJcbiAgICAgICAgYXdhaXQgc3VwZXIuX3JlbmRlciguLi5hcmdzKTtcclxuICAgICAgICB0aGlzLl9yZXN0b3JlU2Nyb2xsUG9zaXRpb25zKCk7XHJcblxyXG4gICAgICAgIGlmIChmb2N1cyAmJiBmb2N1cy5uYW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmZvcm1bZm9jdXMubmFtZV07XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIHNlbGVjdGlvbiByYW5nZSBvbiB0aGUgZm9jdXMgZm9ybWVkIGZyb20gYmVmb3JlIChrZWVwcyB0cmFjayBvZiBjdXJzb3IgaW4gaW5wdXQpXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldFNlbGVjdGlvblJhbmdlICYmIGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoZm9jdXMuc2VsZWN0aW9uU3RhcnQsIGZvY3VzLnNlbGVjdGlvbkVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBfcmVzdG9yZVNjcm9sbFBvc2l0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBhY3RpdmVMaXN0ID0gdGhpcy5fZmluZEFjdGl2ZUxpc3QoKTtcclxuICAgICAgICBpZiAoYWN0aXZlTGlzdC5sZW5ndGggJiYgdGhpcy5fc2Nyb2xsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgYWN0aXZlTGlzdC5wcm9wKCdzY3JvbGxUb3AnLCB0aGlzLl9zY3JvbGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIF9zYXZlU2Nyb2xsUG9zaXRpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUxpc3QgPSB0aGlzLl9maW5kQWN0aXZlTGlzdCgpO1xyXG4gICAgICAgIGlmIChhY3RpdmVMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGwgPSBhY3RpdmVMaXN0LnByb3AoJ3Njcm9sbFRvcCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfb25TaG93RWRpdEtub3dsZWRnZVNraWxsKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBza2lsbCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbDtcclxuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYXRlZ29yeTtcclxuICAgICAgICBuZXcgS25vd2xlZGdlU2tpbGxFZGl0Rm9ybSh0aGlzLmFjdG9yLCBza2lsbCwgY2F0ZWdvcnksIHtcclxuICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxyXG4gICAgICAgIH0pLnJlbmRlcih0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBfb25TaG93RWRpdExhbmd1YWdlU2tpbGwoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IHNraWxsID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnNraWxsO1xyXG4gICAgICAgIG5ldyBMYW5ndWFnZVNraWxsRWRpdEZvcm0odGhpcy5hY3Rvciwgc2tpbGwsIHsgZXZlbnQ6IGV2ZW50IH0pLnJlbmRlcih0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBfb25TaG93RWRpdFNraWxsKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBza2lsbCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5za2lsbDtcclxuICAgICAgICBuZXcgU2tpbGxFZGl0Rm9ybSh0aGlzLmFjdG9yLCBza2lsbCwgeyBldmVudDogZXZlbnQgfSkucmVuZGVyKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIF9vblNob3dJbXBvcnRDaGFyYWN0ZXIoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdjaHVtbWVyLWltcG9ydCcsXHJcbiAgICAgICAgICAgIHRpdGxlOiAnQ2h1bW1lciBJbXBvcnQnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbmV3IENodW1tZXJJbXBvcnRGb3JtKHRoaXMuYWN0b3IsIG9wdGlvbnMpLnJlbmRlcih0cnVlKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ2h1bW1lckltcG9ydEZvcm0gZXh0ZW5kcyBGb3JtQXBwbGljYXRpb24ge1xyXG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gc3VwZXIuZGVmYXVsdE9wdGlvbnM7XHJcbiAgICAgICAgb3B0aW9ucy5pZCA9ICdjaHVtbWVyLWltcG9ydCc7XHJcbiAgICAgICAgb3B0aW9ucy5jbGFzc2VzID0gWydzaGFkb3dydW41ZSddO1xyXG4gICAgICAgIG9wdGlvbnMudGl0bGUgPSAnQ2h1bW1lci9IZXJvIExhYiBJbXBvcnQnO1xyXG4gICAgICAgIG9wdGlvbnMudGVtcGxhdGUgPSAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hcHBzL2ltcG9ydC5odG1sJztcclxuICAgICAgICBvcHRpb25zLndpZHRoID0gNjAwO1xyXG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG5cclxuICAgIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcclxuICAgICAgICBodG1sLmZpbmQoJy5zdWJtaXQtY2h1bW1lci1pbXBvcnQnKS5jbGljayhhc3luYyAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc3QgY2h1bW1lcmZpbGUgPSBKU09OLnBhcnNlKCQoJy5jaHVtbWVyLXRleHQnKS52YWwoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbnMgPSAkKCcud2VhcG9ucycpLmlzKCc6Y2hlY2tlZCcpO1xyXG4gICAgICAgICAgICBjb25zdCBhcm1vciA9ICQoJy5hcm1vcicpLmlzKCc6Y2hlY2tlZCcpO1xyXG4gICAgICAgICAgICBjb25zdCBjeWJlcndhcmUgPSAkKCcuY3liZXJ3YXJlJykuaXMoJzpjaGVja2VkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVxdWlwbWVudCA9ICQoJy5nZWFyJykuaXMoJzpjaGVja2VkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHF1YWxpdGllcyA9ICQoJy5xdWFsaXRpZXMnKS5pcygnOmNoZWNrZWQnKTtcclxuICAgICAgICAgICAgY29uc3QgcG93ZXJzID0gJCgnLnBvd2VycycpLmlzKCc6Y2hlY2tlZCcpO1xyXG4gICAgICAgICAgICBjb25zdCBzcGVsbHMgPSAkKCcuc3BlbGxzJykuaXMoJzpjaGVja2VkJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaHVtbWVyZmlsZSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwYXJzZUF0dCA9IChhdHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhdHQudG9Mb3dlckNhc2UoKSA9PT0gJ2JvZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2JvZHknO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGF0dC50b0xvd2VyQ2FzZSgpID09PSAnYWdpJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnYWdpbGl0eSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRvTG93ZXJDYXNlKCkgPT09ICdyZWEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdyZWFjdGlvbic7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRvTG93ZXJDYXNlKCkgPT09ICdzdHInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdzdHJlbmd0aCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRvTG93ZXJDYXNlKCkgPT09ICdjaGEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjaGFyaXNtYSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0LnRvTG93ZXJDYXNlKCkgPT09ICdpbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdpbnR1aXRpb24nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGF0dC50b0xvd2VyQ2FzZSgpID09PSAnbG9nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbG9naWMnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGF0dC50b0xvd2VyQ2FzZSgpID09PSAnd2lsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnd2lsbHBvd2VyJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhdHQudG9Mb3dlckNhc2UoKSA9PT0gJ2VkZycpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2VkZ2UnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGF0dC50b0xvd2VyQ2FzZSgpID09PSAnbWFnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbWFnaWMnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGF0dC50b0xvd2VyQ2FzZSgpID09PSAncmVzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmVzb25hbmNlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlRGFtYWdlID0gKHZhbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGFtYWdlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZTogMCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncGh5c2ljYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogMCxcclxuICAgICAgICAgICAgICAgICAgICBkcm9wb2ZmOiAwLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gdmFsLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3BsaXQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGwgPSBzcGxpdFswXS5tYXRjaCgvKFxcZCspKFxcdyspLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgJiYgbFsxXSkgZGFtYWdlLmRhbWFnZSA9IHBhcnNlSW50KGxbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsICYmIGxbMl0pIGRhbWFnZS50eXBlID0gbFsyXSA9PT0gJ1AnID8gJ3BoeXNpY2FsJyA6ICdzdHVuJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc3BsaXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsID0gc3BsaXRbaV0ubWF0Y2goLygtP1xcZCspKC4qKS8pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsICYmIGxbMl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxbMl0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnL20nKSkgZGFtYWdlLmRyb3BvZmYgPSBwYXJzZUludChsWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBkYW1hZ2UucmFkaXVzID0gcGFyc2VJbnQobFsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhbWFnZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGdldFZhbHVlcyA9ICh2YWwpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gLygtP1swLTldKykoPzooWzAtOV0rKSkqL2c7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsID0gdmFsLm1hdGNoKHJlZ2V4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsIHx8IFsnMCddO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZ2V0QXJyYXkgPSAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IGR1cGxpY2F0ZSh0aGlzLm9iamVjdC5kYXRhKTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlID0gdXBkYXRlRGF0YS5kYXRhO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgZXJyb3IgPSAnJztcclxuICAgICAgICAgICAgLy8gY2hhcmFjdGVyIGluZm8gc3R1ZmYsIGFsc28gdGVjaG5vL21hZ2ljIGFuZCBlc3NlbmNlXHJcbiAgICAgICAgICAgIGlmIChjaHVtbWVyZmlsZS5jaGFyYWN0ZXJzICYmIGNodW1tZXJmaWxlLmNoYXJhY3RlcnMuY2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gY2h1bW1lcmZpbGUuY2hhcmFjdGVycy5jaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLnBsYXllcm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnBsYXllcl9uYW1lID0gYy5wbGF5ZXJuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYy5hbGlhcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUubmFtZSA9IGMuYWxpYXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEubmFtZSA9IGMuYWxpYXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLm1ldGF0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5tZXRhdHlwZSA9IGMubWV0YXR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLnNleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUuc2V4ID0gYy5zZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUuYWdlID0gYy5hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUuaGVpZ2h0ID0gYy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLndlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUud2VpZ2h0ID0gYy53ZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmNhbGN1bGF0ZWRzdHJlZXRjcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5zdHJlZXRfY3JlZCA9IGMuY2FsY3VsYXRlZHN0cmVldGNyZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmNhbGN1bGF0ZWRub3RvcmlldHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLm5vdG9yaWV0eSA9IGMuY2FsY3VsYXRlZG5vdG9yaWV0eTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMuY2FsY3VsYXRlZHB1YmxpY2F3YXJlbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUucHVibGljX2F3YXJlbmVzcyA9IGMuY2FsY3VsYXRlZHB1YmxpY2F3YXJlbmVzcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMua2FybWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLmthcm1hLnZhbHVlVHlwZSA9IGMua2FybWE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLnRvdGFsa2FybWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLmthcm1hLm1heCA9IGMudG90YWxrYXJtYTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMudGVjaG5vbWFuY2VyICYmIGMudGVjaG5vbWFuY2VyLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUuc3BlY2lhbCA9ICdyZXNvbmFuY2UnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChjLm1hZ2ljaWFuICYmIGMubWFnaWNpYW4udG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYy5hZGVwdCAmJiBjLmFkZXB0LnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJylcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnNwZWNpYWwgPSAnbWFnaWMnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXR0ciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnRyYWRpdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy50cmFkaXRpb24uZHJhaW5hdHRyaWJ1dGUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMudHJhZGl0aW9uLmRyYWluYXR0cmlidXRlLmF0dHJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyID0gYy50cmFkaXRpb24uZHJhaW5hdHRyaWJ1dGUuYXR0cjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjLnRyYWRpdGlvbiAmJiBjLnRyYWRpdGlvbi5kcmFpbmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIgPSBjLnRyYWRpdGlvbi5kcmFpbmF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJysnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0udHJpbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyLmZvckVhY2goKGF0dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ID0gcGFyc2VBdHQoYXR0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgIT09ICd3aWxscG93ZXInKSB1cGRhdGUubWFnaWMuYXR0cmlidXRlID0gYXR0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMudG90YWxlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLmF0dHJpYnV0ZXMuZXNzZW5jZS52YWx1ZSA9IGMudG90YWxlc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLm51eWVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5udXllbiA9IHBhcnNlSW50KGMubnV5ZW4ucmVwbGFjZSgnLCcsICcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yICs9IGBFcnJvciB3aXRoIGNoYXJhY3RlciBpbmZvOiAke2V9LiBgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHMgPSBjaHVtbWVyZmlsZS5jaGFyYWN0ZXJzLmNoYXJhY3Rlci5hdHRyaWJ1dGVzWzFdLmF0dHJpYnV0ZTtcclxuICAgICAgICAgICAgICAgIGF0dHMuZm9yRWFjaCgoYXR0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXR0ID0gcGFyc2VBdHQoYXR0Lm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXR0KSB1cGRhdGUuYXR0cmlidXRlc1tuZXdBdHRdLmJhc2UgPSBwYXJzZUludChhdHQudG90YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgKz0gYEVycm9yIHdpdGggYXR0cmlidXRlczogJHtlfS4gYDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIGluaXRpYXRpdmUgc3R1ZmZcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMuaW5pdGJvbnVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCBzdXJlIGlmIHRoaXMgb25lIGlzIGNvcnJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLm1vZHMuaW5pdGlhdGl2ZSA9IGMuaW5pdGJvbnVzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYy5pbml0ZGljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUubW9kcy5pbml0aWF0aXZlX2RpY2UgPSBjLmluaXRkaWNlIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgKz0gYEVycm9yIHdpdGggaW5pdGlhdGl2ZTogJHtlfS4gYDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHNraWxscy4uLlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2tpbGxzID0gYy5za2lsbHMuc2tpbGw7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNraWxscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBza2lsbHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnJhdGluZyA+IDAgJiYgcy5pc2xhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ3JvdXAgPSAnYWN0aXZlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBza2lsbCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHJhbmRvbUlEKDE2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmlzbGFuZ3VhZ2UgJiYgcy5pc2xhbmd1YWdlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlLnNraWxscy5sYW5ndWFnZS52YWx1ZVtpZF0gPSBza2lsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cCA9ICdsYW5ndWFnZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHMua25vd2xlZGdlICYmIHMua25vd2xlZGdlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gcy5za2lsbGNhdGVnb3J5X2VuZ2xpc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNraWxsQ2F0ZWdvcnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCBjYXRlZ29yeScsIGNhdGVnb3J5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ID0gY2F0ZWdvcnkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdCA9PT0gJ3N0cmVldCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lsbENhdGVnb3J5ID0gdXBkYXRlLnNraWxscy5rbm93bGVkZ2Uuc3RyZWV0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ID09PSAnYWNhZGVtaWMnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGxDYXRlZ29yeSA9IHVwZGF0ZS5za2lsbHMua25vd2xlZGdlLmFjYWRlbWljLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ID09PSAncHJvZmVzc2lvbmFsJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsQ2F0ZWdvcnkgPSB1cGRhdGUuc2tpbGxzLmtub3dsZWRnZS5wcm9mZXNzaW9uYWwudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXQgPT09ICdpbnRlcmVzdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lsbENhdGVnb3J5ID0gdXBkYXRlLnNraWxscy5rbm93bGVkZ2UuaW50ZXJlc3RzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbGxDYXRlZ29yeSkgc2tpbGxDYXRlZ29yeVtpZF0gPSBza2lsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5hdHRyaWJ1dGUudG9Mb3dlckNhc2UoKSA9PT0gJ2ludCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5za2lsbHMua25vd2xlZGdlLnN0cmVldC52YWx1ZVtpZF0gPSBza2lsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5hdHRyaWJ1dGUudG9Mb3dlckNhc2UoKSA9PT0gJ2xvZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5za2lsbHMua25vd2xlZGdlLnByb2Zlc3Npb25hbC52YWx1ZVtpZF0gPSBza2lsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cCA9ICdrbm93bGVkZ2UnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHMubmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHJpbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMvZywgJ18nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvLS9nLCAnXycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKCdleG90aWMnKSAmJiBuYW1lLmluY2x1ZGVzKCdfd2VhcG9uJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoJ193ZWFwb24nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGwgPSB1cGRhdGUuc2tpbGxzLmFjdGl2ZVtuYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2tpbGwpIGNvbnNvbGUuZXJyb3IoYENvdWxkbid0IHBhcnNlIHNraWxsICR7cy5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwICE9PSAnYWN0aXZlJykgc2tpbGwubmFtZSA9IHMubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lsbC5iYXNlID0gcGFyc2VJbnQocy5yYXRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnNraWxsc3BlY2lhbGl6YXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraWxsLnNwZWNzID0gZ2V0QXJyYXkoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnNraWxsc3BlY2lhbGl6YXRpb25zLnNraWxsc3BlY2lhbGl6YXRpb24ubmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBxdWFsaXRpZXNcclxuICAgICAgICAgICAgICAgIGlmIChxdWFsaXRpZXMgJiYgYy5xdWFsaXRpZXMgJiYgYy5xdWFsaXRpZXMucXVhbGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdGllcyA9IGdldEFycmF5KGMucXVhbGl0aWVzLnF1YWxpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YWxpdGllcy5mb3JFYWNoKChxKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnR5cGUgPSBxLnF1YWxpdHl0eXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocS5kZXNjcmlwdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRlc2NyaXB0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogVGV4dEVkaXRvci5lbnJpY2hIVE1MKHEuZGVzY3JpcHRpb24pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdxdWFsaXR5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB3ZWFwb25zXHJcbiAgICAgICAgICAgICAgICBpZiAod2VhcG9ucyAmJiBjLndlYXBvbnMgIT0gbnVsbCAmJiBjLndlYXBvbnMud2VhcG9uICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3ZWFwb25zID0gZ2V0QXJyYXkoYy53ZWFwb25zLndlYXBvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgd2VhcG9ucy5mb3JFYWNoKCh3KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZSA9IGRhbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYWN0aW9uID0gYWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3LmRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFRleHRFZGl0b3IuZW5yaWNoSFRNTCh3LmRlc2NyaXB0aW9uKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZS5hcCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiBwYXJzZUludChnZXRWYWx1ZXMody5hcClbMF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50eXBlID0gJ3Zhcmllcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAody5za2lsbCkgYWN0aW9uLnNraWxsID0gdy5za2lsbC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLCAnXycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAody5jYXRlZ29yeSAmJiB3LmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2V4b3RpYycpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5za2lsbCA9IHcuY2F0ZWdvcnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyB3ZWFwb25zJywgJycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMvZywgJ18nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uc2tpbGwuaW5jbHVkZXMoJ2V4b3RpYycpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5za2lsbCA9IGFjdGlvbi5za2lsbC5yZXBsYWNlKCdfd2VhcG9uJywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmF0dHJpYnV0ZSA9ICdhZ2lsaXR5JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5saW1pdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlOiBwYXJzZUludChnZXRWYWx1ZXMody5hY2N1cmFjeSlbMF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5vcHBvc2VkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkZWZlbnNlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcudHlwZS50b0xvd2VyQ2FzZSgpID09PSAnbWVsZWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnR5cGUgPSAnY29tcGxleCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYXRlZ29yeSA9ICdtZWxlZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVsZWUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm1lbGVlID0gbWVsZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVsZWUucmVhY2ggPSBwYXJzZUludCh3LnJlYWNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAody50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdyYW5nZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYXRlZ29yeSA9ICdyYW5nZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcuc2tpbGwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGhyb3cnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNhdGVnb3J5ID0gJ3Rocm93bic7IC8vIFRPRE8gY2xlYW4gdGhpcyB1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucmFuZ2UgPSByYW5nZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5yYyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogcGFyc2VJbnQoZ2V0VmFsdWVzKHcucmMpWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3Lm1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGVyb0xhYiBleHBvcnQgZG9lc24ndCBoYXZlIG1vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93ZXIgPSB3Lm1vZGUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UubW9kZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGVfc2hvdDogbG93ZXIuaW5jbHVkZXMoJ3NzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW1pX2F1dG86IGxvd2VyLmluY2x1ZGVzKCdzYScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVyc3RfZmlyZTogbG93ZXIuaW5jbHVkZXMoJ2JmJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2F1dG86IGxvd2VyLmluY2x1ZGVzKCdmYScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAody5jbGlwcyAhPSBudWxsICYmIHcuY2xpcHMuY2xpcCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlcm9MYWIgZXhwb3J0IGRvZXNuJ3QgaGF2ZSBjbGlwc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGlwcyA9IEFycmF5LmlzQXJyYXkody5jbGlwcy5jbGlwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3LmNsaXBzLmNsaXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW3cuY2xpcHMuY2xpcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBzLmZvckVhY2goKGNsaXApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNsaXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3LnJhbmdlcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3LnJhbmdlcy5zaG9ydCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3LnJhbmdlcy5tZWRpdW0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdy5yYW5nZXMubG9uZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3LnJhbmdlcy5leHRyZW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHcucmFuZ2VzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UucmFuZ2VzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcnQ6IHBhcnNlSW50KHcucmFuZ2VzLnNob3J0LnNwbGl0KCctJylbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaXVtOiBwYXJzZUludCh3LnJhbmdlcy5tZWRpdW0uc3BsaXQoJy0nKVsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nOiBwYXJzZUludCh3LnJhbmdlcy5sb25nLnNwbGl0KCctJylbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmVtZTogcGFyc2VJbnQody5yYW5nZXMuZXh0cmVtZS5zcGxpdCgnLScpWzFdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBmaWd1cmUgb3V0IGhvdyB0byBhZGQgbW9kcyB0byB3ZWFwb25zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHcuYWNjZXNzb3JpZXMgJiYgdy5hY2Nlc3Nvcmllcy5hY2Nlc3NvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmFuZ2UubW9kcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCBhY2Nlc3NvcmllcyA9IGdldEFycmF5KHcuYWNjZXNzb3JpZXMuYWNjZXNzb3J5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgYWNjZXNzb3JpZXMuZm9yRWFjaCgoYSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICByYW5nZS5tb2RzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBuYW1lOiBhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAody50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICd0aHJvd24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYXRlZ29yeSA9ICd0aHJvd24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gaGFuZGxlIHJhdyBkYW1hZ2UgaWYgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBwYXJzZURhbWFnZSh3LmRhbWFnZV9lbmdsaXNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2UuYmFzZSA9IGQuZGFtYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZS50eXBlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlLnR5cGUuYmFzZSA9IGQudHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5kcm9wb2ZmIHx8IGQucmFkaXVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRocm93biA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnRocm93biA9IHRocm93bjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3duLmJsYXN0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBkLnJhZGl1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BvZmY6IGQuZHJvcG9mZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3ZWFwb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGFybW9yc1xyXG4gICAgICAgICAgICAgICAgaWYgKGFybW9yICYmIGMuYXJtb3JzICYmIGMuYXJtb3JzLmFybW9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJtb3JzID0gZ2V0QXJyYXkoYy5hcm1vcnMuYXJtb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFybW9ycy5mb3JFYWNoKChhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcm1vciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5hcm1vciA9IGFybW9yO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZXNjID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5tb2QgPSBhLmFybW9yLmluY2x1ZGVzKCcrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci52YWx1ZSA9IHBhcnNlSW50KGEuYXJtb3IucmVwbGFjZSgnKycsICcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5kZXNjcmlwdGlvbikgZGVzYyA9IGEuZGVzY3JpcHRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5hcm1vcm1vZHMgJiYgYS5hcm1vcm1vZHMuYXJtb3Jtb2QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5maXJlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5lbGVjdHJpY2l0eSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJtb3IuY29sZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJtb3IuYWNpZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJtb3IucmFkaWF0aW9uID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kRGVzYyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZHMgPSBnZXRBcnJheShhLmFybW9ybW9kcy5hcm1vcm1vZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kcy5mb3JFYWNoKChtb2QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2ZpcmUgcmVzaXN0YW5jZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5maXJlICs9IHBhcnNlSW50KG1vZC5yYXRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vZC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ25vbmNvbmR1Y3Rpdml0eScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5lbGVjdHJpY2l0eSArPSBwYXJzZUludChtb2QucmF0aW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2QubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdpbnN1bGF0aW9uJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFybW9yLmNvbGQgKz0gcGFyc2VJbnQobW9kLnJhdGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2QubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdyYWRpYXRpb24gc2hpZWxkaW5nJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcm1vci5yYWRpYXRpb24gKz0gcGFyc2VJbnQobW9kLnJhdGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZC5yYXRpbmcgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2REZXNjLnB1c2goYCR7bW9kLm5hbWV9IFIke21vZC5yYXRpbmd9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2REZXNjLnB1c2gobW9kLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZERlc2MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgZGVzYyB0byBiZWdpbm5pbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYyA9IGAke21vZERlc2Muam9pbignLCcpfVxcblxcbiR7ZGVzY31gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmVxdWlwcGVkLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudGVjaG5vbG9neSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1aXBwZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFRleHRFZGl0b3IuZW5yaWNoSFRNTChkZXNjKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhcm1vcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW1EYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY3liZXJ3YXJlXHJcbiAgICAgICAgICAgICAgICBpZiAoY3liZXJ3YXJlICYmIGMuY3liZXJ3YXJlcyAmJiBjLmN5YmVyd2FyZXMuY3liZXJ3YXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3liZXJ3YXJlcyA9IGdldEFycmF5KGMuY3liZXJ3YXJlcy5jeWJlcndhcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN5YmVyd2FyZXMuZm9yRWFjaCgoY3kpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBjeS5yYXRpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN5LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudGVjaG5vbG9neSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVpcHBlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmVzc2VuY2UgPSBjeS5lc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmdyYWRlID0gY3kuZ3JhZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjeS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjeWJlcndhcmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHBvd2Vyc1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvd2VycyAmJiBjLnBvd2VycyAmJiBjLnBvd2Vycy5wb3dlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvd2VycyA9IGdldEFycmF5KGMucG93ZXJzLnBvd2VyKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3dlcnMuZm9yRWFjaCgocCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLmRlc2NyaXB0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogVGV4dEVkaXRvci5lbnJpY2hIVE1MKHAuZGVzY3JpcHRpb24pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5sZXZlbCA9IHBhcnNlSW50KHAucmF0aW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcC5wcCA9IHBhcnNlSW50KHAudG90YWxwb2ludHMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYWRlcHRfcG93ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBnZWFyXHJcbiAgICAgICAgICAgICAgICBpZiAoZXF1aXBtZW50ICYmIGMuZ2VhcnMgJiYgYy5nZWFycy5nZWFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VhcnMgPSBnZXRBcnJheShjLmdlYXJzLmdlYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdlYXJzLmZvckVhY2goKGcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB7IG5hbWUgfSA9IGc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZy5leHRyYSkgbmFtZSArPSBgICgke2cuZXh0cmF9KWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnRlY2hub2xvZ3kgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBnLnJhdGluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogZy5xdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXNjcmlwdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZy5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcXVpcG1lbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHNwZWxsc1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwZWxscyAmJiBjLnNwZWxscyAmJiBjLnNwZWxscy5zcGVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWxscyA9IGdldEFycmF5KGMuc3BlbGxzLnNwZWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBzcGVsbHMuZm9yRWFjaCgocykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuYWxjaGVteS50b0xvd2VyQ2FzZSgpICE9PSAndHJ1ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5hY3Rpb24gPSBhY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jYXRlZ29yeSA9IHMuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJ18nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm5hbWUgPSBzLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS50eXBlID0gcy50eXBlID09PSAnTScgPyAnbWFuYScgOiAncGh5c2ljYWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucmFuZ2UgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnJhbmdlID09PSAnVCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RvdWNoJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzLnJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xccy9nLCAnXycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnKCcsICcnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyknLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kcmFpbiA9IHBhcnNlSW50KHMuZHYucmVwbGFjZSgnRicsICcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZGVzY3JpcHRvcnMpIGRlc2NyaXB0aW9uID0gcy5kZXNjcmlwdG9ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5kZXNjcmlwdGlvbikgZGVzY3JpcHRpb24gKz0gYFxcbiR7cy5kZXNjcmlwdGlvbn1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGVzY3JpcHRpb24gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRlc2NyaXB0aW9uLnZhbHVlVHlwZSA9IFRleHRFZGl0b3IuZW5yaWNoSFRNTChkZXNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmR1cmF0aW9uLnRvTG93ZXJDYXNlKCkgPT09ICdzJykgZGF0YS5kdXJhdGlvbiA9ICdzdXN0YWluZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMuZHVyYXRpb24udG9Mb3dlckNhc2UoKSA9PT0gJ2knKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmR1cmF0aW9uID0gJ2luc3RhbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMuZHVyYXRpb24udG9Mb3dlckNhc2UoKSA9PT0gJ3AnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmR1cmF0aW9uID0gJ3Blcm1hbmVudCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50eXBlID0gJ3Zhcmllcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnNraWxsID0gJ3NwZWxsY2FzdGluZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmF0dHJpYnV0ZSA9ICdtYWdpYyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmRlc2NyaXB0b3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2MgPSBzLmRlc2NyaXB0b3JzLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09ICdjb21iYXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmNvbWJhdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2MuaW5jbHVkZXMoJ2RpcmVjdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jb21iYXQuaW5wdXRUeXBlID0gJ2luZGlyZWN0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RlZmVuc2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY29tYmF0LmlucHV0VHlwZSA9ICdkaXJlY3QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdtYW5hJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnd2lsbHBvd2VyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3BoeXNpY2FsJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnYm9keScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09ICdkZXRlY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRldGVjdGlvbiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSBkZXNjLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGxpdC5mb3JFYWNoKCh0b2tlbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW4gfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbi5yZXBsYWNlKCcgZGV0ZWN0aW9uIHNwZWxsJywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdG9rZW4pIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uaW5jbHVkZXMoJ2FyZWEnKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uaW5jbHVkZXMoJ3Bhc3NpdmUnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kZXRlY3Rpb24ucGFzc2l2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4uaW5jbHVkZXMoJ2FjdGl2ZScpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmRldGVjdGlvbi5wYXNzaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGV0ZWN0aW9uLmlucHV0VHlwZSA9IHRva2VuLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5kZXRlY3Rpb24ucGFzc2l2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5vcHBvc2VkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnd2lsbHBvd2VyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJ2xvZ2ljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09ICdpbGx1c2lvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaWxsdXNpb24gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gZGVzYy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BsaXQuZm9yRWFjaCgodG9rZW4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW4ucmVwbGFjZSgnIGlsbHVzaW9uIHNwZWxsJywgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdG9rZW4pIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uaW5jbHVkZXMoJ2FyZWEnKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uaW5jbHVkZXMoJ3NlbnNlJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaWxsdXNpb24uc2Vuc2UgPSB0b2tlbi50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmlsbHVzaW9uLmlucHV0VHlwZSA9IHRva2VuLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdtYW5hJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5vcHBvc2VkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnd2lsbHBvd2VyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlMjogJ2xvZ2ljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJ2ludHVpdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTI6ICdsb2dpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpID09PSAnbWFuaXB1bGF0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tYW5pcHVsYXRpb24gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXNjLmluY2x1ZGVzKCdlbnZpcm9ubWVudGFsJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tYW5pcHVsYXRpb24uZW52aXJvbm1lbnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzYy5pbmNsdWRlcygncGh5c2ljYWwnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm1hbmlwdWxhdGlvbi5waHlzaWNhbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzYy5pbmNsdWRlcygnbWVudGFsJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tYW5pcHVsYXRpb24ubWVudGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gZmlndXJlIG91dCBob3cgdG8gcGFyc2UgZGFtYWdpbmdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5tYW5pcHVsYXRpb24ubWVudGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLm9wcG9zZWQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICd3aWxscG93ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnbG9naWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5tYW5pcHVsYXRpb24ucGh5c2ljYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ub3Bwb3NlZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJ2JvZHknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnc3RyZW5ndGgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHMubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NwZWxsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5vYmplY3QudXBkYXRlKHVwZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm9iamVjdC5jcmVhdGVFbWJlZGRlZEVudGl0eSgnT3duZWRJdGVtJywgaXRlbXMpO1xyXG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oXHJcbiAgICAgICAgICAgICAgICAnQ29tcGxldGUhIENoZWNrIGV2ZXJ5dGhpbmcuIE5vdGFibHk6IFJhbmdlZCB3ZWFwb24gbW9kcyBhbmQgYW1tbzsgU3RyZW5ndGggYmFzZWQgd2VhcG9uIGRhbWFnZTsgU3BlY2lhbGl6YXRpb25zIG9uIGFsbCBzcGVsbHMsIHBvd2VycywgYW5kIHdlYXBvbnM7J1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIEEgR00tVG9vbCB0byBrZWVwIHRyYWNrIG9mIGFsbCBwbGF5ZXJzIG92ZXJ3YXRjaCBzY29yZXNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBPdmVyd2F0Y2hTY29yZVRyYWNrZXIgZXh0ZW5kcyBBcHBsaWNhdGlvbiB7XHJcbiAgICBzdGF0aWMgTWF0cml4T3ZlcndhdGNoRGljZUNvdW50ID0gJzJkNic7XHJcbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzdXBlci5kZWZhdWx0T3B0aW9ucztcclxuICAgICAgICBvcHRpb25zLmlkID0gJ292ZXJ3YXRjaC1zY29yZS10cmFja2VyJztcclxuICAgICAgICBvcHRpb25zLmNsYXNzZXMgPSBbJ3NyNSddO1xyXG4gICAgICAgIG9wdGlvbnMudGl0bGUgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5PdmVyd2F0Y2hTY29yZVRyYWNrZXJUaXRsZScpO1xyXG4gICAgICAgIG9wdGlvbnMudGVtcGxhdGUgPVxyXG4gICAgICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hcHBzL2dtdG9vbHMvb3ZlcndhdGNoLXNjb3JlLXRyYWNrZXIuaHRtbCc7XHJcbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IDQ1MDtcclxuICAgICAgICBvcHRpb25zLmhlaWdodCA9ICdhdXRvJztcclxuICAgICAgICBvcHRpb25zLnJlc2l6YWJsZSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpIHtcclxuICAgICAgICAvLyBnZXQgbGlzdCBvZiBhY3RvcnMgdGhhdCBiZWxvbmcgdG8gdXNlcnNcclxuICAgICAgICBjb25zdCBhY3RvcnMgPSBnYW1lLnVzZXJzLnJlZHVjZSgoYWNjLCB1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdXNlci5pc0dNICYmIHVzZXIuY2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICBhY2MucHVzaCh1c2VyLmNoYXJhY3Rlci5kYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgIH0sIFtdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYWN0b3JzLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCkge1xyXG4gICAgICAgIGh0bWwuZmluZCgnLm92ZXJ3YXRjaC1zY29yZS1yZXNldCcpLm9uKCdjbGljaycsIHRoaXMuX3Jlc2V0T3ZlcndhdGNoU2NvcmUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaHRtbC5maW5kKCcub3ZlcndhdGNoLXNjb3JlLWFkZCcpLm9uKCdjbGljaycsIHRoaXMuX2FkZE92ZXJ3YXRjaFNjb3JlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLm92ZXJ3YXRjaC1zY29yZS1pbnB1dCcpLm9uKCdjaGFuZ2UnLCB0aGlzLl9zZXRPdmVyd2F0Y2hTY29yZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5vdmVyd2F0Y2gtc2NvcmUtcm9sbC0xNS1taW51dGVzJykub24oXHJcbiAgICAgICAgICAgICdjbGljaycsXHJcbiAgICAgICAgICAgIHRoaXMuX3JvbGxGb3IxNU1pbnV0ZXMuYmluZCh0aGlzKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV0dXJucyB0aGUgYWN0b3IgdGhhdCB0aGlzIGV2ZW50IGlzIGFjdGluZyBvblxyXG4gICAgX2dldEFjdG9yRnJvbUV2ZW50KGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJykuZGF0YXNldC5hY3RvcklkO1xyXG4gICAgICAgIGlmIChpZCkgcmV0dXJuIGdhbWUuYWN0b3JzLmZpbmQoKGEpID0+IGEuX2lkID09PSBpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldE92ZXJ3YXRjaFNjb3JlKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgYWN0b3IgPSB0aGlzLl9nZXRBY3RvckZyb21FdmVudChldmVudCk7XHJcbiAgICAgICAgY29uc3QgYW1vdW50ID0gZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZTtcclxuICAgICAgICBpZiAoYW1vdW50ICYmIGFjdG9yKSB7XHJcbiAgICAgICAgICAgIGFjdG9yLnNldE92ZXJ3YXRjaFNjb3JlKGFtb3VudCkudGhlbigoKSA9PiB0aGlzLnJlbmRlcigpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZE92ZXJ3YXRjaFNjb3JlKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgYWN0b3IgPSB0aGlzLl9nZXRBY3RvckZyb21FdmVudChldmVudCk7XHJcbiAgICAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFtb3VudCk7XHJcbiAgICAgICAgaWYgKGFtb3VudCAmJiBhY3Rvcikge1xyXG4gICAgICAgICAgICBjb25zdCBvcyA9IGFjdG9yLmdldE92ZXJ3YXRjaFNjb3JlKCk7XHJcbiAgICAgICAgICAgIGFjdG9yLnNldE92ZXJ3YXRjaFNjb3JlKG9zICsgYW1vdW50KS50aGVuKCgpID0+IHRoaXMucmVuZGVyKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfcmVzZXRPdmVyd2F0Y2hTY29yZShldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgYWN0b3IgPSB0aGlzLl9nZXRBY3RvckZyb21FdmVudChldmVudCk7XHJcbiAgICAgICAgaWYgKGFjdG9yKSB7XHJcbiAgICAgICAgICAgIGFjdG9yLnNldE92ZXJ3YXRjaFNjb3JlKDApLnRoZW4oKCkgPT4gdGhpcy5yZW5kZXIoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9yb2xsRm9yMTVNaW51dGVzKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBhY3RvciA9IHRoaXMuX2dldEFjdG9yRnJvbUV2ZW50KGV2ZW50KTtcclxuICAgICAgICBpZiAoYWN0b3IpIHtcclxuICAgICAgICAgICAgLy8gIHVzZSBzdGF0aWMgdmFsdWUgc28gaXQgY2FuIGJlIG1vZGlmaWVkIGluIG1vZHVsZXNcclxuICAgICAgICAgICAgY29uc3Qgcm9sbCA9IG5ldyBSb2xsKE92ZXJ3YXRjaFNjb3JlVHJhY2tlci5NYXRyaXhPdmVyd2F0Y2hEaWNlQ291bnQpO1xyXG4gICAgICAgICAgICByb2xsLnJvbGwoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHVzZSBHTSBSb2xsIE1vZGUgc28gcGxheWVycyBkb24ndCBzZWVcclxuICAgICAgICAgICAgLy8gY29uc3Qgcm9sbE1vZGUgPSBDT05GSUcuRGljZS5yb2xsTW9kZXMuZ21yb2xsO1xyXG4gICAgICAgICAgICAvLyByb2xsLnRvTWVzc2FnZSh7IHJvbGxNb2RlIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJvbGwudG90YWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9zID0gYWN0b3IuZ2V0T3ZlcndhdGNoU2NvcmUoKTtcclxuICAgICAgICAgICAgICAgIGFjdG9yLnNldE92ZXJ3YXRjaFNjb3JlKG9zICsgcm9sbC50b3RhbCkudGhlbigoKSA9PiB0aGlzLnJlbmRlcigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBMYW5ndWFnZVNraWxsRWRpdEZvcm0gfSBmcm9tICcuL0xhbmd1YWdlU2tpbGxFZGl0Rm9ybSc7XHJcbmltcG9ydCBLbm93bGVkZ2VTa2lsbENhdGVnb3J5ID0gU2hhZG93cnVuLktub3dsZWRnZVNraWxsQ2F0ZWdvcnk7XHJcblxyXG5leHBvcnQgY2xhc3MgS25vd2xlZGdlU2tpbGxFZGl0Rm9ybSBleHRlbmRzIExhbmd1YWdlU2tpbGxFZGl0Rm9ybSB7XHJcbiAgICBjYXRlZ29yeTogS25vd2xlZGdlU2tpbGxDYXRlZ29yeTtcclxuICAgIF91cGRhdGVTdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIGBkYXRhLnNraWxscy5rbm93bGVkZ2UuJHt0aGlzLmNhdGVnb3J5fS52YWx1ZS4ke3RoaXMuc2tpbGxJZH1gO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFjdG9yLCBza2lsbElkLCBjYXRlZ29yeSwgb3B0aW9ucykge1xyXG4gICAgICAgIHN1cGVyKGFjdG9yLCBza2lsbElkLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU2tpbGxFZGl0Rm9ybSB9IGZyb20gJy4vU2tpbGxFZGl0Rm9ybSc7XHJcblxyXG5leHBvcnQgY2xhc3MgTGFuZ3VhZ2VTa2lsbEVkaXRGb3JtIGV4dGVuZHMgU2tpbGxFZGl0Rm9ybSB7XHJcbiAgICBfdXBkYXRlU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiBgZGF0YS5za2lsbHMubGFuZ3VhZ2UudmFsdWUuJHt0aGlzLnNraWxsSWR9YDtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCkge1xyXG4gICAgICAgIHJldHVybiBtZXJnZU9iamVjdChzdXBlci5nZXREYXRhKCksIHtcclxuICAgICAgICAgICAgZWRpdGFibGVfbmFtZTogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBfb25VcGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhLCB1cGRhdGVEYXRhKSB7XHJcbiAgICAgICAgc3VwZXIuX29uVXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSwgdXBkYXRlRGF0YSk7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IGZvcm1EYXRhWydkYXRhLm5hbWUnXTtcclxuICAgICAgICBjb25zdCBjdXJyZW50RGF0YSA9IHVwZGF0ZURhdGFbdGhpcy5fdXBkYXRlU3RyaW5nKCldIHx8IHt9O1xyXG4gICAgICAgIHVwZGF0ZURhdGFbdGhpcy5fdXBkYXRlU3RyaW5nKCldID0ge1xyXG4gICAgICAgICAgICAuLi5jdXJyZW50RGF0YSxcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBTa2lsbEVkaXRGb3JtRGF0YSA9IFNoYWRvd3J1bi5Ta2lsbEVkaXRGb3JtRGF0YTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTa2lsbEVkaXRGb3JtIGV4dGVuZHMgQmFzZUVudGl0eVNoZWV0IHtcclxuICAgIHNraWxsSWQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhY3Rvciwgc2tpbGxJZCwgb3B0aW9ucykge1xyXG4gICAgICAgIHN1cGVyKGFjdG9yLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLnNraWxsSWQgPSBza2lsbElkO1xyXG4gICAgfVxyXG5cclxuICAgIF91cGRhdGVTdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIGBkYXRhLnNraWxscy5hY3RpdmUuJHt0aGlzLnNraWxsSWR9YDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzdXBlci5kZWZhdWx0T3B0aW9ucztcclxuICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3Qob3B0aW9ucywge1xyXG4gICAgICAgICAgICBpZDogJ3NraWxsLWVkaXRvcicsXHJcbiAgICAgICAgICAgIGNsYXNzZXM6IFsnc3I1JywgJ3NoZWV0JywgJ3NraWxsLWVkaXQtd2luZG93J10sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hcHBzL3NraWxsLWVkaXQuaHRtbCcsXHJcbiAgICAgICAgICAgIHdpZHRoOiAzMDAsXHJcbiAgICAgICAgICAgIHN1Ym1pdE9uQ2xvc2U6IHRydWUsXHJcbiAgICAgICAgICAgIHN1Ym1pdE9uQ2hhbmdlOiB0cnVlLFxyXG4gICAgICAgICAgICBjbG9zZU9uU3VibWl0OiBmYWxzZSxcclxuICAgICAgICAgICAgcmVzaXphYmxlOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0aXRsZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGEoKS5kYXRhO1xyXG4gICAgICAgIHJldHVybiBgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5FZGl0U2tpbGwnKX0gLSAke2RhdGE/LmxhYmVsID8gZ2FtZS5pMThuLmxvY2FsaXplKGRhdGEubGFiZWwpIDogJyd9YDtcclxuICAgIH1cclxuXHJcbiAgICBfb25VcGRhdGVPYmplY3QoZXZlbnQsIGZvcm1EYXRhLCB1cGRhdGVEYXRhKSB7XHJcbiAgICAgICAgLy8gZ2V0IGJhc2UgdmFsdWVcclxuICAgICAgICBjb25zdCBiYXNlID0gZm9ybURhdGFbJ2RhdGEuYmFzZSddO1xyXG5cclxuICAgICAgICAvLyBwcm9jZXNzIHNwZWNpYWxpemF0aW9uc1xyXG4gICAgICAgIGNvbnN0IHNwZWNzUmVnZXggPSAvZGF0YVxcLnNwZWNzXFwuKFxcZCspLztcclxuICAgICAgICBjb25zdCBzcGVjcyA9IE9iamVjdC5lbnRyaWVzKGZvcm1EYXRhKS5yZWR1Y2UoKHJ1bm5pbmcsIFtrZXksIHZhbF06IFtzdHJpbmcsIGFueV0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZm91bmQgPSBrZXkubWF0Y2goc3BlY3NSZWdleCk7XHJcbiAgICAgICAgICAgIGlmIChmb3VuZCAmJiBmb3VuZFswXSkge1xyXG4gICAgICAgICAgICAgICAgcnVubmluZy5wdXNoKHZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XHJcbiAgICAgICAgfSwgW10gYXMgYW55W10pO1xyXG5cclxuICAgICAgICAvLyBwcm9jZXNzIGJvbnVzZXNcclxuICAgICAgICBjb25zdCBib251c0tleVJlZ2V4ID0gL2RhdGFcXC5ib251c1xcLihcXGQrKS5rZXkvO1xyXG4gICAgICAgIGNvbnN0IGJvbnVzVmFsdWVSZWdleCA9IC9kYXRhXFwuYm9udXNcXC4oXFxkKykudmFsdWUvO1xyXG4gICAgICAgIGNvbnN0IGJvbnVzID0gT2JqZWN0LmVudHJpZXMoZm9ybURhdGEpLnJlZHVjZSgocnVubmluZywgW2tleSwgdmFsdWVdOiBbc3RyaW5nLCBhbnldKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kS2V5ID0ga2V5Lm1hdGNoKGJvbnVzS2V5UmVnZXgpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3VuZFZhbCA9IGtleS5tYXRjaChib251c1ZhbHVlUmVnZXgpO1xyXG4gICAgICAgICAgICBpZiAoZm91bmRLZXkgJiYgZm91bmRLZXlbMF0gJiYgZm91bmRLZXlbMV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZm91bmRLZXlbMV07XHJcbiAgICAgICAgICAgICAgICBpZiAocnVubmluZ1tpbmRleF0gPT09IHVuZGVmaW5lZCkgcnVubmluZ1tpbmRleF0gPSB7fTtcclxuICAgICAgICAgICAgICAgIHJ1bm5pbmdbaW5kZXhdLmtleSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvdW5kVmFsICYmIGZvdW5kVmFsWzBdICYmIGZvdW5kVmFsWzFdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGZvdW5kVmFsWzFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdbaW5kZXhdID09PSB1bmRlZmluZWQpIHJ1bm5pbmdbaW5kZXhdID0ge307XHJcbiAgICAgICAgICAgICAgICBydW5uaW5nW2luZGV4XS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcclxuICAgICAgICB9LCBbXSBhcyBhbnlbXSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRhID0gdXBkYXRlRGF0YVt0aGlzLl91cGRhdGVTdHJpbmcoKV0gfHwge307XHJcbiAgICAgICAgdXBkYXRlRGF0YVt0aGlzLl91cGRhdGVTdHJpbmcoKV0gPSB7XHJcbiAgICAgICAgICAgIC4uLmN1cnJlbnREYXRhLFxyXG4gICAgICAgICAgICBiYXNlLFxyXG4gICAgICAgICAgICBzcGVjcyxcclxuICAgICAgICAgICAgYm9udXMsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBhc3luYyBfdXBkYXRlT2JqZWN0KGV2ZW50LCBmb3JtRGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcclxuICAgICAgICB0aGlzLl9vblVwZGF0ZU9iamVjdChldmVudCwgZm9ybURhdGEsIHVwZGF0ZURhdGEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKTtcclxuICAgICAgICBhd2FpdCB0aGlzLmVudGl0eS51cGRhdGUodXBkYXRlRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCkge1xyXG4gICAgICAgIHN1cGVyLmFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpO1xyXG4gICAgICAgICQoaHRtbCkuZmluZCgnLmFkZC1zcGVjJykub24oJ2NsaWNrJywgdGhpcy5fYWRkTmV3U3BlYy5iaW5kKHRoaXMpKTtcclxuICAgICAgICAkKGh0bWwpLmZpbmQoJy5yZW1vdmUtc3BlYycpLm9uKCdjbGljaycsIHRoaXMuX3JlbW92ZVNwZWMuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgJChodG1sKS5maW5kKCcuYWRkLWJvbnVzJykub24oJ2NsaWNrJywgdGhpcy5fYWRkTmV3Qm9udXMuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgJChodG1sKS5maW5kKCcucmVtb3ZlLWJvbnVzJykub24oJ2NsaWNrJywgdGhpcy5fcmVtb3ZlQm9udXMuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX2FkZE5ld0JvbnVzKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YSgpLmRhdGE7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgeyBib251cyA9IFtdIH0gPSBkYXRhO1xyXG4gICAgICAgIC8vIGFkZCBibGFuayBsaW5lIGZvciBuZXcgYm9udXNcclxuICAgICAgICB1cGRhdGVEYXRhW2Ake3RoaXMuX3VwZGF0ZVN0cmluZygpfS5ib251c2BdID0gWy4uLmJvbnVzLCB7IGtleTogJycsIHZhbHVlOiAwIH1dO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZW50aXR5LnVwZGF0ZSh1cGRhdGVEYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBfcmVtb3ZlQm9udXMoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXREYXRhKCkuZGF0YTtcclxuICAgICAgICBpZiAoZGF0YT8uYm9udXMpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBib251cyB9ID0gZGF0YTtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc3BlYztcclxuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIGJvbnVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhW2Ake3RoaXMuX3VwZGF0ZVN0cmluZygpfS5ib251c2BdID0gYm9udXM7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmVudGl0eS51cGRhdGUodXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX2FkZE5ld1NwZWMoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXREYXRhKCkuZGF0YTtcclxuICAgICAgICBpZiAoZGF0YT8uc3BlY3MpIHtcclxuICAgICAgICAgICAgLy8gYWRkIGEgYmxhbmsgbGluZSB0byBzcGVjc1xyXG4gICAgICAgICAgICBjb25zdCB7IHNwZWNzIH0gPSBkYXRhO1xyXG4gICAgICAgICAgICB1cGRhdGVEYXRhW2Ake3RoaXMuX3VwZGF0ZVN0cmluZygpfS5zcGVjc2BdID0gWy4uLnNwZWNzLCAnJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF3YWl0IHRoaXMuZW50aXR5LnVwZGF0ZSh1cGRhdGVEYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBfcmVtb3ZlU3BlYyhldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGEoKS5kYXRhO1xyXG4gICAgICAgIGlmIChkYXRhPy5zcGVjcykge1xyXG4gICAgICAgICAgICBjb25zdCB7IHNwZWNzIH0gPSBkYXRhO1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5zcGVjO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgc3BlY3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbYCR7dGhpcy5fdXBkYXRlU3RyaW5nKCl9LnNwZWNzYF0gPSBzcGVjcztcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZW50aXR5LnVwZGF0ZSh1cGRhdGVEYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCk6IFNraWxsRWRpdEZvcm1EYXRhIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gc3VwZXIuZ2V0RGF0YSgpO1xyXG4gICAgICAgIGNvbnN0IGFjdG9yID0gc3VwZXIuZ2V0RGF0YSgpLmVudGl0eTtcclxuICAgICAgICBkYXRhWydkYXRhJ10gPSBhY3RvciA/IGdldFByb3BlcnR5KGFjdG9yLCB0aGlzLl91cGRhdGVTdHJpbmcoKSkgOiB7fTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogTWVhc3VyZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcGl4ZWwgY29vcmRpbmF0ZXNcclxuICogU2VlIEJhc2VHcmlkLm1lYXN1cmVEaXN0YW5jZSBmb3IgbW9yZSBkZXRhaWxzXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMCAgICAgICAgICAgVGhlIG9yaWdpbiBjb29yZGluYXRlIHt4LCB5fVxyXG4gKiBAcGFyYW0ge09iamVjdH0gcDEgICAgICAgICAgIFRoZSBkZXN0aW5hdGlvbiBjb29yZGluYXRlIHt4LCB5fVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGdyaWRTcGFjZXMgIEVuZm9yY2UgZ3JpZCBkaXN0YW5jZSAoaWYgdHJ1ZSkgdnMuIGRpcmVjdCBwb2ludC10by1wb2ludCAoaWYgZmFsc2UpXHJcbiAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgVGhlIGRpc3RhbmNlIGJldHdlZW4gcDEgYW5kIHAwXHJcbiAqL1xyXG5pbXBvcnQgeyBTWVNURU1fTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBjb25zdCBtZWFzdXJlRGlzdGFuY2UgPSBmdW5jdGlvbiAocDAsIHAxLCB7IGdyaWRTcGFjZXMgPSB0cnVlIH0gPSB7fSkge1xyXG4gICAgaWYgKCFncmlkU3BhY2VzKVxyXG4gICAgICAgIHsgIC8vIEJhc2VHcmlkIGV4aXN0cy4uLiBmaXggaW4gZm91bmRyeSB0eXBlc1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHJldHVybiBCYXNlR3JpZC5wcm90b3R5cGUubWVhc3VyZURpc3RhbmNlLmJpbmQodGhpcykocDAsIHAxLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRTcGFjZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgY29uc3QgZ3MgPSBjYW52YXMuZGltZW5zaW9ucy5zaXplO1xyXG4gICAgY29uc3QgcmF5ID0gbmV3IFJheShwMCwgcDEpO1xyXG4gICAgY29uc3QgbnggPSBNYXRoLmFicyhNYXRoLmNlaWwocmF5LmR4IC8gZ3MpKTtcclxuICAgIGNvbnN0IG55ID0gTWF0aC5hYnMoTWF0aC5jZWlsKHJheS5keSAvIGdzKSk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBudW1iZXIgb2Ygc3RyYWlnaHQgYW5kIGRpYWdvbmFsIG1vdmVzXHJcbiAgICBjb25zdCBuRGlhZ29uYWwgPSBNYXRoLm1pbihueCwgbnkpO1xyXG4gICAgY29uc3QgblN0cmFpZ2h0ID0gTWF0aC5hYnMobnkgLSBueCk7XHJcblxyXG4gICAgY29uc3QgZGlhZ29uYWxSdWxlID0gZ2FtZS5zZXR0aW5ncy5nZXQoU1lTVEVNX05BTUUsICdkaWFnb25hbE1vdmVtZW50Jyk7XHJcblxyXG4gICAgaWYgKGRpYWdvbmFsUnVsZSA9PT0gJzEtMi0xJykge1xyXG4gICAgICAgIGNvbnN0IG5kMTAgPSBNYXRoLmZsb29yKG5EaWFnb25hbCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IHNwYWNlcyA9IG5kMTAgKiAyICsgKG5EaWFnb25hbCAtIG5kMTApICsgblN0cmFpZ2h0O1xyXG4gICAgICAgIHJldHVybiBzcGFjZXMgKiBjYW52YXMuZGltZW5zaW9ucy5kaXN0YW5jZTtcclxuICAgIH1cclxuICAgIHJldHVybiAoblN0cmFpZ2h0ICsgbkRpYWdvbmFsKSAqIGNhbnZhcy5zY2VuZS5kYXRhLmdyaWREaXN0YW5jZTtcclxufTtcclxuIiwiaW1wb3J0IHsgU1lTVEVNX05BTUUgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgY29uc3QgcHJlQ29tYmF0VXBkYXRlID0gYXN5bmMgZnVuY3Rpb24gKGNvbWJhdCwgY2hhbmdlcywgb3B0aW9ucykge1xyXG4gICAgLy8gdHJpZ2dlcnMgd2hlbiBjb21iYXQgcm91bmQgY2hhbmdlc1xyXG4gICAgaWYgKGNoYW5nZXMucm91bmQgJiYgY29tYmF0LnJvdW5kICYmIGNoYW5nZXMucm91bmQgPiBjb21iYXQucm91bmQpIHtcclxuICAgICAgICBsZXQgaW5pdFBhc3NFbmQgPSB0cnVlO1xyXG4gICAgICAgIGZvciAoY29uc3QgYyBvZiBjb21iYXQuY29tYmF0YW50cykge1xyXG4gICAgICAgICAgICBsZXQgaW5pdCA9IE51bWJlcihjLmluaXRpYXRpdmUpO1xyXG4gICAgICAgICAgICBpbml0IC09IDEwO1xyXG4gICAgICAgICAgICBpZiAoaW5pdCA+IDApIGluaXRQYXNzRW5kID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5pdFBhc3NFbmQpIHtcclxuICAgICAgICAgICAgY2hhbmdlcy5yb3VuZCA9IGNvbWJhdC5yb3VuZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgd2UgYXJlIGdtLCBjYWxsIGZ1bmN0aW9uIG5vcm1hbGx5XHJcbiAgICAgICAgLy8gaWYgbm90IGdtLCBzZW5kIGEgc29ja2V0IG1lc3NhZ2UgZm9yIHRoZSBnbSB0byB1cGRhdGUgdGhlIGNvbWJhdGFudHNcclxuICAgICAgICAvLyBmb3IgbmV3IGluaXRhdGl2ZSBwYXNzZXMgb3IgcmVyb2xsXHJcbiAgICAgICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHNoYWRvd3J1bkNvbWJhdFVwZGF0ZShjaGFuZ2VzLCBvcHRpb25zKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGdhbWUuc29ja2V0LmVtaXQoJ3N5c3RlbS5zaGFkb3dydW41ZScsIHtcclxuICAgICAgICAgICAgICAgIGdtQ29tYmF0VXBkYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlcyxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNoYWRvd3J1bkNvbWJhdFVwZGF0ZSA9IGFzeW5jIChjaGFuZ2VzLCBvcHRpb25zKSA9PiB7XHJcbiAgICBjb25zdCB7IGNvbWJhdCB9ID0gZ2FtZTtcclxuICAgIC8vIHN1YnRhY3QgMTAgZnJvbSBhbGwgaW5pdGlhdGl2ZSwgd2UganVzdCB3ZW50IGludG8gdGhlIG5leHQgaW5pdGlhdGl2ZSBwYXNzXHJcbiAgICBjb25zdCByZW1vdmVkQ29tYmF0YW50cyA9IGNvbWJhdC5nZXRGbGFnKFNZU1RFTV9OQU1FLCAncmVtb3ZlZENvbWJhdGFudHMnKSB8fCBbXTtcclxuICAgIGNvbnN0IGNvbWJhdGFudHMgPSBbXTtcclxuICAgIGZvciAoY29uc3QgYyBvZiBjb21iYXQuY29tYmF0YW50cykge1xyXG4gICAgICAgIGxldCBpbml0ID0gTnVtYmVyKGMuaW5pdGlhdGl2ZSk7XHJcbiAgICAgICAgaW5pdCAtPSAxMDtcclxuICAgICAgICBpZiAoaW5pdCA8PSAwKSByZW1vdmVkQ29tYmF0YW50cy5wdXNoKHsgLi4uYyB9KTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjb21iYXRhbnRzLnB1c2goeyBfaWQ6IGMuX2lkLCBpbml0aWF0aXZlOiBpbml0IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGF3YWl0IGNvbWJhdC5kZWxldGVFbWJlZGRlZEVudGl0eShcclxuICAgICAgICAnQ29tYmF0YW50JyxcclxuICAgICAgICByZW1vdmVkQ29tYmF0YW50cy5tYXAoKGMpID0+IGMuX2lkKSxcclxuICAgICAgICB7fSxcclxuICAgICk7XHJcbiAgICBhd2FpdCBjb21iYXQudXBkYXRlRW1iZWRkZWRFbnRpdHkoJ0NvbWJhdGFudCcsIGNvbWJhdGFudHMsIHt9KTtcclxuICAgIGlmIChjb21iYXRhbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZU9wdGlvbnMgPSBvcHRpb25zLm1lc3NhZ2VPcHRpb25zIHx8IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGMgb2YgcmVtb3ZlZENvbWJhdGFudHMpIHtcclxuICAgICAgICAgICAgY29uc3QgYWN0b3JEYXRhID0gYy5hY3RvciA/IGMuYWN0b3IuZGF0YSA6IHt9O1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm11bGEgPSBjb21iYXQuX2dldEluaXRpYXRpdmVGb3JtdWxhKGMpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgcm9sbDogUm9sbCA9IG5ldyBSb2xsKGZvcm11bGEsIGFjdG9yRGF0YSkucm9sbCgpO1xyXG4gICAgICAgICAgICBjLmluaXRpYXRpdmUgPSByb2xsLnRvdGFsO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgcm9sbE1vZGUgPSBtZXNzYWdlT3B0aW9ucy5yb2xsTW9kZSB8fCBjLnRva2VuLmhpZGRlbiB8fCBjLmhpZGRlbiA/ICdnbXJvbGwnIDogJ3JvbGwnO1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlRGF0YSA9IG1lcmdlT2JqZWN0KFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWFrZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmU6IGNhbnZhcy5zY2VuZS5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdG9yOiBjLmFjdG9yID8gYy5hY3Rvci5faWQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogYy50b2tlbi5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWFzOiBjLnRva2VuLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBmbGF2b3I6IGAke2MudG9rZW4ubmFtZX0gcm9sbHMgZm9yIEluaXRpYXRpdmUhYCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlT3B0aW9ucyxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYXdhaXQgcm9sbC50b01lc3NhZ2UobWVzc2FnZURhdGEsIHtcclxuICAgICAgICAgICAgICAgIHJvbGxNb2RlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgY29tYmF0LmNyZWF0ZUVtYmVkZGVkRW50aXR5KCdDb21iYXRhbnQnLCByZW1vdmVkQ29tYmF0YW50cywge30pO1xyXG4gICAgICAgIGF3YWl0IENoYXRNZXNzYWdlLmNyZWF0ZShtZXNzYWdlcyk7XHJcbiAgICAgICAgYXdhaXQgY29tYmF0LnVuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ3JlbW92ZWRDb21iYXRhbnRzJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGF3YWl0IGNvbWJhdC5yZXNldEFsbCgpO1xyXG4gICAgICAgIGF3YWl0IGNvbWJhdC5yb2xsQWxsKCk7XHJcbiAgICAgICAgYXdhaXQgY29tYmF0LnVwZGF0ZSh7IHR1cm46IDAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKHJlbW92ZWRDb21iYXRhbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIGF3YWl0IGNvbWJhdC5zZXRGbGFnKFNZU1RFTV9OQU1FLCAncmVtb3ZlZENvbWJhdGFudHMnLCByZW1vdmVkQ29tYmF0YW50cyk7XHJcbiAgICAgICAgYXdhaXQgY29tYmF0LnVwZGF0ZSh7IHR1cm46IDAgfSk7XHJcbiAgICB9XHJcbn07XHJcbiIsImV4cG9ydCBjb25zdCBTUjUgPSB7fTtcclxuXHJcblNSNVsnYXR0cmlidXRlcyddID0ge1xyXG4gICAgYm9keTogJ1NSNS5BdHRyQm9keScsXHJcbiAgICBhZ2lsaXR5OiAnU1I1LkF0dHJBZ2lsaXR5JyxcclxuICAgIHJlYWN0aW9uOiAnU1I1LkF0dHJSZWFjdGlvbicsXHJcbiAgICBzdHJlbmd0aDogJ1NSNS5BdHRyU3RyZW5ndGgnLFxyXG4gICAgd2lsbHBvd2VyOiAnU1I1LkF0dHJXaWxscG93ZXInLFxyXG4gICAgbG9naWM6ICdTUjUuQXR0ckxvZ2ljJyxcclxuICAgIGludHVpdGlvbjogJ1NSNS5BdHRySW50dWl0aW9uJyxcclxuICAgIGNoYXJpc21hOiAnU1I1LkF0dHJDaGFyaXNtYScsXHJcbiAgICBtYWdpYzogJ1NSNS5BdHRyTWFnaWMnLFxyXG4gICAgcmVzb25hbmNlOiAnU1I1LkF0dHJSZXNvbmFuY2UnLFxyXG4gICAgZWRnZTogJ1NSNS5BdHRyRWRnZScsXHJcbiAgICBlc3NlbmNlOiAnU1I1LkF0dHJFc3NlbmNlJyxcclxuICAgIGF0dGFjazogJ1NSNS5NYXRyaXhBdHRyQXR0YWNrJyxcclxuICAgIHNsZWF6ZTogJ1NSNS5NYXRyaXhBdHRyU2xlYXplJyxcclxuICAgIGRhdGFfcHJvY2Vzc2luZzogJ1NSNS5NYXRyaXhBdHRyRGF0YVByb2MnLFxyXG4gICAgZmlyZXdhbGw6ICdTUjUuTWF0cml4QXR0ckZpcmV3YWxsJyxcclxufTtcclxuXHJcblNSNVsnbGltaXRzJ10gPSB7XHJcbiAgICBwaHlzaWNhbDogJ1NSNS5MaW1pdFBoeXNpY2FsJyxcclxuICAgIHNvY2lhbDogJ1NSNS5MaW1pdFNvY2lhbCcsXHJcbiAgICBtZW50YWw6ICdTUjUuTGltaXRNZW50YWwnLFxyXG4gICAgYXR0YWNrOiAnU1I1Lk1hdHJpeEF0dHJBdHRhY2snLFxyXG4gICAgc2xlYXplOiAnU1I1Lk1hdHJpeEF0dHJTbGVhemUnLFxyXG4gICAgZGF0YV9wcm9jZXNzaW5nOiAnU1I1Lk1hdHJpeEF0dHJEYXRhUHJvYycsXHJcbiAgICBmaXJld2FsbDogJ1NSNS5NYXRyaXhBdHRyRmlyZXdhbGwnLFxyXG59O1xyXG5cclxuU1I1WydzcGVjaWFsVHlwZXMnXSA9IHtcclxuICAgIG11bmRhbmU6ICdTUjUuTXVuZGFuZScsXHJcbiAgICBtYWdpYzogJ1NSNS5Bd2FrZW5lZCcsXHJcbiAgICByZXNvbmFuY2U6ICdTUjUuRW1lcmdlZCcsXHJcbn07XHJcblxyXG5TUjVbJ2RhbWFnZVR5cGVzJ10gPSB7XHJcbiAgICBwaHlzaWNhbDogJ1NSNS5EbWdUeXBlUGh5c2ljYWwnLFxyXG4gICAgc3R1bjogJ1NSNS5EbWdUeXBlU3R1bicsXHJcbiAgICBtYXRyaXg6ICdTUjUuRG1nVHlwZU1hdHJpeCcsXHJcbn07XHJcblxyXG5TUjVbJ2VsZW1lbnRUeXBlcyddID0ge1xyXG4gICAgZmlyZTogJ1NSNS5FbGVtZW50RmlyZScsXHJcbiAgICBjb2xkOiAnU1I1LkVsZW1lbnRDb2xkJyxcclxuICAgIGFjaWQ6ICdTUjUuRWxlbWVudEFjaWQnLFxyXG4gICAgZWxlY3RyaWNpdHk6ICdTUjUuRWxlbWVudEVsZWN0cmljaXR5JyxcclxuICAgIHJhZGlhdGlvbjogJ1NSNS5FbGVtZW50UmFkaWF0aW9uJyxcclxufTtcclxuXHJcblNSNVsnc3BlbGxDYXRlZ29yaWVzJ10gPSB7XHJcbiAgICBjb21iYXQ6ICdTUjUuU3BlbGxDYXRDb21iYXQnLFxyXG4gICAgZGV0ZWN0aW9uOiAnU1I1LlNwZWxsQ2F0RGV0ZWN0aW9uJyxcclxuICAgIGhlYWx0aDogJ1NSNS5TcGVsbENhdEhlYWx0aCcsXHJcbiAgICBpbGx1c2lvbjogJ1NSNS5TcGVsbENhdElsbHVzaW9uJyxcclxuICAgIG1hbmlwdWxhdGlvbjogJ1NSNS5TcGVsbENhdE1hbmlwdWxhdGlvbicsXHJcbn07XHJcblxyXG5TUjVbJ3NwZWxsVHlwZXMnXSA9IHtcclxuICAgIHBoeXNpY2FsOiAnU1I1LlNwZWxsVHlwZVBoeXNpY2FsJyxcclxuICAgIG1hbmE6ICdTUjUuU3BlbGxUeXBlTWFuYScsXHJcbn07XHJcblxyXG5TUjVbJ3NwZWxsUmFuZ2VzJ10gPSB7XHJcbiAgICB0b3VjaDogJ1NSNS5TcGVsbFJhbmdlVG91Y2gnLFxyXG4gICAgbG9zOiAnU1I1LlNwZWxsUmFuZ2VMb3MnLFxyXG4gICAgbG9zX2E6ICdTUjUuU3BlbGxSYW5nZUxvc0EnLFxyXG59O1xyXG5cclxuU1I1Wydjb21iYXRTcGVsbFR5cGVzJ10gPSB7XHJcbiAgICBkaXJlY3Q6ICdTUjUuU3BlbGxDb21iYXREaXJlY3QnLFxyXG4gICAgaW5kaXJlY3Q6ICdTUjUuU3BlbGxDb21iYXRJbmRpcmVjdCcsXHJcbn07XHJcblxyXG5TUjVbJ2RldGVjdGlvblNwZWxsVHlwZXMnXSA9IHtcclxuICAgIGRpcmVjdGlvbmFsOiAnU1I1LlNwZWxsRGV0ZWN0aW9uRGlyZWN0aW9uYWwnLFxyXG4gICAgcHN5Y2hpYzogJ1NSNS5TcGVsbERldGVjdGlvblBzeWNoaWMnLFxyXG4gICAgYXJlYTogJ1NSNS5TcGVsbERldGVjdGlvbkFyZWEnLFxyXG59O1xyXG5cclxuU1I1WydpbGx1c2lvblNwZWxsVHlwZXMnXSA9IHtcclxuICAgIG9idmlvdXM6ICdTUjUuU3BlbGxJbGx1c2lvbk9idmlvdXMnLFxyXG4gICAgcmVhbGlzdGljOiAnU1I1LlNwZWxsSWxsdXNpb25SZWFsaXN0aWMnLFxyXG59O1xyXG5cclxuU1I1WydpbGx1c2lvblNwZWxsU2Vuc2VzJ10gPSB7XHJcbiAgICAnc2luZ2xlLXNlbnNlJzogJ1NSNS5TcGVsbElsbHVzaW9uU2luZ2xlU2Vuc2UnLFxyXG4gICAgJ211bHRpLXNlbnNlJzogJ1NSNS5TcGVsbElsbHVzaW9uTXVsdGlTZW5zZScsXHJcbn07XHJcblxyXG5TUjVbJ2F0dHJpYnV0ZVJvbGxzJ10gPSB7XHJcbiAgICBjb21wb3N1cmU6ICdTUjUuUm9sbENvbXBvc3VyZScsXHJcbiAgICBsaWZ0X2NhcnJ5OiAnU1I1LlJvbGxMaWZ0Q2FycnknLFxyXG4gICAganVkZ2VfaW50ZW50aW9uczogJ1NSNS5Sb2xsSnVkZ2VJbnRlbnRpb25zJyxcclxuICAgIG1lbW9yeTogJ1NSNS5Sb2xsTWVtb3J5JyxcclxufTtcclxuXHJcblNSNVsnbWF0cml4VGFyZ2V0cyddID0ge1xyXG4gICAgcGVyc29uYTogJ1NSNS5UYXJnZXRQZXJzb25hJyxcclxuICAgIGRldmljZTogJ1NSNS5UYXJnZXREZXZpY2UnLFxyXG4gICAgZmlsZTogJ1NSNS5UYXJnZXRGaWxlJyxcclxuICAgIHNlbGY6ICdTUjUuVGFyZ2V0U2VsZicsXHJcbiAgICBzcHJpdGU6ICdTUjUuVGFyZ2V0U3ByaXRlJyxcclxuICAgIG90aGVyOiAnU1I1LlRhcmdldE90aGVyJyxcclxufTtcclxuXHJcblNSNVsnZHVyYXRpb25zJ10gPSB7XHJcbiAgICBpbnN0YW50OiAnU1I1LkR1cmF0aW9uSW5zdGFudCcsXHJcbiAgICBzdXN0YWluZWQ6ICdTUjUuRHVyYXRpb25TdXN0YWluZWQnLFxyXG4gICAgcGVybWFuZW50OiAnU1I1LkR1cmF0aW9uUGVybWFuZW50JyxcclxufTtcclxuXHJcblNSNVsnd2VhcG9uQ2F0ZWdvcmllcyddID0ge1xyXG4gICAgcmFuZ2U6ICdTUjUuV2VhcG9uQ2F0UmFuZ2UnLFxyXG4gICAgbWVsZWU6ICdTUjUuV2VhcG9uQ2F0TWVsZWUnLFxyXG4gICAgdGhyb3duOiAnU1I1LldlYXBvbkNhdFRocm93bicsXHJcbn07XHJcblxyXG5TUjVbJ3dlYXBvblJhbmdlcyddID0ge1xyXG4gICAgc2hvcnQ6ICdTUjUuV2VhcG9uUmFuZ2VTaG9ydCcsXHJcbiAgICBtZWRpdW06ICdTUjUuV2VhcG9uUmFuZ2VNZWRpdW0nLFxyXG4gICAgbG9uZzogJ1NSNS5XZWFwb25SYW5nZUxvbmcnLFxyXG4gICAgZXh0cmVtZTogJ1NSNS5XZWFwb25SYW5nZUV4dHJlbWUnLFxyXG59O1xyXG5cclxuU1I1WydxdWFsaXR5VHlwZXMnXSA9IHtcclxuICAgIHBvc2l0aXZlOiAnU1I1LlF1YWxpdHlUeXBlUG9zaXRpdmUnLFxyXG4gICAgbmVnYXRpdmU6ICdTUjUuUXVhbGl0eVR5cGVOZWdhdGl2ZScsXHJcbn07XHJcblxyXG5TUjVbJ2RldmljZUNhdGVnb3JpZXMnXSA9IHtcclxuICAgIGNvbW1saW5rOiAnU1I1LkRldmljZUNhdENvbW1saW5rJyxcclxuICAgIGN5YmVyZGVjazogJ1NSNS5EZXZpY2VDYXRDeWJlcmRlY2snLFxyXG59O1xyXG5cclxuU1I1WydjeWJlcndhcmVHcmFkZXMnXSA9IHtcclxuICAgIHN0YW5kYXJkOiAnU1I1LkN5YmVyd2FyZUdyYWRlU3RhbmRhcmQnLFxyXG4gICAgYWxwaGE6ICdTUjUuQ3liZXJ3YXJlR3JhZGVBbHBoYScsXHJcbiAgICBiZXRhOiAnU1I1LkN5YmVyd2FyZUdyYWRlQmV0YScsXHJcbiAgICBkZWx0YTogJ1NSNS5DeWJlcndhcmVHcmFkZURlbHRhJyxcclxuICAgIHVzZWQ6ICdTUjUuQ3liZXJ3YXJlR3JhZGVVc2VkJyxcclxufTtcclxuXHJcblNSNVsna25vd2xlZGdlU2tpbGxDYXRlZ29yaWVzJ10gPSB7XHJcbiAgICBzdHJlZXQ6ICdTUjUuS25vd2xlZGdlU2tpbGxTdHJlZXQnLFxyXG4gICAgYWNhZGVtaWM6ICdTUjUuS25vd2xlZGdlU2tpbGxBY2FkZW1pYycsXHJcbiAgICBwcm9mZXNzaW9uYWw6ICdTUjUuS25vd2xlZGdlU2tpbGxQcm9mZXNzaW9uYWwnLFxyXG4gICAgaW50ZXJlc3RzOiAnU1I1Lktub3dsZWRnZVNraWxsSW50ZXJlc3RzJyxcclxufTtcclxuXHJcblNSNVsnYWN0aXZlU2tpbGxzJ10gPSB7XHJcbiAgICBhcmNoZXJ5OiAnU1I1LlNraWxsQXJjaGVyeScsXHJcbiAgICBhdXRvbWF0aWNzOiAnU1I1LlNraWxsQXV0b21hdGljcycsXHJcbiAgICBibGFkZXM6ICdTUjUuU2tpbGxCbGFkZXMnLFxyXG4gICAgY2x1YnM6ICdTUjUuU2tpbGxDbHVicycsXHJcbiAgICBleG90aWNfbWVsZWU6ICdTUjUuU2tpbGxFeG90aWNNZWxlZScsXHJcbiAgICBleG90aWNfcmFuZ2U6ICdTUjUuU2tpbGxFeG90aWNSYW5nZScsXHJcbiAgICBoZWF2eV93ZWFwb25zOiAnU1I1LlNraWxsSGVhdnlXZWFwb25zJyxcclxuICAgIGxvbmdhcm1zOiAnU1I1LlNraWxsTG9uZ2FybXMnLFxyXG4gICAgcGlzdG9sczogJ1NSNS5Ta2lsbFBpc3RvbHMnLFxyXG4gICAgdGhyb3dpbmdfd2VhcG9uczogJ1NSNS5Ta2lsbFRocm93aW5nV2VhcG9ucycsXHJcbiAgICB1bmFybWVkX2NvbWJhdDogJ1NSNS5Ta2lsbFVuYXJtZWRDb21iYXQnLFxyXG4gICAgZGlzZ3Vpc2U6ICdTUjUuU2tpbGxEaXNndWlzZScsXHJcbiAgICBkaXZpbmc6ICdTUjUuU2tpbGxEaXZpbmcnLFxyXG4gICAgZXNjYXBlX2FydGlzdDogJ1NSNS5Ta2lsbEVzY2FwZUFydGlzdCcsXHJcbiAgICBmcmVlX2ZhbGw6ICdTUjUuU2tpbGxGcmVlRmFsbCcsXHJcbiAgICBneW1uYXN0aWNzOiAnU1I1LlNraWxsR3ltbmFzdGljcycsXHJcbiAgICBwYWxtaW5nOiAnU1I1LlNraWxsUGFsbWluZycsXHJcbiAgICBwZXJjZXB0aW9uOiAnU1I1LlNraWxsUGVyY2VwdGlvbicsXHJcbiAgICBydW5uaW5nOiAnU1I1LlNraWxsUnVubmluZycsXHJcbiAgICBzbmVha2luZzogJ1NSNS5Ta2lsbFNuZWFraW5nJyxcclxuICAgIHN1cnZpdmFsOiAnU1I1LlNraWxsU3Vydml2YWwnLFxyXG4gICAgc3dpbW1pbmc6ICdTUjUuU2tpbGxTd2ltbWluZycsXHJcbiAgICB0cmFja2luZzogJ1NSNS5Ta2lsbFRyYWNraW5nJyxcclxuICAgIGNvbjogJ1NSNS5Ta2lsbENvbicsXHJcbiAgICBldGlxdWV0dGU6ICdTUjUuU2tpbGxFdGlxdWV0dGUnLFxyXG4gICAgaW1wZXJzb25hdGlvbjogJ1NSNS5Ta2lsbEltcGVyc29uYXRpb24nLFxyXG4gICAgaW5zdHJ1Y3Rpb246ICdTUjUuU2tpbGxJbnN0cnVjdGlvbicsXHJcbiAgICBpbnRpbWlkYXRpb246ICdTUjUuU2tpbGxJbnRpbWlkYXRpb24nLFxyXG4gICAgbGVhZGVyc2hpcDogJ1NSNS5Ta2lsbExlYWRlcnNoaXAnLFxyXG4gICAgbmVnb3RpYXRpb246ICdTUjUuU2tpbGxOZWdvdGlhdGlvbicsXHJcbiAgICBwZXJmb3JtYW5jZTogJ1NSNS5Ta2lsbFBlcmZvcm1hbmNlJyxcclxuICAgIGFsY2hlbXk6ICdTUjUuU2tpbGxBbGNoZW15JyxcclxuICAgIGFyY2FuYTogJ1NSNS5Ta2lsbEFyY2FuYScsXHJcbiAgICBhcnRpZmljaW5nOiAnU1I1LlNraWxsQXJ0aWZpY2luZycsXHJcbiAgICBhc3NlbnNpbmc6ICdTUjUuU2tpbGxBc3NlbnNpbmcnLFxyXG4gICAgYXN0cmFsX2NvbWJhdDogJ1NSNS5Ta2lsbEFzdHJhbENvbWJhdCcsXHJcbiAgICBiYW5pc2hpbmc6ICdTUjUuU2tpbGxCYW5pc2hpbmcnLFxyXG4gICAgYmluZGluZzogJ1NSNS5Ta2lsbEJpbmRpbmcnLFxyXG4gICAgY291bnRlcnNwZWxsaW5nOiAnU1I1LlNraWxsQ291bnRlcnNwZWxsaW5nJyxcclxuICAgIGRpc2VuY2hhbnRpbmc6ICdTUjUuU2tpbGxEaXNlbmNoYW50aW5nJyxcclxuICAgIHJpdHVhbF9zcGVsbGNhc3Rpbmc6ICdTUjUuU2tpbGxSaXR1YWxTcGVsbGNhc3RpbmcnLFxyXG4gICAgc3BlbGxjYXN0aW5nOiAnU1I1LlNraWxsU3BlbGxjYXN0aW5nJyxcclxuICAgIHN1bW1vbmluZzogJ1NSNS5Ta2lsbFN1bW1vbmluZycsXHJcbiAgICBjb21waWxpbmc6ICdTUjUuU2tpbGxDb21waWxpbmcnLFxyXG4gICAgZGVjb21waWxpbmc6ICdTUjUuU2tpbGxEZWNvbXBpbGluZycsXHJcbiAgICByZWdpc3RlcmluZzogJ1NSNS5Ta2lsbFJlZ2lzdGVyaW5nJyxcclxuICAgIGFlcm9uYXV0aWNzX21lY2hhbmljOiAnU1I1LlNraWxsQWVyb25hdXRpY3NNZWNoYW5pYycsXHJcbiAgICBhdXRvbW90aXZlX21lY2hhbmljOiAnU1I1LlNraWxsQXV0b21vdGl2ZU1lY2hhbmljJyxcclxuICAgIGluZHVzdHJpYWxfbWVjaGFuaWM6ICdTUjUuU2tpbGxJbmR1c3RyaWFsTWVjaGFuaWMnLFxyXG4gICAgbmF1dGljYWxfbWVjaGFuaWM6ICdTUjUuU2tpbGxOYXV0aWNhbE1lY2hhbmljJyxcclxuICAgIGFuaW1hbF9oYW5kbGluZzogJ1NSNS5Ta2lsbEFuaW1hbEhhbmRsaW5nJyxcclxuICAgIGFybW9yZXI6ICdTUjUuU2tpbGxBcm1vcmVyJyxcclxuICAgIGFydGlzYW46ICdTUjUuU2tpbGxBcnRpc2FuJyxcclxuICAgIGJpb3RlY2hub2xvZ3k6ICdTUjUuU2tpbGxCaW90ZWNobm9sb2d5JyxcclxuICAgIGNoZW1pc3RyeTogJ1NSNS5Ta2lsbENoZW1pc3RyeScsXHJcbiAgICBjb21wdXRlcjogJ1NSNS5Ta2lsbENvbXB1dGVyJyxcclxuICAgIGN5YmVyY29tYmF0OiAnU1I1LlNraWxsQ3liZXJjb21iYXQnLFxyXG4gICAgY3liZXJ0ZWNobm9sb2d5OiAnU1I1LlNraWxsQ3liZXJ0ZWNobm9sb2d5JyxcclxuICAgIGRlbW9saXRpb25zOiAnU1I1LlNraWxsRGVtb2xpdGlvbnMnLFxyXG4gICAgZWxlY3Ryb25pY193YXJmYXJlOiAnU1I1LlNraWxsRWxlY3Ryb25pY1dhcmZhcmUnLFxyXG4gICAgZmlyc3RfYWlkOiAnU1I1LlNraWxsRmlyc3RBaWQnLFxyXG4gICAgZm9yZ2VyeTogJ1NSNS5Ta2lsbEZvcmdlcnknLFxyXG4gICAgaGFja2luZzogJ1NSNS5Ta2lsbEhhY2tpbmcnLFxyXG4gICAgaGFyZHdhcmU6ICdTUjUuU2tpbGxIYXJkd2FyZScsXHJcbiAgICBsb2Nrc21pdGg6ICdTUjUuU2tpbGxMb2Nrc21pdGgnLFxyXG4gICAgbWVkaWNpbmU6ICdTUjUuU2tpbGxNZWRpY2luZScsXHJcbiAgICBuYXZpZ2F0aW9uOiAnU1I1LlNraWxsTmF2aWdhdGlvbicsXHJcbiAgICBzb2Z0d2FyZTogJ1NSNS5Ta2lsbFNvZnR3YXJlJyxcclxuICAgIGd1bm5lcnk6ICdTUjUuU2tpbGxHdW5uZXJ5JyxcclxuICAgIHBpbG90X2Flcm9zcGFjZTogJ1NSNS5Ta2lsbFBpbG90QWVyb3NwYWNlJyxcclxuICAgIHBpbG90X2FpcmNyYWZ0OiAnU1I1LlNraWxsUGlsb3RBaXJjcmFmdCcsXHJcbiAgICBwaWxvdF93YWxrZXI6ICdTUjUuU2tpbGxQaWxvdFdhbGtlcicsXHJcbiAgICBwaWxvdF9ncm91bmRfY3JhZnQ6ICdTUjUuU2tpbGxQaWxvdEdyb3VuZENyYWZ0JyxcclxuICAgIHBpbG90X3dhdGVyX2NyYWZ0OiAnU1I1LlNraWxsUGlsb3RXYXRlckNyYWZ0JyxcclxuICAgIHBpbG90X2V4b3RpY192ZWhpY2xlOiAnU1I1LlNraWxsUGlsb3RFeG90aWNWZWhpY2xlJyxcclxufTtcclxuXHJcblNSNVsnYWN0aW9uVHlwZXMnXSA9IHtcclxuICAgIG5vbmU6ICdTUjUuQWN0aW9uVHlwZU5vbmUnLFxyXG4gICAgZnJlZTogJ1NSNS5BY3Rpb25UeXBlRnJlZScsXHJcbiAgICBzaW1wbGU6ICdTUjUuQWN0aW9uVHlwZVNpbXBsZScsXHJcbiAgICBjb21wbGV4OiAnU1I1LkFjdGlvblR5cGVDb21wbGV4JyxcclxuICAgIHZhcmllczogJ1NSNS5BY3Rpb25UeXBlVmFyaWVzJyxcclxufTtcclxuXHJcblNSNVsnbWF0cml4QXR0cmlidXRlcyddID0ge1xyXG4gICAgYXR0YWNrOiAnU1I1Lk1hdHJpeEF0dHJBdHRhY2snLFxyXG4gICAgc2xlYXplOiAnU1I1Lk1hdHJpeEF0dHJTbGVhemUnLFxyXG4gICAgZGF0YV9wcm9jZXNzaW5nOiAnU1I1Lk1hdHJpeEF0dHJEYXRhUHJvYycsXHJcbiAgICBmaXJld2FsbDogJ1NSNS5NYXRyaXhBdHRyRmlyZXdhbGwnLFxyXG59O1xyXG5cclxuU1I1Wydpbml0aWF0aXZlQ2F0ZWdvcmllcyddID0ge1xyXG4gICAgbWVhdHNwYWNlOiAnU1I1LkluaXRDYXRNZWF0c3BhY2UnLFxyXG4gICAgYXN0cmFsOiAnU1I1LkluaXRDYXRBc3RyYWwnLFxyXG4gICAgbWF0cml4OiAnU1I1LkluaXRDYXRNYXRyaXgnLFxyXG59O1xyXG5cclxuU1I1Wydtb2RpZmljYXRpb25UeXBlcyddID0ge1xyXG4gICAgd2VhcG9uOiAnU1I1LldlYXBvbicsXHJcbiAgICBhcm1vcjogJ1NSNS5Bcm1vcicsXHJcbn07XHJcblxyXG5TUjVbJ21vdW50UG9pbnRzJ10gPSB7XHJcbiAgICBiYXJyZWw6ICdTUjUuQmFycmVsJyxcclxuICAgIHN0b2NrOiAnU1I1LlN0b2NrJyxcclxuICAgIHRvcDogJ1NSNS5Ub3AnLFxyXG4gICAgc2lkZTogJ1NSNS5TaWRlJyxcclxuICAgIGludGVybmFsOiAnU1I1LkludGVybmFsJyxcclxufTtcclxuXHJcblNSNVsnbGlmZXN0eWxlVHlwZXMnXSA9IHtcclxuICAgIHN0cmVldDogJ1NSNS5MaWZlc3R5bGVTdHJlZXQnLFxyXG4gICAgc3F1YXR0ZXI6ICdTUjUuTGlmZXN0eWxlU3F1YXR0ZXInLFxyXG4gICAgbG93OiAnU1I1LkxpZmVzdHlsZUxvdycsXHJcbiAgICBtZWRpdW06ICdTUjUuTGlmZXN0eWxlTWlkZGxlJyxcclxuICAgIGhpZ2g6ICdTUjUuTGlmZXN0eWxlSGlnaCcsXHJcbiAgICBsdXhvcnk6ICdTUjUuTGlmZXN0eWxlTHV4b3J5JyxcclxuICAgIG90aGVyOiAnU1I1LkxpZmVzdHlsZU90aGVyJyxcclxufTtcclxuXHJcblNSNVsna2Jtb2QnXSA9IHtcclxuICAgIFNUQU5EQVJEOiAnc2hpZnRLZXknLFxyXG4gICAgRURHRTogJ2FsdEtleScsXHJcbiAgICBTUEVDOiAnY3RybEtleScsXHJcbn07XHJcblxyXG5TUjVbJ2FjdG9yTW9kaWZpZXJzJ10gPSB7XHJcbiAgICBzb2FrOiAnU1I1LlJvbGxTb2FrJyxcclxuICAgIGRyYWluOiAnU1I1LkRyYWluJyxcclxuICAgIGFybW9yOiAnU1I1LkFybW9yJyxcclxuICAgIHBoeXNpY2FsX2xpbWl0OiAnU1I1LlBoeXNpY2FsTGltaXQnLFxyXG4gICAgc29jaWFsX2xpbWl0OiAnU1I1LlNvY2lhbExpbWl0JyxcclxuICAgIG1lbnRhbF9saW1pdDogJ1NSNS5NZW50YWxMaW1pdCcsXHJcbiAgICBzdHVuX3RyYWNrOiAnU1I1LlN0dW5UcmFjaycsXHJcbiAgICBwaHlzaWNhbF90cmFjazogJ1NSNS5QaHlzaWNhbFRyYWNrJyxcclxuICAgIG1lYXRfaW5pdGlhdGl2ZTogJ1NSNS5NZWF0U3BhY2VJbml0JyxcclxuICAgIG1lYXRfaW5pdGlhdGl2ZV9kaWNlOiAnU1I1Lk1lYXRTcGFjZURpY2UnLFxyXG4gICAgYXN0cmFsX2luaXRpYXRpdmU6ICdTUjUuQXN0cmFsSW5pdCcsXHJcbiAgICBhc3RyYWxfaW5pdGlhdGl2ZV9kaWNlOiAnU1I1LkFzdHJhbERpY2UnLFxyXG4gICAgbWF0cml4X2luaXRpYXRpdmU6ICdTUjUuTWF0cml4SW5pdCcsXHJcbiAgICBtYXRyaXhfaW5pdGlhdGl2ZV9kaWNlOiAnU1I1Lk1hdHJpeERpY2UnLFxyXG4gICAgY29tcG9zdXJlOiAnU1I1LlJvbGxDb21wb3N1cmUnLFxyXG4gICAgbGlmdF9jYXJyeTogJ1NSNS5Sb2xsTGlmdENhcnJ5JyxcclxuICAgIGp1ZGdlX2ludGVudGlvbnM6ICdTUjUuUm9sbEp1ZGdlSW50ZW50aW9ucycsXHJcbiAgICBtZW1vcnk6ICdTUjUuUm9sbE1lbW9yeScsXHJcbiAgICB3YWxrOiAnU1I1LldhbGsnLFxyXG4gICAgcnVuOiAnU1I1LlJ1bicsXHJcbiAgICBkZWZlbnNlOiAnU1I1LlJvbGxEZWZlbnNlJyxcclxuICAgIHdvdW5kX3RvbGVyYW5jZTogJ1NSNS5Xb3VuZFRvbGVyYW5jZScsXHJcbiAgICBlc3NlbmNlOiAnU1I1LkF0dHJFc3NlbmNlJyxcclxuICAgIGZhZGU6ICdTUjUuUm9sbEZhZGUnLFxyXG4gICAgZ2xvYmFsOiAnU1I1Lkdsb2JhbCcsXHJcbn07XHJcblxyXG5TUjVbJ3Byb2dyYW1UeXBlcyddID0ge1xyXG4gICAgY29tbW9uX3Byb2dyYW06ICdTUjUuQ29tbW9uUHJvZ3JhbScsXHJcbiAgICBoYWNraW5nX3Byb2dyYW06ICdTUjUuSGFja2luZ1Byb2dyYW0nLFxyXG4gICAgYWdlbnQ6ICdTUjUuQWdlbnQnLFxyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgU1lTVEVNX05BTUUgPSAnc2hhZG93cnVuNWUnOyIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgdGVtcGxhdGVQYXRocyA9IFtcclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9hY3Rvci1lcXVpcG1lbnQuaHRtbCcsXHJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvYWN0b3Itc3BlbGxib29rLmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL2FjdG9yLXNraWxscy5odG1sJyxcclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9hY3Rvci1tYXRyaXguaHRtbCcsXHJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvYWN0b3ItYWN0aW9ucy5odG1sJyxcclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9hY3Rvci9wYXJ0cy9hY3Rvci1jb25maWcuaHRtbCcsXHJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvYWN0b3IvcGFydHMvYWN0b3ItYmlvLmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2FjdG9yL3BhcnRzL2FjdG9yLXNvY2lhbC5odG1sJyxcclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2Rlc2NyaXB0aW9uLmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvdGVjaG5vbG9neS5odG1sJyxcclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL2hlYWRlci5odG1sJyxcclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL3dlYXBvbi1hbW1vLWxpc3QuaHRtbCcsXHJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy93ZWFwb24tbW9kcy1saXN0Lmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvYWN0aW9uLmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvZGFtYWdlLmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvb3Bwb3NlZC5odG1sJyxcclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL3NwZWxsLmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvY29tcGxleF9mb3JtLmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvd2VhcG9uLmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvYXJtb3IuaHRtbCcsXHJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9tYXRyaXguaHRtbCcsXHJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9zaW4uaHRtbCcsXHJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS9wYXJ0cy9jb250YWN0Lmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvbGlmZXN0eWxlLmh0bWwnLFxyXG4gICAgICAgICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL2l0ZW0vcGFydHMvYW1tby5odG1sJyxcclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL21vZGlmaWNhdGlvbi5odG1sJyxcclxuICAgICAgICAnc3lzdGVtcy9zaGFkb3dydW41ZS9kaXN0L3RlbXBsYXRlcy9pdGVtL3BhcnRzL3Byb2dyYW0uaHRtbCcsXHJcbiAgICAgICAgJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvcm9sbC9kaWFsb2cvY29tcG9uZW50cy9maWVsZC5odG1sJyxcclxuICAgIF07XHJcblxyXG4gICAgcmV0dXJuIGxvYWRUZW1wbGF0ZXModGVtcGxhdGVQYXRocyk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJIYW5kbGViYXJIZWxwZXJzID0gKCkgPT4ge1xyXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignbG9jYWxpemVPYicsIGZ1bmN0aW9uIChzdHJJZCwgb2JqKSB7XHJcbiAgICAgICAgaWYgKG9iaikgc3RySWQgPSBvYmpbc3RySWRdO1xyXG4gICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoc3RySWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigndG9IZWFkZXJDYXNlJywgZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgIGlmIChzdHIpIHJldHVybiBIZWxwZXJzLmxhYmVsKHN0cik7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfSk7XHJcblxyXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignY29uY2F0JywgZnVuY3Rpb24gKHN0cnMsIGMgPSAnLCcpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdHJzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3Rycy5qb2luKGMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RycztcclxuICAgIH0pO1xyXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaGFzcHJvcCcsIGZ1bmN0aW9uIChvYmosIHByb3AsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZmluJywgZnVuY3Rpb24gKHZhbCwgYXJyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGFyci5pbmNsdWRlcyh2YWwpKSByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcclxuICAgICAgICBlbHNlIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XHJcbiAgICB9KTtcclxuICAgIC8vIGlmIGdyZWF0ZXIgdGhhblxyXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZndCcsIGZ1bmN0aW9uICh2MSwgdjIsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAodjEgPiB2MikgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XHJcbiAgICAgICAgZWxzZSByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBpZiBub3QgZXF1YWxcclxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lmbmUnLCBmdW5jdGlvbiAodjEsIHYyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHYxICE9PSB2MikgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XHJcbiAgICAgICAgZWxzZSByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBpZiBlcXVhbFxyXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZlJywgZnVuY3Rpb24gKHYxLCB2Miwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmICh2MSA9PT0gdjIpIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xyXG4gICAgICAgIGVsc2UgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcclxuICAgIH0pO1xyXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignc3VtJywgZnVuY3Rpb24gKHYxLCB2Mikge1xyXG4gICAgICAgIHJldHVybiB2MSArIHYyO1xyXG4gICAgfSk7XHJcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdkYW1hZ2VBYmJyZXZpYXRpb24nLCBmdW5jdGlvbiAoZGFtYWdlKSB7XHJcbiAgICAgICAgaWYgKGRhbWFnZSA9PT0gJ3BoeXNpY2FsJykgcmV0dXJuICdQJztcclxuICAgICAgICBpZiAoZGFtYWdlID09PSAnc3R1bicpIHJldHVybiAnUyc7XHJcbiAgICAgICAgaWYgKGRhbWFnZSA9PT0gJ21hdHJpeCcpIHJldHVybiAnTSc7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfSk7XHJcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdkaWNlSWNvbicsIGZ1bmN0aW9uIChyb2xsKSB7XHJcbiAgICAgICAgaWYgKHJvbGwucm9sbCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHJvbGwucm9sbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmVkJztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2dyZXknO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnZ3JleSc7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdncmV5JztcclxuICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2dyZWVuJztcclxuICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2dyZWVuJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2VsZW1lbnRJY29uJywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgaWNvbiA9ICcnO1xyXG4gICAgICAgIGlmIChlbGVtZW50ID09PSAnZWxlY3RyaWNpdHknKSB7XHJcbiAgICAgICAgICAgIGljb24gPSAnZmFzIGZhLWJvbHQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCA9PT0gJ3JhZGlhdGlvbicpIHtcclxuICAgICAgICAgICAgaWNvbiA9ICdmYXMgZmEtcmFkaWF0aW9uLWFsdCc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50ID09PSAnZmlyZScpIHtcclxuICAgICAgICAgICAgaWNvbiA9ICdmYXMgZmEtZmlyZSc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50ID09PSAnYWNpZCcpIHtcclxuICAgICAgICAgICAgaWNvbiA9ICdmYXMgZmEtdmlhbHMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCA9PT0gJ2NvbGQnKSB7XHJcbiAgICAgICAgICAgIGljb24gPSAnZmFzIGZhLXNub3dmbGFrZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpY29uO1xyXG4gICAgfSk7XHJcblxyXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaXNEZWZpbmVkJywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7XHJcbiAgICB9KTtcclxufTtcclxuIiwiaW1wb3J0IEF0dHJpYnV0ZUZpZWxkID0gU2hhZG93cnVuLkF0dHJpYnV0ZUZpZWxkO1xyXG5pbXBvcnQgU2tpbGxGaWVsZCA9IFNoYWRvd3J1bi5Ta2lsbEZpZWxkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhlbHBlcnMge1xyXG4gICAgc3RhdGljIHRvdGFsTW9kcyhtb2RzKSB7XHJcbiAgICAgICAgY29uc3QgcmVkdWNlciA9IChhY2MsIGN1cikgPT4gK2FjYyArICtjdXI7XHJcbiAgICAgICAgaWYgKCFtb2RzKSByZXR1cm4gMDtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RzKSkgcmV0dXJuIG1vZHMucmVkdWNlKHJlZHVjZXIsIDApO1xyXG4gICAgICAgIC8vIGFzc3VtZSBvYmplY3Qgb2Yga2V5L3ZhbHVlc1xyXG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKG1vZHMpLnJlZHVjZShyZWR1Y2VyLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXBsYWNlICdTUjUuJ3Mgb24ga2V5cyB3aXRoICdTUjVfRE9UXydcclxuICAgIHN0YXRpYyBvblNldEZsYWcoZGF0YSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHJldHVybiBkYXRhO1xyXG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQgfHwgZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgY29uc3QgbmV3RGF0YSA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0tleSA9IGtleS5yZXBsYWNlKCdTUjUuJywgJ1NSNV9ET1RfJyk7XHJcbiAgICAgICAgICAgIG5ld0RhdGFbbmV3S2V5XSA9IHRoaXMub25TZXRGbGFnKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld0RhdGE7XHJcbiAgICB9XHJcbiAgICAvLyByZXBsYWNlICdTUjVfRE9UXycgd2l0aCAnU1I1Licgb24ga2V5c1xyXG4gICAgc3RhdGljIG9uR2V0RmxhZyhkYXRhKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JykgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCB8fCBkYXRhID09PSBudWxsKSByZXR1cm4gZGF0YTtcclxuICAgICAgICBjb25zdCBuZXdEYXRhID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3S2V5ID0ga2V5LnJlcGxhY2UoJ1NSNV9ET1RfJywgJ1NSNS4nKTtcclxuICAgICAgICAgICAgbmV3RGF0YVtuZXdLZXldID0gdGhpcy5vbkdldEZsYWcodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3RGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNNYXRyaXgoYXR0cz86IGJvb2xlYW4gfCAoQXR0cmlidXRlRmllbGQgfCBTa2lsbEZpZWxkKVtdIHwgQXR0cmlidXRlRmllbGQgfCBTa2lsbEZpZWxkKSB7XHJcbiAgICAgICAgaWYgKCFhdHRzKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRzID09PSAnYm9vbGVhbicgJiYgYXR0cykgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgY29uc3QgbWF0cml4QXR0cyA9IFsnZmlyZXdhbGwnLCAnZGF0YV9wcm9jZXNzaW5nJywgJ3NsZWF6ZScsICdhdHRhY2snLCAnY29tcHV0ZXInLCAnaGFja2luZycsICdjeWJlcmNvbWJhdCcsICdlbGVjdHJvbmljX3dhcmZhcmUnLCAnc29mdHdhcmUnXTtcclxuICAgICAgICBjb25zdCBtYXRyaXhMYWJlbHMgPSBtYXRyaXhBdHRzLm1hcCgocykgPT4gdGhpcy5sYWJlbChzKSk7XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGF0dHMpKSBhdHRzID0gW2F0dHNdO1xyXG4gICAgICAgIGF0dHMgPSBhdHRzLmZpbHRlcigoYXR0KSA9PiBhdHQpO1xyXG4gICAgICAgIGF0dHMuZm9yRWFjaCgoYXR0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0ID09PSAnc3RyaW5nJyAmJiBtYXRyaXhBdHRzLmluY2x1ZGVzKGF0dCkpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChtYXRyaXhMYWJlbHMuaW5jbHVkZXMoYXR0LmxhYmVsKSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBwYXJzZUlucHV0VG9TdHJpbmcodmFsOiBudW1iZXIgfCBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSByZXR1cm4gdmFsLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSByZXR1cm4gdmFsO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbC5qb2luKCcsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGFyc2VJbnB1dFRvTnVtYmVyKHZhbDogbnVtYmVyIHwgc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgcmV0dXJuIHZhbDtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgY29uc3QgcmV0ID0gK3ZhbDtcclxuICAgICAgICAgICAgaWYgKCFpc05hTihyZXQpKSByZXR1cm4gcmV0O1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xyXG4gICAgICAgICAgICBjb25zdCBzdHIgPSB2YWwuam9pbignJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJldCA9ICtzdHI7XHJcbiAgICAgICAgICAgIGlmICghaXNOYU4ocmV0KSkgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXR1cEN1c3RvbUNoZWNrYm94KGFwcCwgaHRtbCkge1xyXG4gICAgICAgIGNvbnN0IHNldENvbnRlbnQgPSAoZWwpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSAkKGVsKS5jaGlsZHJlbignaW5wdXRbdHlwZT1jaGVja2JveF0nKTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2ttYXJrID0gJChlbCkuY2hpbGRyZW4oJy5jaGVja21hcmsnKTtcclxuICAgICAgICAgICAgaWYgKCQoY2hlY2tib3gpLnByb3AoJ2NoZWNrZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgJChjaGVja21hcmspLmFkZENsYXNzKCdmYS1jaGVjay1jaXJjbGUnKTtcclxuICAgICAgICAgICAgICAgICQoY2hlY2ttYXJrKS5yZW1vdmVDbGFzcygnZmEtY2lyY2xlJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKGNoZWNrbWFyaykuYWRkQ2xhc3MoJ2ZhLWNpcmNsZScpO1xyXG4gICAgICAgICAgICAgICAgJChjaGVja21hcmspLnJlbW92ZUNsYXNzKCdmYS1jaGVjay1jaXJjbGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaHRtbC5maW5kKCdsYWJlbC5jaGVja2JveCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRDb250ZW50KHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGh0bWwuZmluZCgnbGFiZWwuY2hlY2tib3gnKS5jbGljaygoZXZlbnQpID0+IHNldENvbnRlbnQoZXZlbnQuY3VycmVudFRhcmdldCkpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLnN1Ym1pdC1jaGVja2JveCcpLmNoYW5nZSgoZXZlbnQpID0+IGFwcC5fb25TdWJtaXQoZXZlbnQpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbWFwUm91bmRzVG9EZWZlbnNlTW9kKHJvdW5kcykge1xyXG4gICAgICAgIGlmIChyb3VuZHMgPT09IDEpIHJldHVybiAwO1xyXG4gICAgICAgIGlmIChyb3VuZHMgPT09IDMpIHJldHVybiAtMjtcclxuICAgICAgICBpZiAocm91bmRzID09PSA2KSByZXR1cm4gLTU7XHJcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gMTApIHJldHVybiAtOTtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbWFwUm91bmRzVG9EZWZlbnNlRGVzYyhyb3VuZHMpIHtcclxuICAgICAgICBpZiAocm91bmRzID09PSAxKSByZXR1cm4gJyc7XHJcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gMykgcmV0dXJuICctMic7XHJcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gNikgcmV0dXJuICctNSc7XHJcbiAgICAgICAgaWYgKHJvdW5kcyA9PT0gMTApIHJldHVybiAnLTknO1xyXG4gICAgICAgIGlmIChyb3VuZHMgPT09IDIwKSByZXR1cm4gJ1NSNS5EdWNrT3JDb3Zlcic7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsYWJlbChzdHIpIHtcclxuICAgICAgICBjb25zdCBmcmFncyA9IHN0ci5zcGxpdCgnXycpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZnJhZ3NbaV0gPSBmcmFnc1tpXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGZyYWdzW2ldLnNsaWNlKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmcmFncy5mb3JFYWNoKChmcmFnLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGZyYWcgPT09ICdQcm9jZXNzaW5nJykgZnJhZ3NbaWR4XSA9ICdQcm9jLic7XHJcbiAgICAgICAgICAgIGlmIChmcmFnID09PSAnTWVjaGFuaWMnKSBmcmFnc1tpZHhdID0gJ01lY2guJztcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZnJhZ3Muam9pbignICcpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBvcmRlcktleXMob2JqKSB7XHJcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaikuc29ydChmdW5jdGlvbiBrZXlPcmRlcihrMSwgazIpIHtcclxuICAgICAgICAgICAgaWYgKGsxIDwgazIpIHJldHVybiAtMTtcclxuICAgICAgICAgICAgaWYgKGsxID4gazIpIHJldHVybiArMTtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBpO1xyXG4gICAgICAgIGNvbnN0IGFmdGVyID0ge307XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYWZ0ZXJba2V5c1tpXV0gPSBvYmpba2V5c1tpXV07XHJcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5c1tpXV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBvYmpba2V5c1tpXV0gPSBhZnRlcltrZXlzW2ldXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0TmVzdGVkVmFsdWUob2JqLCBwcm9wLCB2YWwpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhvYmopO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHByb3ApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZhbCk7XHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSBwcm9wLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgcHJvcHMuZm9yRWFjaCgocCkgPT4gKG9iaiA9IHAgaW4gb2JqID8gb2JqW3BdIDogbnVsbCkpO1xyXG4gICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYHNldHRpbmcgJHtvYmp9IHRvICR7dmFsfWApO1xyXG4gICAgICAgICAgICBvYmogPSB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBoYXNNb2RpZmllcnMoZXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gZXZlbnQgJiYgKGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBmaWx0ZXIob2JqLCBjb21wKSB7XHJcbiAgICAgICAgY29uc3QgcmV0T2JqID0ge307XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhvYmopLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXAoW2tleSwgdmFsdWVdKSkgcmV0T2JqW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXRPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZExhYmVscyhvYmosIGxhYmVsKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eSgnbGFiZWwnKSAmJiBvYmouaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgJiYgbGFiZWwgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBvYmoubGFiZWwgPSBsYWJlbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhvYmopXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChbLCB2YWx1ZV0pID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpXHJcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiBIZWxwZXJzLmFkZExhYmVscyh2YWx1ZSwga2V5KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcclxuaW1wb3J0IERldmljZURhdGEgPSBTaGFkb3dydW4uRGV2aWNlRGF0YTtcclxuXHJcbmV4cG9ydCBjb25zdCBDaGF0RGF0YSA9IHtcclxuICAgIGFjdGlvbjogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcclxuICAgICAgICBpZiAoZGF0YS5hY3Rpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgbGFiZWxTdHJpbmdMaXN0OiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24uc2tpbGwpIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nTGlzdC5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS5hY3Rpb24uc2tpbGwpKTtcclxuICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nTGlzdC5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS5hY3Rpb24uYXR0cmlidXRlKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5hY3Rpb24uYXR0cmlidXRlMikge1xyXG4gICAgICAgICAgICAgICAgbGFiZWxTdHJpbmdMaXN0LnB1c2goSGVscGVycy5sYWJlbChkYXRhLmFjdGlvbi5hdHRyaWJ1dGUpKTtcclxuICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nTGlzdC5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS5hY3Rpb24uYXR0cmlidXRlMikpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuYWN0aW9uLmF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWxTdHJpbmdMaXN0LnB1c2goSGVscGVycy5sYWJlbChkYXRhLmFjdGlvbi5hdHRyaWJ1dGUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24ubW9kKSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbFN0cmluZ0xpc3QucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5JdGVtTW9kJyl9ICgke2RhdGEuYWN0aW9uLm1vZH0pYCk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHdoZW4gYWxsIG1vZHMgYXJlIG1vZGxpc3RzXHJcbiAgICAgICAgICAgICAgICAvLyBPYmplY3QuZW50cmllcyhkYXRhLmFjdGlvbi5tb2QpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT5cclxuICAgICAgICAgICAgICAgIC8vICAgICBsYWJlbFN0cmluZ0xpc3QucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoa2V5KX0gKCR7dmFsdWV9KWApXHJcbiAgICAgICAgICAgICAgICAvLyApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChsYWJlbFN0cmluZ0xpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbHMucm9sbCA9IGxhYmVsU3RyaW5nTGlzdC5qb2luKCcgKyAnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEuYWN0aW9uLm9wcG9zZWQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBvcHBvc2VkIH0gPSBkYXRhLmFjdGlvbjtcclxuICAgICAgICAgICAgICAgIGlmIChvcHBvc2VkLnR5cGUgIT09ICdjdXN0b20nKSBsYWJlbHMub3Bwb3NlZFJvbGwgPSBgdnMuICR7SGVscGVycy5sYWJlbChvcHBvc2VkLnR5cGUpfWA7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHBvc2VkLnNraWxsKSBsYWJlbHMub3Bwb3NlZFJvbGwgPSBgdnMuICR7SGVscGVycy5sYWJlbChvcHBvc2VkLnNraWxsKX0rJHtIZWxwZXJzLmxhYmVsKG9wcG9zZWQuYXR0cmlidXRlKX1gO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob3Bwb3NlZC5hdHRyaWJ1dGUyKSBsYWJlbHMub3Bwb3NlZFJvbGwgPSBgdnMuICR7SGVscGVycy5sYWJlbChvcHBvc2VkLmF0dHJpYnV0ZSl9KyR7SGVscGVycy5sYWJlbChvcHBvc2VkLmF0dHJpYnV0ZTIpfWA7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHBvc2VkLmF0dHJpYnV0ZSkgbGFiZWxzLm9wcG9zZWRSb2xsID0gYHZzLiAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC5hdHRyaWJ1dGUpfWA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNldHVwIGFjdGlvbiBwcm9wc1xyXG4gICAgICAgICAgICAvLyBnbyBpbiBvcmRlciBvZiBcIkxpbWl0L0FjY3VyYWN5XCIgXCJEYW1hZ2VcIiBcIkFQXCJcclxuICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIGFjdGlvbiB0eXBlIGlmIHNldCB0byAndmFyaWVzJyBvciAnbm9uZScgYXMgdGhhdCdzIHByZXR0eSBtdWNoIHVzZWxlc3MgaW5mb1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24udHlwZSAhPT0gJycgJiYgZGF0YS5hY3Rpb24udHlwZSAhPT0gJ3ZhcmllcycgJiYgZGF0YS5hY3Rpb24udHlwZSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wcy5wdXNoKGAke0hlbHBlcnMubGFiZWwoZGF0YS5hY3Rpb24udHlwZSl9IEFjdGlvbmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmFjdGlvbi5saW1pdC52YWx1ZSkgcHJvcHMucHVzaChgTGltaXQgJHtkYXRhLmFjdGlvbi5saW1pdC52YWx1ZX1gKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuYWN0aW9uLmRhbWFnZS50eXBlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhbWFnZSB9ID0gZGF0YS5hY3Rpb247XHJcbiAgICAgICAgICAgICAgICBsZXQgZGFtYWdlU3RyaW5nID0gJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudFN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhbWFnZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZVN0cmluZyA9IGBEViAke2RhbWFnZS52YWx1ZX0ke2RhbWFnZS50eXBlLnZhbHVlID8gZGFtYWdlLnR5cGUudmFsdWUudG9VcHBlckNhc2UoKS5jaGFyQXQoMCkgOiAnJ31gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhbWFnZS5lbGVtZW50LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIGRhbWFnZSB2YWx1ZSBhbmQgYXJlIGVsZWN0cmljLCBmb2xsb3cgdGhlIGNvbnZlbnRpb24gb2YgKGUpIGFmdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhbWFnZS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGFtYWdlLmVsZW1lbnQudmFsdWUgPT09ICdlbGVjdHJpY2l0eScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbWFnZVN0cmluZyArPSAnIChlKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50U3RyaW5nID0gSGVscGVycy5sYWJlbChkYW1hZ2UuZWxlbWVudC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50U3RyaW5nID0gSGVscGVycy5sYWJlbChkYW1hZ2UuZWxlbWVudC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhbWFnZVN0cmluZykgcHJvcHMucHVzaChkYW1hZ2VTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRTdHJpbmcpIHByb3BzLnB1c2goZWxlbWVudFN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGFtYWdlLmFwICYmIGRhbWFnZS5hcC52YWx1ZSkgcHJvcHMucHVzaChgQVAgJHtkYW1hZ2UuYXAudmFsdWV9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2luOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xyXG4gICAgICAgIHByb3BzLnB1c2goYFJhdGluZyAke2RhdGEudGVjaG5vbG9neS5yYXRpbmd9YCk7XHJcbiAgICAgICAgZGF0YS5saWNlbnNlcy5mb3JFYWNoKChsaWNlbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIHByb3BzLnB1c2goYCR7bGljZW5zZS5uYW1lfSBSJHtsaWNlbnNlLnJ0Z31gKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgY29udGFjdDogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcclxuICAgICAgICBwcm9wcy5wdXNoKGRhdGEudHlwZSk7XHJcbiAgICAgICAgcHJvcHMucHVzaChgQ29ubmVjdGlvbiAke2RhdGEuY29ubmVjdGlvbn1gKTtcclxuICAgICAgICBwcm9wcy5wdXNoKGBMb3lhbHR5ICR7ZGF0YS5sb3lhbHR5fWApO1xyXG4gICAgfSxcclxuXHJcbiAgICBsaWZlc3R5bGU6IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XHJcbiAgICAgICAgcHJvcHMucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEudHlwZSkpO1xyXG4gICAgICAgIGlmIChkYXRhLmNvc3QpIHByb3BzLnB1c2goYMKlJHtkYXRhLmNvc3R9YCk7XHJcbiAgICAgICAgaWYgKGRhdGEuY29tZm9ydHMpIHByb3BzLnB1c2goYENvbWZvcnRzICR7ZGF0YS5jb21mb3J0c31gKTtcclxuICAgICAgICBpZiAoZGF0YS5zZWN1cml0eSkgcHJvcHMucHVzaChgU2VjdXJpdHkgJHtkYXRhLnNlY3VyaXR5fWApO1xyXG4gICAgICAgIGlmIChkYXRhLm5laWdoYm9yaG9vZCkgcHJvcHMucHVzaChgTmVpZ2hib3Job29kICR7ZGF0YS5uZWlnaGJvcmhvb2R9YCk7XHJcbiAgICAgICAgaWYgKGRhdGEuZ3Vlc3RzKSBwcm9wcy5wdXNoKGBHdWVzdHMgJHtkYXRhLmd1ZXN0c31gKTtcclxuICAgIH0sXHJcblxyXG4gICAgYWRlcHRfcG93ZXI6IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XHJcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xyXG4gICAgICAgIHByb3BzLnB1c2goYFBQICR7ZGF0YS5wcH1gKTtcclxuICAgICAgICBwcm9wcy5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS50eXBlKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGFybW9yOiAoZGF0YSwgbGFiZWxzLCBwcm9wcykgPT4ge1xyXG4gICAgICAgIGlmIChkYXRhLmFybW9yKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmFybW9yLnZhbHVlKSBwcm9wcy5wdXNoKGBBcm1vciAke2RhdGEuYXJtb3IubW9kID8gJysnIDogJyd9JHtkYXRhLmFybW9yLnZhbHVlfWApO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5hcm1vci5hY2lkKSBwcm9wcy5wdXNoKGBBY2lkICR7ZGF0YS5hcm1vci5hY2lkfWApO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5hcm1vci5jb2xkKSBwcm9wcy5wdXNoKGBDb2xkICR7ZGF0YS5hcm1vci5jb2xkfWApO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5hcm1vci5maXJlKSBwcm9wcy5wdXNoKGBGaXJlICR7ZGF0YS5hcm1vci5maXJlfWApO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5hcm1vci5lbGVjdHJpY2l0eSkgcHJvcHMucHVzaChgRWxlY3RyaWNpdHkgJHtkYXRhLmFybW9yLmVsZWN0cmljaXR5fWApO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5hcm1vci5yYWRpYXRpb24pIHByb3BzLnB1c2goYFJhZGlhdGlvbiAke2RhdGEuYXJtb3IucmFkaWF0aW9ufWApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgcHJvZ3JhbTogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcclxuICAgICAgICBwcm9wcy5wdXNoKGdhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LnByb2dyYW1UeXBlc1tkYXRhLnR5cGVdKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNvbXBsZXhfZm9ybTogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcclxuICAgICAgICBDaGF0RGF0YS5hY3Rpb24oZGF0YSwgbGFiZWxzLCBwcm9wcyk7XHJcbiAgICAgICAgcHJvcHMucHVzaChIZWxwZXJzLmxhYmVsKGRhdGEudGFyZ2V0KSwgSGVscGVycy5sYWJlbChkYXRhLmR1cmF0aW9uKSk7XHJcbiAgICAgICAgY29uc3QgeyBmYWRlIH0gPSBkYXRhO1xyXG4gICAgICAgIGlmIChmYWRlID4gMCkgcHJvcHMucHVzaChgRmFkZSBMKyR7ZmFkZX1gKTtcclxuICAgICAgICBlbHNlIGlmIChmYWRlIDwgMCkgcHJvcHMucHVzaChgRmFkZSBMJHtmYWRlfWApO1xyXG4gICAgICAgIGVsc2UgcHJvcHMucHVzaCgnRmFkZSBMJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGN5YmVyd2FyZTogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcclxuICAgICAgICBDaGF0RGF0YS5hY3Rpb24oZGF0YSwgbGFiZWxzLCBwcm9wcyk7XHJcbiAgICAgICAgQ2hhdERhdGEuYXJtb3IoZGF0YSwgbGFiZWxzLCBwcm9wcyk7XHJcbiAgICAgICAgaWYgKGRhdGEuZXNzZW5jZSkgcHJvcHMucHVzaChgRXNzICR7ZGF0YS5lc3NlbmNlfWApO1xyXG4gICAgfSxcclxuXHJcbiAgICBkZXZpY2U6IChkYXRhOiBEZXZpY2VEYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XHJcbiAgICAgICAgaWYgKGRhdGEudGVjaG5vbG9neSAmJiBkYXRhLnRlY2hub2xvZ3kucmF0aW5nKSBwcm9wcy5wdXNoKGBSYXRpbmcgJHtkYXRhLnRlY2hub2xvZ3kucmF0aW5nfWApO1xyXG4gICAgICAgIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnY3liZXJkZWNrJykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dE4gb2YgT2JqZWN0LnZhbHVlcyhkYXRhLmF0dHMpKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wcy5wdXNoKGAke0hlbHBlcnMubGFiZWwoYXR0Ti5hdHQpfSAke2F0dE4udmFsdWV9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGVxdWlwbWVudDogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcclxuICAgICAgICBpZiAoZGF0YS50ZWNobm9sb2d5ICYmIGRhdGEudGVjaG5vbG9neS5yYXRpbmcpIHByb3BzLnB1c2goYFJhdGluZyAke2RhdGEudGVjaG5vbG9neS5yYXRpbmd9YCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHF1YWxpdHk6IChkYXRhLCBsYWJlbHMsIHByb3BzKSA9PiB7XHJcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xyXG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLnR5cGUpKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gYWRkIHByb3BlcnRpZXMgZm9yIHNwZWxsIGRhdGEsIGZvbGxvdyBvcmRlciBpbiBib29rXHJcbiAgICBzcGVsbDogKGRhdGEsIGxhYmVscywgcHJvcHMpID0+IHtcclxuICAgICAgICAvLyBmaXJzdCBjYXRlZ29yeSBhbmQgdHlwZVxyXG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLmNhdGVnb3J5KSwgSGVscGVycy5sYWJlbChkYXRhLnR5cGUpKTtcclxuXHJcbiAgICAgICAgLy8gYWRkIHN1YnR5cGUgdGFnc1xyXG4gICAgICAgIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnY29tYmF0Jykge1xyXG4gICAgICAgICAgICBwcm9wcy5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS5jb21iYXQudHlwZSkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jYXRlZ29yeSA9PT0gJ2hlYWx0aCcpIHtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY2F0ZWdvcnkgPT09ICdpbGx1c2lvbicpIHtcclxuICAgICAgICAgICAgcHJvcHMucHVzaChkYXRhLmlsbHVzaW9uLnR5cGUpO1xyXG4gICAgICAgICAgICBwcm9wcy5wdXNoKGRhdGEuaWxsdXNpb24uc2Vuc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jYXRlZ29yeSA9PT0gJ21hbmlwdWxhdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEubWFuaXB1bGF0aW9uLmRhbWFnaW5nKSBwcm9wcy5wdXNoKCdEYW1hZ2luZycpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5tYW5pcHVsYXRpb24ubWVudGFsKSBwcm9wcy5wdXNoKCdNZW50YWwnKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEubWFuaXB1bGF0aW9uLmVudmlyb25tZW50YWwpIHByb3BzLnB1c2goJ0Vudmlyb25tZW50YWwnKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEubWFuaXB1bGF0aW9uLnBoeXNpY2FsKSBwcm9wcy5wdXNoKCdQaHlzaWNhbCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jYXRlZ29yeSA9PT0gJ2RldGVjdGlvbicpIHtcclxuICAgICAgICAgICAgcHJvcHMucHVzaChkYXRhLmlsbHVzaW9uLnR5cGUpO1xyXG4gICAgICAgICAgICBwcm9wcy5wdXNoKGRhdGEuaWxsdXNpb24ucGFzc2l2ZSA/ICdQYXNzaXZlJyA6ICdBY3RpdmUnKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuaWxsdXNpb24uZXh0ZW5kZWQpIHByb3BzLnB1c2goJ0V4dGVuZGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFkZCByYW5nZVxyXG4gICAgICAgIHByb3BzLnB1c2goSGVscGVycy5sYWJlbChkYXRhLnJhbmdlKSk7XHJcblxyXG4gICAgICAgIC8vIGFkZCBhY3Rpb24gZGF0YVxyXG4gICAgICAgIENoYXREYXRhLmFjdGlvbihkYXRhLCBsYWJlbHMsIHByb3BzKTtcclxuXHJcbiAgICAgICAgLy8gYWRkIGR1cmF0aW9uIGRhdGFcclxuICAgICAgICBwcm9wcy5wdXNoKEhlbHBlcnMubGFiZWwoZGF0YS5kdXJhdGlvbikpO1xyXG5cclxuICAgICAgICAvLyBhZGQgZHJhaW4gZGF0YVxyXG4gICAgICAgIGNvbnN0IHsgZHJhaW4gfSA9IGRhdGE7XHJcbiAgICAgICAgaWYgKGRyYWluID4gMCkgcHJvcHMucHVzaChgRHJhaW4gRiske2RyYWlufWApO1xyXG4gICAgICAgIGVsc2UgaWYgKGRyYWluIDwgMCkgcHJvcHMucHVzaChgRHJhaW4gRiR7ZHJhaW59YCk7XHJcbiAgICAgICAgZWxzZSBwcm9wcy5wdXNoKCdEcmFpbiBGJyk7XHJcblxyXG4gICAgICAgIGxhYmVscy5yb2xsID0gJ0Nhc3QnO1xyXG4gICAgfSxcclxuXHJcbiAgICB3ZWFwb246IChkYXRhLCBsYWJlbHMsIHByb3BzLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgQ2hhdERhdGEuYWN0aW9uKGRhdGEsIGxhYmVscywgcHJvcHMpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvcCA9IHByb3BzW2ldO1xyXG4gICAgICAgICAgICBpZiAocHJvcC5pbmNsdWRlcygnTGltaXQnKSkge1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbaV0gPSBwcm9wLnJlcGxhY2UoJ0xpbWl0JywgJ0FjY3VyYWN5Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGVxdWlwcGVkQW1tbyA9IGl0ZW0/LmdldEVxdWlwcGVkQW1tbygpO1xyXG4gICAgICAgIGlmIChlcXVpcHBlZEFtbW8gJiYgZGF0YS5hbW1vICYmIGRhdGEuYW1tby5jdXJyZW50Py5tYXgpIHtcclxuICAgICAgICAgICAgaWYgKGVxdWlwcGVkQW1tbykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBjdXJyZW50LCBzcGFyZV9jbGlwcyB9ID0gZGF0YS5hbW1vO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVxdWlwcGVkQW1tby5uYW1lKSBwcm9wcy5wdXNoKGAke2VxdWlwcGVkQW1tby5uYW1lfSAoJHtjdXJyZW50LnZhbHVlfS8ke2N1cnJlbnQubWF4fSlgKTtcclxuICAgICAgICAgICAgICAgIGlmIChlcXVpcHBlZEFtbW8uZGF0YS5kYXRhLmJsYXN0LnJhZGl1cykgcHJvcHMucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5CbGFzdFJhZGl1cycpfSAke2VxdWlwcGVkQW1tby5kYXRhLmRhdGEuYmxhc3QucmFkaXVzfW1gKTtcclxuICAgICAgICAgICAgICAgIGlmIChlcXVpcHBlZEFtbW8uZGF0YS5kYXRhLmJsYXN0LmRyb3BvZmYpIHByb3BzLnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRHJvcG9mZicpfSAke2VxdWlwcGVkQW1tby5kYXRhLmRhdGEuYmxhc3QuZHJvcG9mZn0vbWApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwYXJlX2NsaXBzICYmIHNwYXJlX2NsaXBzLm1heCkgcHJvcHMucHVzaChgJHtnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5TcGFyZUNsaXBzJyl9ICgke3NwYXJlX2NsaXBzLnZhbHVlfS8ke3NwYXJlX2NsaXBzLm1heH0pYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnRlY2hub2xvZ3k/LmNvbmNlYWw/LnZhbHVlKSB7XHJcbiAgICAgICAgICAgIHByb3BzLnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQ29uY2VhbCcpfSAke2RhdGEudGVjaG5vbG9neS5jb25jZWFsLnZhbHVlfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGEuY2F0ZWdvcnkgPT09ICdyYW5nZScpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEucmFuZ2UucmMpIHtcclxuICAgICAgICAgICAgICAgIGxldCByY1N0cmluZyA9IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlJlY29pbENvbXBlbnNhdGlvbicpfSAke2RhdGEucmFuZ2UucmMudmFsdWV9YDtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtPy5hY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJjU3RyaW5nICs9IGAgKCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuVG90YWwnKX0gJHtpdGVtLmFjdG9yLmRhdGEuZGF0YS5yZWNvaWxfY29tcGVuc2F0aW9uICsgZGF0YS5yYW5nZS5yYy52YWx1ZX0pYDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByb3BzLnB1c2gocmNTdHJpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnJhbmdlLm1vZGVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNb2Rlczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbW9kZXMgfSA9IGRhdGEucmFuZ2U7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZXMuc2luZ2xlX3Nob3QpIG5ld01vZGVzLnB1c2goJ1NSNS5XZWFwb25Nb2RlU2luZ2xlU2hvdFNob3J0Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZXMuc2VtaV9hdXRvKSBuZXdNb2Rlcy5wdXNoKCdTUjUuV2VhcG9uTW9kZVNlbWlBdXRvU2hvcnQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChtb2Rlcy5idXJzdF9maXJlKSBuZXdNb2Rlcy5wdXNoKCdTUjUuV2VhcG9uTW9kZUJ1cnN0RmlyZVNob3J0Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZXMuZnVsbF9hdXRvKSBuZXdNb2Rlcy5wdXNoKCdTUjUuV2VhcG9uTW9kZUZ1bGxBdXRvU2hvcnQnKTtcclxuICAgICAgICAgICAgICAgIHByb3BzLnB1c2gobmV3TW9kZXMubWFwKChtKSA9PiBnYW1lLmkxOG4ubG9jYWxpemUobSkpLmpvaW4oJy8nKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGEucmFuZ2UucmFuZ2VzKSBwcm9wcy5wdXNoKEFycmF5LmZyb20oT2JqZWN0LnZhbHVlcyhkYXRhLnJhbmdlLnJhbmdlcykpLmpvaW4oJy8nKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNhdGVnb3J5ID09PSAnbWVsZWUnKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLm1lbGVlLnJlYWNoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWFjaFN0cmluZyA9IGAke2dhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlJlYWNoJyl9ICR7ZGF0YS5tZWxlZS5yZWFjaH1gO1xyXG4gICAgICAgICAgICAgICAgLy8gZmluZCBhY2N1cmFjeSBpbiBwcm9wcyBhbmQgaW5zZXJ0IG91cnNlbHZlcyBhZnRlciBpdFxyXG4gICAgICAgICAgICAgICAgY29uc3QgYWNjSW5kZXggPSBwcm9wcy5maW5kSW5kZXgoKHApID0+IHAuaW5jbHVkZXMoJ0FjY3VyYWN5JykpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjY0luZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zcGxpY2UoYWNjSW5kZXggKyAxLCAwLCByZWFjaFN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnB1c2gocmVhY2hTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNhdGVnb3J5ID09PSAndGhyb3duJykge1xyXG4gICAgICAgICAgICBjb25zdCB7IGJsYXN0IH0gPSBkYXRhLnRocm93bjtcclxuICAgICAgICAgICAgaWYgKGJsYXN0Py5yYWRpdXMpIHByb3BzLnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuQmxhc3RSYWRpdXMnKX0gJHtibGFzdC5yYWRpdXN9bWApO1xyXG4gICAgICAgICAgICBpZiAoYmxhc3Q/LmRyb3BvZmYpIHByb3BzLnB1c2goYCR7Z2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRHJvcG9mZicpfSAke2JsYXN0LmRyb3BvZmZ9L21gKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLnRocm93bi5yYW5nZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG11bHQgPSBkYXRhLnRocm93bi5yYW5nZXMuYXR0cmlidXRlICYmIGl0ZW0/LmFjdG9yID8gaXRlbS5hY3Rvci5kYXRhLmRhdGEuYXR0cmlidXRlc1tkYXRhLnRocm93bi5yYW5nZXMuYXR0cmlidXRlXS52YWx1ZSA6IDE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZXMgPSBbZGF0YS50aHJvd24ucmFuZ2VzLnNob3J0LCBkYXRhLnRocm93bi5yYW5nZXMubWVkaXVtLCBkYXRhLnRocm93bi5yYW5nZXMubG9uZywgZGF0YS50aHJvd24ucmFuZ2VzLmV4dHJlbWVdO1xyXG4gICAgICAgICAgICAgICAgcHJvcHMucHVzaChyYW5nZXMubWFwKCh2KSA9PiB2ICogbXVsdCkuam9pbignLycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn07XHJcbiIsImltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuLi9oZWxwZXJzJztcclxuaW1wb3J0IHsgU1I1QWN0b3IgfSBmcm9tICcuLi9hY3Rvci9TUjVBY3Rvcic7XHJcbmltcG9ydCBNb2RMaXN0ID0gU2hhZG93cnVuLk1vZExpc3Q7XHJcbmltcG9ydCBBdHRhY2tEYXRhID0gU2hhZG93cnVuLkF0dGFja0RhdGE7XHJcbmltcG9ydCBBdHRyaWJ1dGVGaWVsZCA9IFNoYWRvd3J1bi5BdHRyaWJ1dGVGaWVsZDtcclxuaW1wb3J0IFNraWxsRmllbGQgPSBTaGFkb3dydW4uU2tpbGxGaWVsZDtcclxuaW1wb3J0IExpbWl0RmllbGQgPSBTaGFkb3dydW4uTGltaXRGaWVsZDtcclxuaW1wb3J0IEZpcmVNb2RlRGF0YSA9IFNoYWRvd3J1bi5GaXJlTW9kZURhdGE7XHJcbmltcG9ydCBTcGVsbEZvcmNlRGF0YSA9IFNoYWRvd3J1bi5TcGVsbEZvcmNlRGF0YTtcclxuaW1wb3J0IENvbXBsZXhGb3JtTGV2ZWxEYXRhID0gU2hhZG93cnVuLkNvbXBsZXhGb3JtTGV2ZWxEYXRhO1xyXG5pbXBvcnQgRmlyZVJhbmdlRGF0YSA9IFNoYWRvd3J1bi5GaXJlUmFuZ2VEYXRhO1xyXG5pbXBvcnQgQmxhc3REYXRhID0gU2hhZG93cnVuLkJsYXN0RGF0YTtcclxuaW1wb3J0IHsgQ2hhdERhdGEgfSBmcm9tICcuL0NoYXREYXRhJztcclxuaW1wb3J0IHsgU1lTVEVNX05BTUUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNSNUl0ZW0gZXh0ZW5kcyBJdGVtIHtcclxuICAgIGxhYmVsczoge30gPSB7fTtcclxuICAgIGl0ZW1zOiBTUjVJdGVtW107XHJcbiAgICBhY3RvcjogU1I1QWN0b3I7XHJcblxyXG4gICAgLy8gRmxhZyBGdW5jdGlvbnNcclxuICAgIGdldExhc3RGaXJlTW9kZSgpOiBGaXJlTW9kZURhdGEge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEZsYWcoU1lTVEVNX05BTUUsICdsYXN0RmlyZU1vZGUnKSB8fCB7IHZhbHVlOiAwIH07XHJcbiAgICB9XHJcbiAgICBhc3luYyBzZXRMYXN0RmlyZU1vZGUoZmlyZU1vZGU6IEZpcmVNb2RlRGF0YSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldEZsYWcoU1lTVEVNX05BTUUsICdsYXN0RmlyZU1vZGUnLCBmaXJlTW9kZSk7XHJcbiAgICB9XHJcbiAgICBnZXRMYXN0U3BlbGxGb3JjZSgpOiBTcGVsbEZvcmNlRGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhZyhTWVNURU1fTkFNRSwgJ2xhc3RTcGVsbEZvcmNlJykgfHwgeyB2YWx1ZTogMCB9O1xyXG4gICAgfVxyXG4gICAgYXN5bmMgc2V0TGFzdFNwZWxsRm9yY2UoZm9yY2U6IFNwZWxsRm9yY2VEYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ2xhc3RTcGVsbEZvcmNlJywgZm9yY2UpO1xyXG4gICAgfVxyXG4gICAgZ2V0TGFzdENvbXBsZXhGb3JtTGV2ZWwoKTogQ29tcGxleEZvcm1MZXZlbERhdGEge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEZsYWcoU1lTVEVNX05BTUUsICdsYXN0Q29tcGxleEZvcm1MZXZlbCcpIHx8IHsgdmFsdWU6IDAgfTtcclxuICAgIH1cclxuICAgIGFzeW5jIHNldExhc3RDb21wbGV4Rm9ybUxldmVsKGxldmVsOiBDb21wbGV4Rm9ybUxldmVsRGF0YSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldEZsYWcoU1lTVEVNX05BTUUsICdsYXN0Q29tcGxleEZvcm1MZXZlbCcsIGxldmVsKTtcclxuICAgIH1cclxuICAgIGdldExhc3RGaXJlUmFuZ2VNb2QoKTogRmlyZVJhbmdlRGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhZyhTWVNURU1fTkFNRSwgJ2xhc3RGaXJlUmFuZ2UnKSB8fCB7IHZhbHVlOiAwIH07XHJcbiAgICB9XHJcbiAgICBhc3luYyBzZXRMYXN0RmlyZVJhbmdlTW9kKGVudmlyb25tZW50YWxNb2Q6IEZpcmVSYW5nZURhdGEpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXRGbGFnKFNZU1RFTV9OQU1FLCAnbGFzdEZpcmVSYW5nZScsIGVudmlyb25tZW50YWxNb2QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGFuIEFycmF5IG9mIHRoZSBFbWJlZGRlZCBJdGVtIERhdGFcclxuICAgICAqIFRPRE8gcHJvcGVybHkgdHlwZXMgdGhpc1xyXG4gICAgICovXHJcbiAgICBnZXRFbWJlZGRlZEl0ZW1zKCk6IGFueVtdIHtcclxuICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLmdldEZsYWcoU1lTVEVNX05BTUUsICdlbWJlZGRlZEl0ZW1zJyk7XHJcbiAgICAgICAgaWYgKGl0ZW1zKSB7XHJcbiAgICAgICAgICAgIC8vIG1vdmVkIHRoaXMgXCJob3RmaXhcIiB0byBoZXJlIHNvIHRoYXQgZXZlcnl3aGVyZSB0aGF0IGFjY2Vzc2VzIHRoZSBmbGFnIGp1c3QgZ2V0cyBhbiBhcnJheSAtLSBTaGF3blxyXG4gICAgICAgICAgICAvL1RPRE86IFRoaXMgaXMgYSBob3RmaXguIEl0ZW1zIHNob3VsZCBlaXRoZXIgYWx3YXlzIGJlXHJcbiAgICAgICAgICAgIC8vIHN0b3JlZCBhcyBhbiBhcnJheSBvciBhbHdheXMgYmUgc3RvcmVkIGFzIGEgb2JqZWN0LlxyXG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3SXRlbXM6IGFueVtdID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhpdGVtcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJdGVtcy5wdXNoKGl0ZW1zW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0l0ZW1zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBlbWJlZGRlZCBpdGVtIGRhdGFcclxuICAgICAqIEBwYXJhbSBpdGVtc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBzZXRFbWJlZGRlZEl0ZW1zKGl0ZW1zOiBhbnlbXSkge1xyXG4gICAgICAgIC8vIGNsZWFyIHRoZSBmbGFnIGZpcnN0IHRvIHJlbW92ZSB0aGUgcHJldmlvdXMgaXRlbXMgLSBpZiB3ZSBkb24ndCBkbyB0aGlzIHRoZW4gaXQgZG9lc24ndCBhY3R1YWxseSBcImRlbGV0ZVwiIGFueSBpdGVtc1xyXG4gICAgICAgIGF3YWl0IHRoaXMudW5zZXRGbGFnKFNZU1RFTV9OQU1FLCAnZW1iZWRkZWRJdGVtcycpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ2VtYmVkZGVkSXRlbXMnLCBpdGVtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGFzdEF0dGFjaygpOiBBdHRhY2tEYXRhIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRGbGFnKFNZU1RFTV9OQU1FLCAnbGFzdEF0dGFjaycpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgc2V0TGFzdEF0dGFjayhhdHRhY2s6IEF0dGFja0RhdGEpIHtcclxuICAgICAgICAvLyB1bnNldCB0aGUgZmxhZyBmaXJzdCB0byBjbGVhciBvbGQgZGF0YSwgZGF0YSBjYW4gZ2V0IHdlaXJkIGlmIG5vdCBkb25lXHJcbiAgICAgICAgYXdhaXQgdGhpcy51bnNldEZsYWcoU1lTVEVNX05BTUUsICdsYXN0QXR0YWNrJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RmxhZyhTWVNURU1fTkFNRSwgJ2xhc3RBdHRhY2snLCBhdHRhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZShkYXRhLCBvcHRpb25zPykge1xyXG4gICAgICAgIGNvbnN0IHJldCA9IHN1cGVyLnVwZGF0ZShkYXRhLCBvcHRpb25zKTtcclxuICAgICAgICByZXQudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLnJlbmRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGdldCBoYXNPcHBvc2VkUm9sbCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhLmRhdGEuYWN0aW9uICYmIHRoaXMuZGF0YS5kYXRhLmFjdGlvbi5vcHBvc2VkLnR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoYXNSb2xsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHsgYWN0aW9uIH0gPSB0aGlzLmRhdGEuZGF0YTtcclxuICAgICAgICByZXR1cm4gISEoYWN0aW9uICYmIGFjdGlvbi50eXBlICE9PSAnJyAmJiAoYWN0aW9uLnNraWxsIHx8IGFjdGlvbi5hdHRyaWJ1dGUpKTtcclxuICAgIH1cclxuICAgIGdldCBoYXNUZW1wbGF0ZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc0FyZWFPZkVmZmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZXBhcmVEYXRhKCkge1xyXG4gICAgICAgIHN1cGVyLnByZXBhcmVEYXRhKCk7XHJcbiAgICAgICAgY29uc3QgbGFiZWxzID0ge307XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZGF0YTtcclxuXHJcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3NpbicpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtLmRhdGEubGljZW5zZXMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmRhdGEubGljZW5zZXMgPSBPYmplY3QudmFsdWVzKGl0ZW0uZGF0YS5saWNlbnNlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZXF1aXBwZWRNb2RzID0gdGhpcy5nZXRFcXVpcHBlZE1vZHMoKTtcclxuICAgICAgICBjb25zdCBlcXVpcHBlZEFtbW8gPSB0aGlzLmdldEVxdWlwcGVkQW1tbygpO1xyXG5cclxuICAgICAgICBjb25zdCB7IHRlY2hub2xvZ3ksIHJhbmdlLCBhY3Rpb24gfSA9IGl0ZW0uZGF0YTtcclxuXHJcbiAgICAgICAgaWYgKHRlY2hub2xvZ3kpIHtcclxuICAgICAgICAgICAgaWYgKCF0ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yKSB0ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yID0geyB2YWx1ZTogMCB9O1xyXG4gICAgICAgICAgICB0ZWNobm9sb2d5LmNvbmRpdGlvbl9tb25pdG9yLm1heCA9IDggKyBNYXRoLmNlaWwodGVjaG5vbG9neS5yYXRpbmcgLyAyKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGVjaG5vbG9neS5jb25jZWFsKSB0ZWNobm9sb2d5LmNvbmNlYWwgPSB7fTtcclxuICAgICAgICAgICAgdGVjaG5vbG9neS5jb25jZWFsLm1vZCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgZXF1aXBwZWRNb2RzLmZvckVhY2goKG1vZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRlY2hub2xvZ3k/LmNvbmNlYWwgJiYgbW9kLmRhdGEuZGF0YS50ZWNobm9sb2d5LmNvbmNlYWwudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZWNobm9sb2d5LmNvbmNlYWwubW9kW21vZC5uYW1lXSA9IG1vZC5kYXRhLmRhdGEudGVjaG5vbG9neS5jb25jZWFsLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRlY2hub2xvZ3kuY29uY2VhbC52YWx1ZSA9IHRlY2hub2xvZ3kuY29uY2VhbC5iYXNlICsgSGVscGVycy50b3RhbE1vZHModGVjaG5vbG9neS5jb25jZWFsLm1vZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGFjdGlvbi5hbHRfbW9kID0gMDtcclxuICAgICAgICAgICAgYWN0aW9uLmxpbWl0Lm1vZCA9IHt9O1xyXG4gICAgICAgICAgICBhY3Rpb24uZGFtYWdlLm1vZCA9IHt9O1xyXG4gICAgICAgICAgICBhY3Rpb24uZGFtYWdlLmFwLm1vZCA9IHt9O1xyXG4gICAgICAgICAgICBhY3Rpb24uZGljZV9wb29sX21vZCA9IHt9O1xyXG4gICAgICAgICAgICAvLyBoYW5kbGUgb3ZlcnJpZGVzIGZyb20gbW9kc1xyXG4gICAgICAgICAgICBlcXVpcHBlZE1vZHMuZm9yRWFjaCgobW9kKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kLmRhdGEuZGF0YS5hY2N1cmFjeSkgYWN0aW9uLmxpbWl0Lm1vZFttb2QubmFtZV0gPSBtb2QuZGF0YS5kYXRhLmFjY3VyYWN5O1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZC5kYXRhLmRhdGEuZGljZV9wb29sKSBhY3Rpb24uZGljZV9wb29sX21vZFttb2QubmFtZV0gPSBtb2QuZGF0YS5kYXRhLmRpY2VfcG9vbDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXF1aXBwZWRBbW1vKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgbW9kcyB0byBkYW1hZ2UgZnJvbSBhbW1vXHJcbiAgICAgICAgICAgICAgICBhY3Rpb24uZGFtYWdlLm1vZFtgJHtlcXVpcHBlZEFtbW8ubmFtZX1gXSA9IGVxdWlwcGVkQW1tby5kYXRhLmRhdGEuZGFtYWdlO1xyXG4gICAgICAgICAgICAgICAgLy8gYWRkIG1vZHMgdG8gYXAgZnJvbSBhbW1vXHJcbiAgICAgICAgICAgICAgICBhY3Rpb24uZGFtYWdlLmFwLm1vZFtgJHtlcXVpcHBlZEFtbW8ubmFtZX1gXSA9IGVxdWlwcGVkQW1tby5kYXRhLmRhdGEuYXA7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gb3ZlcnJpZGUgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKGVxdWlwcGVkQW1tby5kYXRhLmRhdGEuZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UuZWxlbWVudC52YWx1ZSA9IGVxdWlwcGVkQW1tby5kYXRhLmRhdGEuZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS5lbGVtZW50LnZhbHVlID0gYWN0aW9uLmRhbWFnZS5lbGVtZW50LmJhc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gb3ZlcnJpZGUgZGFtYWdlIHR5cGVcclxuICAgICAgICAgICAgICAgIGlmIChlcXVpcHBlZEFtbW8uZGF0YS5kYXRhLmRhbWFnZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24uZGFtYWdlLnR5cGUudmFsdWUgPSBlcXVpcHBlZEFtbW8uZGF0YS5kYXRhLmRhbWFnZVR5cGU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UudHlwZS52YWx1ZSA9IGFjdGlvbi5kYW1hZ2UudHlwZS5iYXNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc2V0IHZhbHVlIGlmIHdlIGRvbid0IGhhdmUgaXRlbSBvdmVycmlkZXNcclxuICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UuZWxlbWVudC52YWx1ZSA9IGFjdGlvbi5kYW1hZ2UuZWxlbWVudC5iYXNlO1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uLmRhbWFnZS50eXBlLnZhbHVlID0gYWN0aW9uLmRhbWFnZS50eXBlLmJhc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG9uY2UgYWxsIGRhbWFnZSBtb2RzIGhhdmUgYmVlbiBhY2NvdW50ZWQgZm9yLCBzdW0gYmFzZSBhbmQgbW9kIHRvIHZhbHVlXHJcbiAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UudmFsdWUgPSBhY3Rpb24uZGFtYWdlLmJhc2UgKyBIZWxwZXJzLnRvdGFsTW9kcyhhY3Rpb24uZGFtYWdlLm1vZCk7XHJcbiAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UuYXAudmFsdWUgPSBhY3Rpb24uZGFtYWdlLmFwLmJhc2UgKyBIZWxwZXJzLnRvdGFsTW9kcyhhY3Rpb24uZGFtYWdlLmFwLm1vZCk7XHJcblxyXG4gICAgICAgICAgICBhY3Rpb24ubGltaXQudmFsdWUgPSBhY3Rpb24ubGltaXQuYmFzZSArIEhlbHBlcnMudG90YWxNb2RzKGFjdGlvbi5saW1pdC5tb2QpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuYWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZGFtYWdlLmF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXR0cmlidXRlIH0gPSBhY3Rpb24uZGFtYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY29udmVydCB0aGlzIGluIHRoZSB0ZW1wbGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UubW9kW2dhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuU1I1LmF0dHJpYnV0ZXNbYXR0cmlidXRlXSldID0gdGhpcy5hY3Rvci5maW5kQXR0cmlidXRlKGF0dHJpYnV0ZSk/LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5kYW1hZ2UudmFsdWUgPSBhY3Rpb24uZGFtYWdlLmJhc2UgKyBIZWxwZXJzLnRvdGFsTW9kcyhhY3Rpb24uZGFtYWdlLm1vZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmxpbWl0LmF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXR0cmlidXRlIH0gPSBhY3Rpb24ubGltaXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjb252ZXJ0IHRoaXMgaW4gdGhlIHRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmxpbWl0Lm1vZFtnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlNSNS5saW1pdHNbYXR0cmlidXRlXSldID0gdGhpcy5hY3Rvci5maW5kTGltaXQoYXR0cmlidXRlKT8udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmxpbWl0LnZhbHVlID0gYWN0aW9uLmxpbWl0LmJhc2UgKyBIZWxwZXJzLnRvdGFsTW9kcyhhY3Rpb24ubGltaXQubW9kKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJhbmdlKSB7XHJcbiAgICAgICAgICAgIGlmIChyYW5nZS5yYykge1xyXG4gICAgICAgICAgICAgICAgcmFuZ2UucmMubW9kID0ge307XHJcbiAgICAgICAgICAgICAgICBlcXVpcHBlZE1vZHMuZm9yRWFjaCgobW9kKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZC5kYXRhLmRhdGEucmMpIHJhbmdlLnJjLm1vZFttb2QubmFtZV0gPSBtb2QuZGF0YS5kYXRhLnJjO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBvdmVycmlkZXMgZnJvbSBhbW1vXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5yYykgcmFuZ2UucmMudmFsdWUgPSByYW5nZS5yYy5iYXNlICsgSGVscGVycy50b3RhbE1vZHMocmFuZ2UucmMubW9kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2FkZXB0X3Bvd2VyJykge1xyXG4gICAgICAgICAgICBpdGVtLmRhdGEudHlwZSA9IGl0ZW0uZGF0YS5hY3Rpb24/LnR5cGUgPyAnYWN0aXZlJyA6ICdwYXNzaXZlJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGFiZWxzID0gbGFiZWxzO1xyXG4gICAgICAgIGl0ZW1bJ3Byb3BlcnRpZXMnXSA9IHRoaXMuZ2V0Q2hhdERhdGEoKS5wcm9wZXJ0aWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENoYXREYXRhKGh0bWxPcHRpb25zPykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBkdXBsaWNhdGUodGhpcy5kYXRhLmRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHsgbGFiZWxzIH0gPSB0aGlzO1xyXG4gICAgICAgIGlmICghZGF0YS5kZXNjcmlwdGlvbikgZGF0YS5kZXNjcmlwdGlvbiA9IHt9O1xyXG5cclxuICAgICAgICBkYXRhLmRlc2NyaXB0aW9uLnZhbHVlID0gVGV4dEVkaXRvci5lbnJpY2hIVE1MKGRhdGEuZGVzY3JpcHRpb24udmFsdWUsIGh0bWxPcHRpb25zKTtcclxuXHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSBbXTtcclxuICAgICAgICBjb25zdCBmdW5jID0gQ2hhdERhdGFbdGhpcy5kYXRhLnR5cGVdO1xyXG4gICAgICAgIGlmIChmdW5jKSBmdW5jKGR1cGxpY2F0ZShkYXRhKSwgbGFiZWxzLCBwcm9wcywgdGhpcyk7XHJcblxyXG4gICAgICAgIGRhdGEucHJvcGVydGllcyA9IHByb3BzLmZpbHRlcigocCkgPT4gISFwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0T3Bwb3NlZFRlc3ROYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG5hbWUgPSAnJztcclxuICAgICAgICBpZiAodGhpcy5kYXRhLmRhdGEuYWN0aW9uPy5vcHBvc2VkPy50eXBlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgb3Bwb3NlZCB9ID0gdGhpcy5kYXRhLmRhdGEuYWN0aW9uO1xyXG4gICAgICAgICAgICBpZiAob3Bwb3NlZC50eXBlICE9PSAnY3VzdG9tJykge1xyXG4gICAgICAgICAgICAgICAgbmFtZSA9IGAke0hlbHBlcnMubGFiZWwob3Bwb3NlZC50eXBlKX1gO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wcG9zZWQuc2tpbGwpIHtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBgJHtIZWxwZXJzLmxhYmVsKG9wcG9zZWQuc2tpbGwpfSske0hlbHBlcnMubGFiZWwob3Bwb3NlZC5hdHRyaWJ1dGUpfWA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3Bwb3NlZC5hdHRyaWJ1dGUyKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gYCR7SGVscGVycy5sYWJlbChvcHBvc2VkLmF0dHJpYnV0ZSl9KyR7SGVscGVycy5sYWJlbChvcHBvc2VkLmF0dHJpYnV0ZTIpfWA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3Bwb3NlZC5hdHRyaWJ1dGUpIHtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBgJHtIZWxwZXJzLmxhYmVsKG9wcG9zZWQuYXR0cmlidXRlKX1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1vZCA9IHRoaXMuZ2V0T3Bwb3NlZFRlc3RNb2RpZmllcigpO1xyXG4gICAgICAgIGlmIChtb2QpIG5hbWUgKz0gYCAke21vZH1gO1xyXG4gICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVxdWlwcGVkQW1tbygpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuaXRlbXMgfHwgW10pLmZpbHRlcigoaXRlbSkgPT4gaXRlbS50eXBlID09PSAnYW1tbycgJiYgaXRlbS5kYXRhLmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkKVswXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFcXVpcHBlZE1vZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLml0ZW1zIHx8IFtdKS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udHlwZSA9PT0gJ21vZGlmaWNhdGlvbicgJiYgaXRlbS5kYXRhLmRhdGEudHlwZSA9PT0gJ3dlYXBvbicgJiYgaXRlbS5kYXRhLmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBlcXVpcFdlYXBvbk1vZChpaWQpIHtcclxuICAgICAgICBjb25zdCBtb2QgPSB0aGlzLmdldE93bmVkSXRlbShpaWQpO1xyXG4gICAgICAgIGlmIChtb2QpIHtcclxuICAgICAgICAgICAgY29uc3QgZHVwRGF0YSA9IGR1cGxpY2F0ZShtb2QuZGF0YSk7XHJcbiAgICAgICAgICAgIGR1cERhdGEuZGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkID0gIWR1cERhdGEuZGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZU93bmVkSXRlbShkdXBEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGhhc0FtbW8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLmFtbW8gIT09IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1c2VBbW1vKGZpcmVNb2RlKSB7XHJcbiAgICAgICAgY29uc3QgZHVwRGF0YSA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHsgYW1tbyB9ID0gZHVwRGF0YS5kYXRhO1xyXG4gICAgICAgIGlmIChhbW1vKSB7XHJcbiAgICAgICAgICAgIGFtbW8uY3VycmVudC52YWx1ZSA9IE1hdGgubWF4KDAsIGFtbW8uY3VycmVudC52YWx1ZSAtIGZpcmVNb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKGR1cERhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZWxvYWRBbW1vKCkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBkdXBsaWNhdGUodGhpcy5kYXRhKTtcclxuICAgICAgICBjb25zdCB7IGFtbW8gfSA9IGRhdGEuZGF0YTtcclxuICAgICAgICBjb25zdCBkaWZmID0gYW1tby5jdXJyZW50Lm1heCAtIGFtbW8uY3VycmVudC52YWx1ZTtcclxuICAgICAgICBhbW1vLmN1cnJlbnQudmFsdWUgPSBhbW1vLmN1cnJlbnQubWF4O1xyXG5cclxuICAgICAgICBpZiAoYW1tby5zcGFyZV9jbGlwcykge1xyXG4gICAgICAgICAgICBhbW1vLnNwYXJlX2NsaXBzLnZhbHVlID0gTWF0aC5tYXgoMCwgYW1tby5zcGFyZV9jbGlwcy52YWx1ZSAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZShkYXRhKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3QW1tdW5pdGlvbiA9ICh0aGlzLml0ZW1zIHx8IFtdKVxyXG4gICAgICAgICAgICAuZmlsdGVyKChpKSA9PiBpLmRhdGEudHlwZSA9PT0gJ2FtbW8nKVxyXG4gICAgICAgICAgICAucmVkdWNlKChhY2M6IEJhc2VFbnRpdHlEYXRhW10sIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdGVjaG5vbG9neSB9ID0gaXRlbS5kYXRhLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVjaG5vbG9neS5lcXVpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF0eSA9IHRlY2hub2xvZ3kucXVhbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVjaG5vbG9neS5xdWFudGl0eSA9IE1hdGgubWF4KDAsIHF0eSAtIGRpZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKGl0ZW0uZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICB9LCBbXSk7XHJcbiAgICAgICAgaWYgKG5ld0FtbXVuaXRpb24ubGVuZ3RoKSBhd2FpdCB0aGlzLnVwZGF0ZU93bmVkSXRlbShuZXdBbW11bml0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBlcXVpcEFtbW8oaWlkKSB7XHJcbiAgICAgICAgLy8gb25seSBhbGxvdyBhbW1vIHRoYXQgd2FzIGp1c3QgY2xpY2tlZCB0byBiZSBlcXVpcHBlZFxyXG4gICAgICAgIGNvbnN0IGFtbW8gPSB0aGlzLml0ZW1zXHJcbiAgICAgICAgICAgID8uZmlsdGVyKChpdGVtKSA9PiBpdGVtLnR5cGUgPT09ICdhbW1vJylcclxuICAgICAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMuZ2V0T3duZWRJdGVtKGl0ZW0uX2lkKTtcclxuICAgICAgICAgICAgICAgIGlmIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaS5kYXRhLmRhdGEudGVjaG5vbG9neS5lcXVpcHBlZCA9IGlpZCA9PT0gaXRlbS5faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuZGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVPd25lZEl0ZW0oYW1tbyk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkTmV3TGljZW5zZSgpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gZHVwbGljYXRlKHRoaXMuZGF0YSk7XHJcbiAgICAgICAgY29uc3QgeyBsaWNlbnNlcyB9ID0gZGF0YS5kYXRhO1xyXG4gICAgICAgIGlmICh0eXBlb2YgbGljZW5zZXMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIGRhdGEuZGF0YS5saWNlbnNlcyA9IE9iamVjdC52YWx1ZXMobGljZW5zZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRhLmRhdGEubGljZW5zZXMucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICcnLFxyXG4gICAgICAgICAgICBydGc6ICcnLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um9sbFBhcnRzTGlzdCgpOiBNb2RMaXN0PG51bWJlcj4ge1xyXG4gICAgICAgIC8vIHdlIG9ubHkgaGF2ZSBhIHJvbGwgaWYgd2UgaGF2ZSBhbiBhY3Rpb24gb3IgYW4gYWN0b3JcclxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5kYXRhLmFjdGlvbiB8fCAhdGhpcy5hY3RvcikgcmV0dXJuIHt9O1xyXG5cclxuICAgICAgICBjb25zdCBwYXJ0cyA9IGR1cGxpY2F0ZSh0aGlzLmdldE1vZGlmaWVyTGlzdCgpKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLmFjdG9yLmZpbmRBY3RpdmVTa2lsbCh0aGlzLmdldEFjdGlvblNraWxsKCkpO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuYWN0b3IuZmluZEF0dHJpYnV0ZSh0aGlzLmdldEFjdGlvbkF0dHJpYnV0ZSgpKTtcclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGUyID0gdGhpcy5hY3Rvci5maW5kQXR0cmlidXRlKHRoaXMuZ2V0QWN0aW9uQXR0cmlidXRlMigpKTtcclxuXHJcbiAgICAgICAgaWYgKGF0dHJpYnV0ZSAmJiBhdHRyaWJ1dGUubGFiZWwpIHBhcnRzW2F0dHJpYnV0ZS5sYWJlbF0gPSBhdHRyaWJ1dGUudmFsdWU7XHJcblxyXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSB2YWxpZCBza2lsbCwgZG9uJ3QgbG9vayBmb3IgYSBzZWNvbmQgYXR0cmlidXRlXHJcbiAgICAgICAgaWYgKHNraWxsICYmIHNraWxsLmxhYmVsKSBwYXJ0c1tza2lsbC5sYWJlbF0gPSBza2lsbC52YWx1ZTtcclxuICAgICAgICBlbHNlIGlmIChhdHRyaWJ1dGUyICYmIGF0dHJpYnV0ZTIubGFiZWwpIHBhcnRzW2F0dHJpYnV0ZTIubGFiZWxdID0gYXR0cmlidXRlMi52YWx1ZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3BlYyA9IHRoaXMuZ2V0QWN0aW9uU3BlY2lhbGl6YXRpb24oKTtcclxuICAgICAgICBpZiAoc3BlYykgcGFydHNbc3BlY10gPSAyO1xyXG5cclxuICAgICAgICAvLyBUT0RPIHJlbW92ZSB0aGVzZSAoYnkgbWFraW5nIHRoZW0gbm90IHVzZWQsIG5vdCBqdXN0IGRlbGV0ZSlcclxuICAgICAgICBjb25zdCBtb2QgPSBwYXJzZUludCh0aGlzLmRhdGEuZGF0YS5hY3Rpb24ubW9kIHx8IDApO1xyXG4gICAgICAgIGlmIChtb2QpIHBhcnRzWydTUjUuSXRlbU1vZCddID0gbW9kO1xyXG5cclxuICAgICAgICBjb25zdCBhdHRzOiAoQXR0cmlidXRlRmllbGQgfCBTa2lsbEZpZWxkKVtdIHwgYm9vbGVhbiA9IFtdO1xyXG4gICAgICAgIGlmIChhdHRyaWJ1dGUgIT09IHVuZGVmaW5lZCkgYXR0cy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgaWYgKGF0dHJpYnV0ZTIgIT09IHVuZGVmaW5lZCkgYXR0cy5wdXNoKGF0dHJpYnV0ZTIpO1xyXG4gICAgICAgIGlmIChza2lsbCAhPT0gdW5kZWZpbmVkKSBhdHRzLnB1c2goc2tpbGwpO1xyXG4gICAgICAgIC8vIGFkZCBnbG9iYWwgcGFydHMgZnJvbSBhY3RvclxyXG4gICAgICAgIHRoaXMuYWN0b3IuX2FkZEdsb2JhbFBhcnRzKHBhcnRzKTtcclxuICAgICAgICB0aGlzLmFjdG9yLl9hZGRNYXRyaXhQYXJ0cyhwYXJ0cywgYXR0cyk7XHJcbiAgICAgICAgdGhpcy5fYWRkV2VhcG9uUGFydHMocGFydHMpO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFydHM7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlUmVjb2lsKCkge1xyXG4gICAgICAgIGNvbnN0IGxhc3RGaXJlTW9kZSA9IHRoaXMuZ2V0TGFzdEZpcmVNb2RlKCk7XHJcbiAgICAgICAgaWYgKCFsYXN0RmlyZU1vZGUpIHJldHVybiAwO1xyXG4gICAgICAgIGlmIChsYXN0RmlyZU1vZGUudmFsdWUgPT09IDIwKSByZXR1cm4gMDtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5nZXRSZWNvaWxDb21wZW5zYXRpb24odHJ1ZSkgLSAodGhpcy5nZXRMYXN0RmlyZU1vZGUoKT8udmFsdWUgfHwgMCksIDApO1xyXG4gICAgfVxyXG5cclxuICAgIF9hZGRXZWFwb25QYXJ0cyhwYXJ0czogTW9kTGlzdDxudW1iZXI+KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSYW5nZWRXZWFwb24oKSkge1xyXG4gICAgICAgICAgICBjb25zdCByZWNvaWwgPSB0aGlzLmNhbGN1bGF0ZVJlY29pbCgpO1xyXG4gICAgICAgICAgICBpZiAocmVjb2lsKSBwYXJ0c1snU1I1LlJlY29pbCddID0gcmVjb2lsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVMaWNlbnNlKGluZGV4KSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGR1cGxpY2F0ZSh0aGlzLmRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHsgbGljZW5zZXMgfSA9IGRhdGEuZGF0YTtcclxuICAgICAgICBsaWNlbnNlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRJdGVtRnJvbU1lc3NhZ2UoaHRtbCk6IFNSNUl0ZW0gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBodG1sLmZpbmQoJy5jaGF0LWNhcmQnKTtcclxuICAgICAgICBsZXQgYWN0b3I7XHJcbiAgICAgICAgY29uc3QgdG9rZW5LZXkgPSBjYXJkLmRhdGEoJ3Rva2VuSWQnKTtcclxuICAgICAgICBpZiAodG9rZW5LZXkpIHtcclxuICAgICAgICAgICAgY29uc3QgW3NjZW5lSWQsIHRva2VuSWRdID0gdG9rZW5LZXkuc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgbGV0IHRva2VuO1xyXG4gICAgICAgICAgICBpZiAoc2NlbmVJZCA9PT0gY2FudmFzLnNjZW5lLl9pZCkgdG9rZW4gPSBjYW52YXMudG9rZW5zLmdldCh0b2tlbklkKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzY2VuZTogU2NlbmUgPSBnYW1lLnNjZW5lcy5nZXQoc2NlbmVJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNjZW5lKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBzY2VuZS5kYXRhLnRva2Vucy5maW5kKCh0KSA9PiB0LmlkID09PSBOdW1iZXIodG9rZW5JZCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuRGF0YSkgdG9rZW4gPSBuZXcgVG9rZW4odG9rZW5EYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm47XHJcbiAgICAgICAgICAgIGFjdG9yID0gQWN0b3IuZnJvbVRva2VuKHRva2VuKTtcclxuICAgICAgICB9IGVsc2UgYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoY2FyZC5kYXRhKCdhY3RvcklkJykpO1xyXG5cclxuICAgICAgICBpZiAoIWFjdG9yKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgaXRlbUlkID0gY2FyZC5kYXRhKCdpdGVtSWQnKTtcclxuICAgICAgICByZXR1cm4gYWN0b3IuZ2V0T3duZWRJdGVtKGl0ZW1JZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFRhcmdldHMoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjaGFyYWN0ZXIgfSA9IGdhbWUudXNlcjtcclxuICAgICAgICBjb25zdCB7IGNvbnRyb2xsZWQgfSA9IGNhbnZhcy50b2tlbnM7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0cyA9IGNvbnRyb2xsZWQucmVkdWNlKChhcnIsIHQpID0+ICh0LmFjdG9yID8gYXJyLmNvbmNhdChbdC5hY3Rvcl0pIDogYXJyKSwgW10pO1xyXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgJiYgY29udHJvbGxlZC5sZW5ndGggPT09IDApIHRhcmdldHMucHVzaChjaGFyYWN0ZXIpO1xyXG4gICAgICAgIGlmICghdGFyZ2V0cy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihgWW91IG11c3QgZGVzaWduYXRlIGEgc3BlY2lmaWMgVG9rZW4gYXMgdGhlIHJvbGwgdGFyZ2V0YCk7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gaXRlbSBpbiB0aGlzIGl0ZW1cclxuICAgICAqIEBwYXJhbSBpdGVtRGF0YVxyXG4gICAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgY3JlYXRlT3duZWRJdGVtKGl0ZW1EYXRhLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbURhdGEpKSBpdGVtRGF0YSA9IFtpdGVtRGF0YV07XHJcbiAgICAgICAgLy8gd2VhcG9ucyBhY2NlcHQgaXRlbXNcclxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnd2VhcG9uJykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SXRlbXMgPSBkdXBsaWNhdGUodGhpcy5nZXRFbWJlZGRlZEl0ZW1zKCkpO1xyXG5cclxuICAgICAgICAgICAgaXRlbURhdGEuZm9yRWFjaCgob2dJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZHVwbGljYXRlKG9nSXRlbSk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLl9pZCA9IHJhbmRvbUlEKDE2KTtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdhbW1vJyB8fCBpdGVtLnR5cGUgPT09ICdtb2RpZmljYXRpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0/LmRhdGE/LnRlY2hub2xvZ3k/LmVxdWlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZGF0YS50ZWNobm9sb2d5LmVxdWlwcGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0RW1iZWRkZWRJdGVtcyhjdXJyZW50SXRlbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVFbWJlZGRlZEVudGl0aWVzKCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVwYXJlRGF0YSgpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKGZhbHNlKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBhcmUgZW1iZWRkZWRJdGVtc1xyXG4gICAgICovXHJcbiAgICBwcmVwYXJlRW1iZWRkZWRFbnRpdGllcygpIHtcclxuICAgICAgICBzdXBlci5wcmVwYXJlRW1iZWRkZWRFbnRpdGllcygpO1xyXG4gICAgICAgIGxldCBpdGVtcyA9IHRoaXMuZ2V0RW1iZWRkZWRJdGVtcygpO1xyXG4gICAgICAgIGlmIChpdGVtcykge1xyXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZyA9ICh0aGlzLml0ZW1zIHx8IFtdKS5yZWR1Y2UoKG9iamVjdCwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0W2kuaWRdID0gaTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IGl0ZW1zLm1hcCgoaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkuX2lkIGluIGV4aXN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9IGV4aXN0aW5nW2kuX2lkXTtcclxuICAgICAgICAgICAgICAgICAgICBhLmRhdGEgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGEucHJlcGFyZURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlydHkgdGhpbmdzIGRvbmUgaGVyZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSXRlbS5jcmVhdGVPd25lZChpLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldE93bmVkSXRlbShpdGVtSWQpIHtcclxuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuaXRlbXM7XHJcbiAgICAgICAgaWYgKCFpdGVtcykgcmV0dXJuO1xyXG4gICAgICAgIHJldHVybiBpdGVtcy5maW5kKChpKSA9PiBpLl9pZCA9PT0gaXRlbUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVPd25lZEl0ZW0oY2hhbmdlcykge1xyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZHVwbGljYXRlKHRoaXMuZ2V0RW1iZWRkZWRJdGVtcygpKTtcclxuICAgICAgICBpZiAoIWl0ZW1zKSByZXR1cm47XHJcbiAgICAgICAgY2hhbmdlcyA9IEFycmF5LmlzQXJyYXkoY2hhbmdlcykgPyBjaGFuZ2VzIDogW2NoYW5nZXNdO1xyXG4gICAgICAgIGlmICghY2hhbmdlcyB8fCBjaGFuZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgICAgIGNoYW5nZXMuZm9yRWFjaCgoaXRlbUNoYW5nZXMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBpdGVtcy5maW5kSW5kZXgoKGkpID0+IGkuX2lkID09PSBpdGVtQ2hhbmdlcy5faWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtQ2hhbmdlcyA9IGV4cGFuZE9iamVjdChpdGVtQ2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICBtZXJnZU9iamVjdChpdGVtLCBpdGVtQ2hhbmdlcyk7XHJcbiAgICAgICAgICAgICAgICBpdGVtc1tpbmRleF0gPSBpdGVtO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5pdGVtc1tpbmRleF0uZGF0YSA9IGl0ZW1zW2luZGV4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLnNldEVtYmVkZGVkSXRlbXMoaXRlbXMpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZUVtYmVkZGVkRW50aXRpZXMoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVEYXRhKCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZUVtYmVkZGVkRW50aXR5KGVtYmVkZGVkTmFtZTogc3RyaW5nLCB1cGRhdGVEYXRhOiBvYmplY3QgfCBvYmplY3RbXSwgb3B0aW9ucz86IG9iamVjdCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlT3duZWRJdGVtKHVwZGF0ZURhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGFuIG93bmVkIGl0ZW1cclxuICAgICAqIEBwYXJhbSBkZWxldGVkXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZGVsZXRlT3duZWRJdGVtKGRlbGV0ZWQpIHtcclxuICAgICAgICBjb25zdCBpdGVtcyA9IGR1cGxpY2F0ZSh0aGlzLmdldEVtYmVkZGVkSXRlbXMoKSk7XHJcbiAgICAgICAgaWYgKCFpdGVtcykgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBpZHggPSBpdGVtcy5maW5kSW5kZXgoKGkpID0+IGkuX2lkID09PSBkZWxldGVkIHx8IE51bWJlcihpLl9pZCkgPT09IGRlbGV0ZWQpO1xyXG4gICAgICAgIGlmIChpZHggPT09IC0xKSB0aHJvdyBuZXcgRXJyb3IoYFNoYWRvd3J1bjVlIHwgQ291bGRuJ3QgZmluZCBvd25lZCBpdGVtICR7ZGVsZXRlZH1gKTtcclxuICAgICAgICBpdGVtcy5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICBhd2FpdCB0aGlzLnNldEVtYmVkZGVkSXRlbXMoaXRlbXMpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZUVtYmVkZGVkRW50aXRpZXMoKTtcclxuICAgICAgICBhd2FpdCB0aGlzLnByZXBhcmVEYXRhKCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9wZW5QZGZTb3VyY2UoKSB7XHJcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5nZXRCb29rU291cmNlKCk7XHJcbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICB1aS5ub3RpZmljYXRpb25zLmVycm9yKGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNvdXJjZUZpZWxkRW1wdHlFcnJvcicpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETyBvcGVuIFBERiB0byBjb3JyZWN0IGxvY2F0aW9uXHJcbiAgICAgICAgLy8gcGFyc2UgaG93ZXZlciB5b3UgbmVlZCwgYWxsIFwiYnV0dG9uc1wiIHdpbGwgbGVhZCB0byB0aGlzIGZ1bmN0aW9uXHJcbiAgICAgICAgY29uc3QgW2NvZGUsIHBhZ2VdID0gc291cmNlLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgdWkuUERGb3VuZHJ5Lm9wZW5QREZCeUNvZGUoY29kZSwgcGFyc2VJbnQocGFnZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQXJlYU9mRWZmZWN0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzR3JlbmFkZSgpIHx8ICh0aGlzLmlzU3BlbGwoKSAmJiB0aGlzLmRhdGEuZGF0YS5yYW5nZSA9PT0gJ2xvc19hJykgfHwgdGhpcy5oYXNFeHBsb3NpdmVBbW1vKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNHcmVuYWRlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ3dlYXBvbicgJiYgdGhpcy5kYXRhLmRhdGEudGhyb3duPy5ibGFzdD8ucmFkaXVzO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQ29tYmF0U3BlbGwoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTcGVsbCgpICYmIHRoaXMuZGF0YS5kYXRhLmNhdGVnb3J5ID09PSAnY29tYmF0JztcclxuICAgIH1cclxuXHJcbiAgICBpc1JhbmdlZFdlYXBvbigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnR5cGUgPT09ICd3ZWFwb24nICYmIHRoaXMuZGF0YS5kYXRhLmNhdGVnb3J5ID09PSAncmFuZ2UnO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU3BlbGwoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAnc3BlbGwnO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQ29tcGxleEZvcm0oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAnY29tcGxleF9mb3JtJztcclxuICAgIH1cclxuXHJcbiAgICBpc01lbGVlV2VhcG9uKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gJ3dlYXBvbicgJiYgdGhpcy5kYXRhLmRhdGEuY2F0ZWdvcnkgPT09ICdtZWxlZSc7XHJcbiAgICB9XHJcblxyXG4gICAgaXNFcXVpcHBlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEudGVjaG5vbG9neT8uZXF1aXBwZWQgfHwgZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Qm9va1NvdXJjZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5kZXNjcmlwdGlvbi5zb3VyY2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXR0YWNrRGF0YShoaXRzOiBudW1iZXIpOiBBdHRhY2tEYXRhIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAoIXRoaXMuZGF0YS5kYXRhLmFjdGlvbj8uZGFtYWdlKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnN0IGRhbWFnZSA9IHRoaXMuZGF0YS5kYXRhLmFjdGlvbi5kYW1hZ2U7XHJcbiAgICAgICAgY29uc3QgZGF0YTogQXR0YWNrRGF0YSA9IHtcclxuICAgICAgICAgICAgaGl0cyxcclxuICAgICAgICAgICAgZGFtYWdlOiBkYW1hZ2UsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNDb21iYXRTcGVsbCgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcmNlID0gdGhpcy5nZXRMYXN0U3BlbGxGb3JjZSgpLnZhbHVlO1xyXG4gICAgICAgICAgICBkYXRhLmZvcmNlID0gZm9yY2U7XHJcbiAgICAgICAgICAgIGRhdGEuZGFtYWdlLmJhc2UgPSBmb3JjZTtcclxuICAgICAgICAgICAgZGF0YS5kYW1hZ2UudmFsdWUgPSBmb3JjZSArIEhlbHBlcnMudG90YWxNb2RzKGRhdGEuZGFtYWdlLm1vZCk7XHJcbiAgICAgICAgICAgIGRhdGEuZGFtYWdlLmFwLnZhbHVlID0gLWZvcmNlICsgSGVscGVycy50b3RhbE1vZHMoZGF0YS5kYW1hZ2UubW9kKTtcclxuICAgICAgICAgICAgZGF0YS5kYW1hZ2UuYXAuYmFzZSA9IC1mb3JjZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxleEZvcm0oKSkge1xyXG4gICAgICAgICAgICBkYXRhLmxldmVsID0gdGhpcy5nZXRMYXN0Q29tcGxleEZvcm1MZXZlbCgpLnZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNZWxlZVdlYXBvbigpKSB7XHJcbiAgICAgICAgICAgIGRhdGEucmVhY2ggPSB0aGlzLmdldFJlYWNoKCk7XHJcbiAgICAgICAgICAgIGRhdGEuYWNjdXJhY3kgPSB0aGlzLmdldEFjdGlvbkxpbWl0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc1JhbmdlZFdlYXBvbigpKSB7XHJcbiAgICAgICAgICAgIGRhdGEuZmlyZU1vZGUgPSB0aGlzLmdldExhc3RGaXJlTW9kZSgpO1xyXG4gICAgICAgICAgICBkYXRhLmFjY3VyYWN5ID0gdGhpcy5nZXRBY3Rpb25MaW1pdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYmxhc3REYXRhID0gdGhpcy5nZXRCbGFzdERhdGEoKTtcclxuICAgICAgICBpZiAoYmxhc3REYXRhKSBkYXRhLmJsYXN0ID0gYmxhc3REYXRhO1xyXG5cclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBY3Rpb25Ta2lsbCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hY3Rpb24/LnNraWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFjdGlvbkF0dHJpYnV0ZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hY3Rpb24/LmF0dHJpYnV0ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBY3Rpb25BdHRyaWJ1dGUyKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLmFjdGlvbj8uYXR0cmlidXRlMjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSb2xsTmFtZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmFuZ2VkV2VhcG9uKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlJhbmdlV2VhcG9uQXR0YWNrJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzTWVsZWVXZWFwb24oKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTWVsZWVXZWFwb25BdHRhY2snKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNDb21iYXRTcGVsbCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5TcGVsbEF0dGFjaycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc1NwZWxsKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1LlNwZWxsQ2FzdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5oYXNSb2xsKSByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGltaXQoKTogTGltaXRGaWVsZCB7XHJcbiAgICAgICAgY29uc3QgbGltaXQgPSB0aGlzLmRhdGEuZGF0YS5hY3Rpb24/LmxpbWl0O1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ3dlYXBvbicpIHtcclxuICAgICAgICAgICAgbGltaXQubGFiZWwgPSAnU1I1LkFjY3VyYWN5JztcclxuICAgICAgICB9IGVsc2UgaWYgKGxpbWl0Py5hdHRyaWJ1dGUpIHtcclxuICAgICAgICAgICAgbGltaXQubGFiZWwgPSBDT05GSUcuU1I1LmF0dHJpYnV0ZXNbbGltaXQuYXR0cmlidXRlXTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNTcGVsbCgpKSB7XHJcbiAgICAgICAgICAgIGxpbWl0LnZhbHVlID0gdGhpcy5nZXRMYXN0U3BlbGxGb3JjZSgpLnZhbHVlO1xyXG4gICAgICAgICAgICBsaW1pdC5sYWJlbCA9ICdTUjUuRm9yY2UnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0NvbXBsZXhGb3JtKCkpIHtcclxuICAgICAgICAgICAgbGltaXQudmFsdWUgPSB0aGlzLmdldExhc3RDb21wbGV4Rm9ybUxldmVsKCkudmFsdWU7XHJcbiAgICAgICAgICAgIGxpbWl0LmxhYmVsID0gJ1NSNS5MZXZlbCc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGltaXQubGFiZWwgPSAnU1I1LkxpbWl0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxpbWl0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFjdGlvbkxpbWl0KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kYXRhLmFjdGlvbj8ubGltaXQ/LnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1vZGlmaWVyTGlzdCgpOiBNb2RMaXN0PG51bWJlcj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hY3Rpb24/LmRpY2VfcG9vbF9tb2QgfHwgW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWN0aW9uU3BlY2lhbGl6YXRpb24oKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhLmRhdGEuYWN0aW9uPy5zcGVjKSByZXR1cm4gJ1NSNS5TcGVjaWFsaXphdGlvbic7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXREcmFpbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5kcmFpbiB8fCAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZhZGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmRhdGEuZmFkZSB8fCAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlY29pbENvbXBlbnNhdGlvbihpbmNsdWRlQWN0b3I6IGJvb2xlYW4gPSB0cnVlKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgYmFzZSA9IHBhcnNlSW50KHRoaXMuZGF0YS5kYXRhLnJhbmdlLnJjLnZhbHVlKTtcclxuICAgICAgICBpZiAoaW5jbHVkZUFjdG9yKSBiYXNlICs9IHBhcnNlSW50KHRoaXMuYWN0b3IuZGF0YS5kYXRhLnJlY29pbF9jb21wZW5zYXRpb24pO1xyXG4gICAgICAgIHJldHVybiBiYXNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlYWNoKCk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNNZWxlZVdlYXBvbigpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5tZWxlZT8ucmVhY2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGhhc0V4cGxvc2l2ZUFtbW8oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgYW1tbyA9IHRoaXMuZ2V0RXF1aXBwZWRBbW1vKCk7XHJcbiAgICAgICAgcmV0dXJuIGFtbW8/LmRhdGE/LmRhdGE/LmJsYXN0Py5yYWRpdXMgPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGhhc0RlZmVuc2VUZXN0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZGF0YS5hY3Rpb24/Lm9wcG9zZWQ/LnR5cGUgPT09ICdkZWZlbnNlJztcclxuICAgIH1cclxuXHJcbiAgICBnZXRPcHBvc2VkVGVzdE1vZCgpOiBNb2RMaXN0PG51bWJlcj4ge1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0ge307XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzRGVmZW5zZVRlc3QoKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0FyZWFPZkVmZmVjdCgpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0c1snU1I1LkFvZSddID0gLTI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNSYW5nZWRXZWFwb24oKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlyZU1vZGVEYXRhID0gdGhpcy5nZXRMYXN0RmlyZU1vZGUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJlTW9kZURhdGE/LmRlZmVuc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZU1vZGVEYXRhLmRlZmVuc2UgIT09ICdTUjUuRHVja09yQ292ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcmVNb2RlID0gK2ZpcmVNb2RlRGF0YS5kZWZlbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZU1vZGUpIHBhcnRzWydTUjUuRmlyZU1vZGUnXSA9IGZpcmVNb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFydHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0T3Bwb3NlZFRlc3RNb2RpZmllcigpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHRlc3RNb2QgPSB0aGlzLmdldE9wcG9zZWRUZXN0TW9kKCk7XHJcbiAgICAgICAgY29uc3QgdG90YWwgPSBIZWxwZXJzLnRvdGFsTW9kcyh0ZXN0TW9kKTtcclxuICAgICAgICBpZiAodG90YWwpIHJldHVybiBgKCR7dG90YWx9KWA7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmFuZ2VkV2VhcG9uKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpcmVNb2RlRGF0YSA9IHRoaXMuZ2V0TGFzdEZpcmVNb2RlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlyZU1vZGVEYXRhPy5kZWZlbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcmVNb2RlRGF0YS5kZWZlbnNlID09PSAnU1I1LkR1Y2tPckNvdmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuRHVja09yQ292ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEJsYXN0RGF0YSgpOiBCbGFzdERhdGEgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIC8vIGNhbiBvbmx5IGhhbmRsZSBzcGVsbHMgYW5kIGdyZW5hZGUgcmlnaHQgbm93XHJcbiAgICAgICAgaWYgKHRoaXMuaXNTcGVsbCgpICYmIHRoaXMuaXNBcmVhT2ZFZmZlY3QoKSkge1xyXG4gICAgICAgICAgICAvLyBkaXN0YW5jZSBvbiBzcGVsbHMgaXMgZXF1YWwgdG8gZm9yY2VcclxuICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gdGhpcy5nZXRMYXN0U3BlbGxGb3JjZSgpLnZhbHVlO1xyXG4gICAgICAgICAgICAvLyBleHRlbmRlZCBzcGVsbHMgbXVsdGlwbHkgYnkgMTBcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5kYXRhLmV4dGVuZGVkKSBkaXN0YW5jZSAqPSAxMDtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHJhZGl1czogZGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgICBkcm9wb2ZmOiAwLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0dyZW5hZGUoKSkge1xyXG4gICAgICAgICAgICAvLyB1c2UgYmxhc3QgcmFkaXVzXHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5kYXRhLmRhdGEudGhyb3duLmJsYXN0LnJhZGl1cztcclxuICAgICAgICAgICAgY29uc3QgZHJvcG9mZiA9IHRoaXMuZGF0YS5kYXRhLnRocm93bi5ibGFzdC5kcm9wb2ZmO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiBkaXN0YW5jZSxcclxuICAgICAgICAgICAgICAgIGRyb3BvZmY6IGRyb3BvZmYsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc0V4cGxvc2l2ZUFtbW8oKSkge1xyXG4gICAgICAgICAgICBjb25zdCBhbW1vID0gdGhpcy5nZXRFcXVpcHBlZEFtbW8oKTtcclxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBhbW1vLmRhdGEuZGF0YS5ibGFzdC5yYWRpdXM7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyb3BvZmYgPSBhbW1vLmRhdGEuZGF0YS5ibGFzdC5kcm9wb2ZmO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiBkaXN0YW5jZSxcclxuICAgICAgICAgICAgICAgIGRyb3BvZmYsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3ZlcnJpZGUgc2V0RmxhZyB0byByZW1vdmUgdGhlICdTUjUuJyBmcm9tIGtleXMgaW4gbW9kbGlzdHMsIG90aGVyd2lzZSBpdCBoYW5kbGVzIHRoZW0gYXMgZW1iZWRkZWQga2V5c1xyXG4gICAgICogQHBhcmFtIHNjb3BlXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0RmxhZyhzY29wZTogc3RyaW5nLCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IFByb21pc2U8RW50aXR5PiB7XHJcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBIZWxwZXJzLm9uU2V0RmxhZyh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNldEZsYWcoc2NvcGUsIGtleSwgbmV3VmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3ZlcnJpZGUgZ2V0RmxhZyB0byBhZGQgYmFjayB0aGUgJ1NSNS4nIGtleXMgY29ycmVjdGx5IHRvIGJlIGhhbmRsZWRcclxuICAgICAqIEBwYXJhbSBzY29wZVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBnZXRGbGFnKHNjb3BlOiBzdHJpbmcsIGtleTogc3RyaW5nKTogYW55IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gc3VwZXIuZ2V0RmxhZyhzY29wZSwga2V5KTtcclxuICAgICAgICByZXR1cm4gSGVscGVycy5vbkdldEZsYWcoZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSGVscGVycyB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5pbXBvcnQgeyBTUjVJdGVtIH0gZnJvbSAnLi9TUjVJdGVtJztcclxuXHJcbi8qKlxyXG4gKiBFeHRlbmQgdGhlIGJhc2ljIEl0ZW1TaGVldCB3aXRoIHNvbWUgdmVyeSBzaW1wbGUgbW9kaWZpY2F0aW9uc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNSNUl0ZW1TaGVldCBleHRlbmRzIEl0ZW1TaGVldCB7XHJcbiAgICBpdGVtOiBTUjVJdGVtO1xyXG4gICAgcHJpdmF0ZSBfc2hvd25EZXNjOiBhbnlbXTtcclxuICAgIHByaXZhdGUgX3Njcm9sbDogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xyXG4gICAgICAgIHRoaXMuX3Nob3duRGVzYyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVtYmVkZGVkSXRlbXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbS5pdGVtcyB8fCBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4dGVuZCBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB1c2VkIGJ5IHRoZSBTaW1wbGUgSXRlbSBTaGVldFxyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3Qoc3VwZXIuZGVmYXVsdE9wdGlvbnMsIHtcclxuICAgICAgICAgICAgY2xhc3NlczogWydzcjUnLCAnc2hlZXQnLCAnaXRlbSddLFxyXG4gICAgICAgICAgICB3aWR0aDogNjUwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDQ1MCxcclxuICAgICAgICAgICAgdGFiczogW3sgbmF2U2VsZWN0b3I6ICcudGFicycsIGNvbnRlbnRTZWxlY3RvcjogJy5zaGVldGJvZHknIH1dLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0ZW1wbGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gJ3N5c3RlbXMvc2hhZG93cnVuNWUvZGlzdC90ZW1wbGF0ZXMvaXRlbS8nO1xyXG4gICAgICAgIHJldHVybiBgJHtwYXRofSR7dGhpcy5pdGVtLmRhdGEudHlwZX0uaHRtbGA7XHJcbiAgICB9XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBhcmUgZGF0YSBmb3IgcmVuZGVyaW5nIHRoZSBJdGVtIHNoZWV0XHJcbiAgICAgKiBUaGUgcHJlcGFyZWQgZGF0YSBvYmplY3QgY29udGFpbnMgYm90aCB0aGUgYWN0b3IgZGF0YSBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgc2hlZXQgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBnZXREYXRhKCkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBzdXBlci5nZXREYXRhKCk7XHJcbiAgICAgICAgY29uc3QgaXRlbURhdGEgPSBkYXRhLmRhdGE7XHJcblxyXG4gICAgICAgIGlmIChpdGVtRGF0YS5hY3Rpb24pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgYWN0aW9uIH0gPSBpdGVtRGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24ubW9kID09PSAwKSBkZWxldGUgYWN0aW9uLm1vZDtcclxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24ubGltaXQgPT09IDApIGRlbGV0ZSBhY3Rpb24ubGltaXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmRhbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZGFtYWdlLm1vZCA9PT0gMCkgZGVsZXRlIGFjdGlvbi5kYW1hZ2UubW9kO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uZGFtYWdlLmFwLm1vZCA9PT0gMCkgZGVsZXRlIGFjdGlvbi5kYW1hZ2UuYXAubW9kO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5saW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24ubGltaXQubW9kID09PSAwKSBkZWxldGUgYWN0aW9uLmxpbWl0Lm1vZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGl0ZW1EYXRhLnRlY2hub2xvZ3kpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlY2ggPSBpdGVtRGF0YS50ZWNobm9sb2d5O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRlY2gucmF0aW5nID09PSAwKSBkZWxldGUgdGVjaC5yYXRpbmc7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVjaC5xdWFudGl0eSA9PT0gMCkgZGVsZXRlIHRlY2gucXVhbnRpdHk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVjaC5jb3N0ID09PSAwKSBkZWxldGUgdGVjaC5jb3N0O1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGF0YVsnY29uZmlnJ10gPSBDT05GSUcuU1I1O1xyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRFbWJlZGRlZEl0ZW1zKCk7XHJcbiAgICAgICAgY29uc3QgW2FtbXVuaXRpb24sIHdlYXBvbk1vZHMsIGFybW9yTW9kc10gPSBpdGVtcy5yZWR1Y2UoXHJcbiAgICAgICAgICAgIChwYXJ0czogW0Jhc2VFbnRpdHlEYXRhW10sIEJhc2VFbnRpdHlEYXRhW10sIEJhc2VFbnRpdHlEYXRhW11dLCBpdGVtOiBTUjVJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnYW1tbycpIHBhcnRzWzBdLnB1c2goaXRlbS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtb2RpZmljYXRpb24nICYmIGl0ZW0uZGF0YS5kYXRhLnR5cGUgPT09ICd3ZWFwb24nKSBwYXJ0c1sxXS5wdXNoKGl0ZW0uZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbW9kaWZpY2F0aW9uJyAmJiBpdGVtLmRhdGEuZGF0YS50eXBlID09PSAnYXJtb3InKSBwYXJ0c1syXS5wdXNoKGl0ZW0uZGF0YSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydHM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFtbXSwgW10sIFtdXSxcclxuICAgICAgICApO1xyXG4gICAgICAgIGRhdGFbJ2FtbXVuaXRpb24nXSA9IGFtbXVuaXRpb247XHJcbiAgICAgICAgZGF0YVsnd2VhcG9uTW9kcyddID0gd2VhcG9uTW9kcztcclxuICAgICAgICBkYXRhWydhcm1vck1vZHMnXSA9IGFybW9yTW9kcztcclxuICAgICAgICAvLyBUT0RPIHNldCB0byB0aGUgcHJvcGVyIGJvb2xlYW4gZm9yIGlmIHRoZSBzb3VyY2UgUERGIGNhbiBiZSBhY2Nlc3NlZFxyXG4gICAgICAgIC8vIEknbSB0aGlua2luZyBtYXliZSBjaGVjayBmb3IgdGhlIG1vZCBiZWluZyBpbnN0YWxsZWQ/XHJcbiAgICAgICAgZGF0YVsnaGFzU291cmNlUGRmQXZhaWxhYmxlJ10gPSB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWN0aXZhdGUgZXZlbnQgbGlzdGVuZXJzIHVzaW5nIHRoZSBwcmVwYXJlZCBzaGVldCBIVE1MXHJcbiAgICAgKiBAcGFyYW0gaHRtbCB7SFRNTH0gICBUaGUgcHJlcGFyZWQgSFRNTCBvYmplY3QgcmVhZHkgdG8gYmUgcmVuZGVyZWQgaW50byB0aGUgRE9NXHJcbiAgICAgKi9cclxuICAgIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWwpIHtcclxuICAgICAgICBzdXBlci5hY3RpdmF0ZUxpc3RlbmVycyhodG1sKTtcclxuICAgICAgICBpZiAodGhpcy5pdGVtLnR5cGUgPT09ICd3ZWFwb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5vbmRyYWdvdmVyID0gKGV2ZW50KSA9PiB0aGlzLl9vbkRyYWdPdmVyKGV2ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLm9uZHJvcCA9IChldmVudCkgPT4gdGhpcy5fb25Ecm9wKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaHRtbC5maW5kKCcuYWRkLW5ldy1hbW1vJykuY2xpY2sodGhpcy5fb25BZGROZXdBbW1vLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLmFtbW8tZXF1aXAnKS5jbGljayh0aGlzLl9vbkFtbW9FcXVpcC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5hbW1vLWRlbGV0ZScpLmNsaWNrKHRoaXMuX29uQW1tb1JlbW92ZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5hbW1vLXJlbG9hZCcpLmNsaWNrKHRoaXMuX29uQW1tb1JlbG9hZC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgaHRtbC5maW5kKCcuZWRpdC1pdGVtJykuY2xpY2sodGhpcy5fb25FZGl0SXRlbS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgaHRtbC5maW5kKCcuYWRkLW5ldy1tb2QnKS5jbGljayh0aGlzLl9vbkFkZFdlYXBvbk1vZC5iaW5kKHRoaXMpKTtcclxuICAgICAgICBodG1sLmZpbmQoJy5tb2QtZXF1aXAnKS5jbGljayh0aGlzLl9vbldlYXBvbk1vZEVxdWlwLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLm1vZC1kZWxldGUnKS5jbGljayh0aGlzLl9vbldlYXBvbk1vZFJlbW92ZS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgaHRtbC5maW5kKCcuYWRkLW5ldy1saWNlbnNlJykuY2xpY2sodGhpcy5fb25BZGRMaWNlbnNlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGh0bWwuZmluZCgnLmxpY2Vuc2UtZGVsZXRlJykub24oJ2NsaWNrJywgdGhpcy5fb25SZW1vdmVMaWNlbnNlLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICBodG1sLmZpbmQoJy5vcGVuLXNvdXJjZS1wZGYnKS5vbignY2xpY2snLCB0aGlzLl9vbk9wZW5Tb3VyY2VQZGYuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIGh0bWwuZmluZCgnLmhhcy1kZXNjJykuY2xpY2soKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5pdGVtJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlpZCA9ICQoaXRlbSkuZGF0YSgpLml0ZW07XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gaXRlbS5uZXh0KCk7XHJcbiAgICAgICAgICAgIGZpZWxkLnRvZ2dsZSgpO1xyXG4gICAgICAgICAgICBpZiAoaWlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXMoJzp2aXNpYmxlJykpIHRoaXMuX3Nob3duRGVzYy5wdXNoKGlpZCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuX3Nob3duRGVzYyA9IHRoaXMuX3Nob3duRGVzYy5maWx0ZXIoKHZhbCkgPT4gdmFsICE9PSBpaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGh0bWwuZmluZCgnLmhpZGRlbicpLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBfb25EcmFnT3ZlcihldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIF9vbkRyb3AoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGxldCBkYXRhO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJykpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlICE9PSAnSXRlbScpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTaGFkb3dydW41ZSB8IENhbiBvbmx5IGRyb3AgSXRlbXMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2hhZG93cnVuNWUgfCBkcm9wIGVycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpdGVtO1xyXG4gICAgICAgIC8vIENhc2UgMSAtIERhdGEgZXhwbGljaXRseSBwcm92aWRlZFxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEpIHtcclxuICAgICAgICAgICAgLy8gVE9ETyB0ZXN0XHJcbiAgICAgICAgICAgIGlmICh0aGlzLml0ZW0uaXNPd25lZCAmJiBkYXRhLmFjdG9ySWQgPT09IHRoaXMuaXRlbS5hY3Rvcj8uX2lkICYmIGRhdGEuZGF0YS5faWQgPT09IHRoaXMuaXRlbS5faWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTaGFkb3dydW41ZSB8IENhbnQgZHJvcCBpdGVtIG9uIGl0c2VsZicpO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucy5lcnJvcignQXJlIHlvdSB0cnlpbmcgdG8gYnJlYWsgdGhlIGdhbWU/PycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGl0ZW0gPSBkYXRhO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wYWNrKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAvLyBDYXNlIDIgLSBGcm9tIGEgQ29tcGVuZGl1bSBQYWNrXHJcbiAgICAgICAgICAgIC8vIFRPRE8gdGVzdFxyXG4gICAgICAgICAgICBpdGVtID0gYXdhaXQgdGhpcy5fZ2V0SXRlbUZyb21Db2xsZWN0aW9uKGRhdGEucGFjaywgZGF0YS5pZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQ2FzZSAzIC0gRnJvbSBhIFdvcmxkIEVudGl0eVxyXG4gICAgICAgICAgICBpdGVtID0gZ2FtZS5pdGVtcy5nZXQoZGF0YS5pZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLml0ZW0uY3JlYXRlT3duZWRJdGVtKGl0ZW0uZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldEl0ZW1Gcm9tQ29sbGVjdGlvbihjb2xsZWN0aW9uLCBpdGVtSWQpIHtcclxuICAgICAgICBjb25zdCBwYWNrID0gZ2FtZS5wYWNrcy5maW5kKChwKSA9PiBwLmNvbGxlY3Rpb24gPT09IGNvbGxlY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiBwYWNrLmdldEVudGl0eShpdGVtSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIF9ldmVudElkKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICByZXR1cm4gZXZlbnQuY3VycmVudFRhcmdldC5jbG9zZXN0KCcuaXRlbScpLmRhdGFzZXQuaXRlbUlkO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIF9vbk9wZW5Tb3VyY2VQZGYoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuaXRlbS5vcGVuUGRmU291cmNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uRWRpdEl0ZW0oZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtLmdldE93bmVkSXRlbSh0aGlzLl9ldmVudElkKGV2ZW50KSk7XHJcbiAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbS5zaGVldC5yZW5kZXIodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIF9vbkFkZExpY2Vuc2UoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuaXRlbS5hZGROZXdMaWNlbnNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uUmVtb3ZlTGljZW5zZShldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XHJcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHRoaXMuaXRlbS5yZW1vdmVMaWNlbnNlKGluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBfb25XZWFwb25Nb2RSZW1vdmUoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLml0ZW0uZGVsZXRlT3duZWRJdGVtKHRoaXMuX2V2ZW50SWQoZXZlbnQpKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBfb25XZWFwb25Nb2RFcXVpcChldmVudCkge1xyXG4gICAgICAgIHRoaXMuaXRlbS5lcXVpcFdlYXBvbk1vZCh0aGlzLl9ldmVudElkKGV2ZW50KSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uQWRkV2VhcG9uTW9kKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCB0eXBlID0gJ21vZGlmaWNhdGlvbic7XHJcbiAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGBOZXcgJHtIZWxwZXJzLmxhYmVsKHR5cGUpfWAsXHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgIGRhdGE6IGR1cGxpY2F0ZShnYW1lLnN5c3RlbS5tb2RlbC5JdGVtLm1vZGlmaWNhdGlvbiksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpdGVtRGF0YS5kYXRhLnR5cGUgPSAnd2VhcG9uJztcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY29uc3QgaXRlbSA9IEl0ZW0uY3JlYXRlT3duZWQoaXRlbURhdGEsIHRoaXMuaXRlbSk7XHJcbiAgICAgICAgdGhpcy5pdGVtLmNyZWF0ZU93bmVkSXRlbShpdGVtLmRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIF9vbkFtbW9SZWxvYWQoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuaXRlbS5yZWxvYWRBbW1vKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgX29uQW1tb1JlbW92ZShldmVudCkge1xyXG4gICAgICAgIHRoaXMuaXRlbS5kZWxldGVPd25lZEl0ZW0odGhpcy5fZXZlbnRJZChldmVudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIF9vbkFtbW9FcXVpcChldmVudCkge1xyXG4gICAgICAgIHRoaXMuaXRlbS5lcXVpcEFtbW8odGhpcy5fZXZlbnRJZChldmVudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9vbkFkZE5ld0FtbW8oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSAnYW1tbyc7XHJcbiAgICAgICAgY29uc3QgaXRlbURhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGBOZXcgJHtIZWxwZXJzLmxhYmVsKHR5cGUpfWAsXHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgIGRhdGE6IGR1cGxpY2F0ZShnYW1lLnN5c3RlbS5tb2RlbC5JdGVtLmFtbW8pLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBJdGVtLmNyZWF0ZU93bmVkKGl0ZW1EYXRhLCB0aGlzLml0ZW0pO1xyXG4gICAgICAgIHRoaXMuaXRlbS5jcmVhdGVPd25lZEl0ZW0oaXRlbS5kYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIF9maW5kQWN0aXZlTGlzdCgpIHtcclxuICAgICAgICByZXR1cm4gJCh0aGlzLmVsZW1lbnQpLmZpbmQoJy50YWIuYWN0aXZlIC5zY3JvbGwtYXJlYScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgYXN5bmMgX3JlbmRlcihmb3JjZSA9IGZhbHNlLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICB0aGlzLl9zYXZlU2Nyb2xsUG9zaXRpb25zKCk7XHJcbiAgICAgICAgYXdhaXQgc3VwZXIuX3JlbmRlcihmb3JjZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fcmVzdG9yZVNjcm9sbFBvc2l0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgX3Jlc3RvcmVTY3JvbGxQb3NpdGlvbnMoKSB7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlTGlzdCA9IHRoaXMuX2ZpbmRBY3RpdmVMaXN0KCk7XHJcbiAgICAgICAgaWYgKGFjdGl2ZUxpc3QubGVuZ3RoICYmIHRoaXMuX3Njcm9sbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZUxpc3QucHJvcCgnc2Nyb2xsVG9wJywgdGhpcy5fc2Nyb2xsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBfc2F2ZVNjcm9sbFBvc2l0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBhY3RpdmVMaXN0ID0gdGhpcy5fZmluZEFjdGl2ZUxpc3QoKTtcclxuICAgICAgICBpZiAoYWN0aXZlTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsID0gYWN0aXZlTGlzdC5wcm9wKCdzY3JvbGxUb3AnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU1I1SXRlbVNoZWV0IH0gZnJvbSAnLi9pdGVtL1NSNUl0ZW1TaGVldCc7XHJcbmltcG9ydCB7IFNSNUFjdG9yU2hlZXQgfSBmcm9tICcuL2FjdG9yL1NSNUFjdG9yU2hlZXQnO1xyXG5pbXBvcnQgeyBTUjVBY3RvciB9IGZyb20gJy4vYWN0b3IvU1I1QWN0b3InO1xyXG5pbXBvcnQgeyBTUjVJdGVtIH0gZnJvbSAnLi9pdGVtL1NSNUl0ZW0nO1xyXG5pbXBvcnQgeyBTUjUgfSBmcm9tICcuL2NvbmZpZyc7XHJcbmltcG9ydCB7IEhlbHBlcnMgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgeyByZWdpc3RlclN5c3RlbVNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncyc7XHJcbmltcG9ydCB7IHByZUNvbWJhdFVwZGF0ZSwgc2hhZG93cnVuQ29tYmF0VXBkYXRlIH0gZnJvbSAnLi9jb21iYXQnO1xyXG5pbXBvcnQgeyBtZWFzdXJlRGlzdGFuY2UgfSBmcm9tICcuL2NhbnZhcyc7XHJcbmltcG9ydCB7IE92ZXJ3YXRjaFNjb3JlVHJhY2tlciB9IGZyb20gJy4vYXBwcy9nbXRvb2xzL092ZXJ3YXRjaFNjb3JlVHJhY2tlcic7XHJcbmltcG9ydCB7IHJlZ2lzdGVySGFuZGxlYmFySGVscGVycywgcHJlbG9hZEhhbmRsZWJhcnNUZW1wbGF0ZXMgfSBmcm9tICcuL2hhbmRsZWJhcnMnO1xyXG5pbXBvcnQgeyBNaWdyYXRvciB9IGZyb20gJy4vbWlncmF0b3IvTWlncmF0b3InO1xyXG5pbXBvcnQgeyBTWVNURU1fTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8qICBCcm93c2VyIEluaXRpYWxpemF0aW9uICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbmltcG9ydCB7IHJlZ2lzdGVyQ3VzdG9tRWxlbWVudHMgfSBmcm9tICcuL3JvbGxzL3V0aWwvUmVnaXN0cmF0aW9uSGVscGVyJztcclxucmVnaXN0ZXJDdXN0b21FbGVtZW50cygpO1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuLyogIEZvdW5kcnkgVlRUIEluaXRpYWxpemF0aW9uICAgICAgICAgICAgICAgICAgKi9cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbkhvb2tzLm9uY2UoJ2luaXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnTG9hZGluZyBTaGFkb3dydW4gNWUgU3lzdGVtJyk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgc2hhZG93cnVuNWUgbmFtZXNwYWNlIHdpdGhpbiB0aGUgZ2FtZSBnbG9iYWxcclxuICAgIGdhbWVbJ3NoYWRvd3J1bjVlJ10gPSB7XHJcbiAgICAgICAgU1I1QWN0b3IsXHJcbiAgICAgICAgU1I1SXRlbSxcclxuICAgICAgICByb2xsSXRlbU1hY3JvLFxyXG4gICAgfTtcclxuXHJcbiAgICBDT05GSUcuU1I1ID0gU1I1O1xyXG4gICAgQ09ORklHLkFjdG9yLmVudGl0eUNsYXNzID0gU1I1QWN0b3I7XHJcbiAgICBDT05GSUcuSXRlbS5lbnRpdHlDbGFzcyA9IFNSNUl0ZW07XHJcblxyXG4gICAgcmVnaXN0ZXJTeXN0ZW1TZXR0aW5ncygpO1xyXG5cclxuICAgIC8vIFJlZ2lzdGVyIHNoZWV0IGFwcGxpY2F0aW9uIGNsYXNzZXNcclxuICAgIEFjdG9ycy51bnJlZ2lzdGVyU2hlZXQoJ2NvcmUnLCBBY3RvclNoZWV0KTtcclxuICAgIEFjdG9ycy5yZWdpc3RlclNoZWV0KFNZU1RFTV9OQU1FLCBTUjVBY3RvclNoZWV0LCB7IG1ha2VEZWZhdWx0OiB0cnVlIH0pO1xyXG4gICAgSXRlbXMudW5yZWdpc3RlclNoZWV0KCdjb3JlJywgSXRlbVNoZWV0KTtcclxuICAgIEl0ZW1zLnJlZ2lzdGVyU2hlZXQoU1lTVEVNX05BTUUsIFNSNUl0ZW1TaGVldCwgeyBtYWtlRGVmYXVsdDogdHJ1ZSB9KTtcclxuXHJcbiAgICBbJ3JlbmRlclNSNUFjdG9yU2hlZXQnLCAncmVuZGVyU1I1SXRlbVNoZWV0J10uZm9yRWFjaCgocykgPT4ge1xyXG4gICAgICAgIEhvb2tzLm9uKHMsIChhcHAsIGh0bWwpID0+IEhlbHBlcnMuc2V0dXBDdXN0b21DaGVja2JveChhcHAsIGh0bWwpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHByZWxvYWRIYW5kbGViYXJzVGVtcGxhdGVzKCk7XHJcblxyXG4gICAgLy8gQ09ORklHLmRlYnVnLmhvb2tzID0gdHJ1ZTtcclxufSk7XHJcblxyXG5Ib29rcy5vbignY2FudmFzSW5pdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIHRoaXMgZG9lcyBhY3R1YWxseSBleGlzdC4gRml4IGluIHR5cGVzP1xyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgU3F1YXJlR3JpZC5wcm90b3R5cGUubWVhc3VyZURpc3RhbmNlID0gbWVhc3VyZURpc3RhbmNlO1xyXG59KTtcclxuXHJcbkhvb2tzLm9uKCdyZWFkeScsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIHRoaXMgaXMgY29ycmVjdCwgd2lsbCBuZWVkIHRvIGJlIGZpeGVkIGluIGZvdW5kcnkgdHlwZXNcclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGdhbWUuc29ja2V0Lm9uKCdzeXN0ZW0uc2hhZG93cnVuNWUnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGlmIChnYW1lLnVzZXIuaXNHTSAmJiBkYXRhLmdtQ29tYmF0VXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHNoYWRvd3J1bkNvbWJhdFVwZGF0ZShkYXRhLmdtQ29tYmF0VXBkYXRlLmNoYW5nZXMsIGRhdGEuZ21Db21iYXRVcGRhdGUub3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGdhbWUudXNlci5pc0dNKSB7XHJcbiAgICAgICAgTWlncmF0b3IuQmVnaW5NaWdyYXRpb24oKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5Ib29rcy5vbigncHJlVXBkYXRlQ29tYmF0JywgcHJlQ29tYmF0VXBkYXRlKTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8qICBIb3RiYXIgTWFjcm9zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5Ib29rcy5vbignaG90YmFyRHJvcCcsIChiYXIsIGRhdGEsIHNsb3QpID0+IHtcclxuICAgIGlmIChkYXRhLnR5cGUgIT09ICdJdGVtJykgcmV0dXJuO1xyXG5cclxuICAgIGNyZWF0ZUl0ZW1NYWNybyhkYXRhLmRhdGEsIHNsb3QpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59KTtcclxuXHJcbkhvb2tzLm9uKCdyZW5kZXJTY2VuZUNvbnRyb2xzJywgKGNvbnRyb2xzLCBodG1sKSA9PiB7XHJcbiAgICBodG1sLmZpbmQoJ1tkYXRhLXRvb2w9XCJvdmVyd2F0Y2gtc2NvcmUtdHJhY2tlclwiXScpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbmV3IE92ZXJ3YXRjaFNjb3JlVHJhY2tlcigpLnJlbmRlcih0cnVlKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbkhvb2tzLm9uKCdnZXRTY2VuZUNvbnRyb2xCdXR0b25zJywgKGNvbnRyb2xzKSA9PiB7XHJcbiAgICBpZiAoZ2FtZS51c2VyLmlzR00pIHtcclxuICAgICAgICBjb25zdCB0b2tlbkNvbnRyb2xzID0gY29udHJvbHMuZmluZCgoYykgPT4gYy5uYW1lID09PSAndG9rZW4nKTtcclxuICAgICAgICB0b2tlbkNvbnRyb2xzLnRvb2xzLnB1c2goe1xyXG4gICAgICAgICAgICBuYW1lOiAnb3ZlcndhdGNoLXNjb3JlLXRyYWNrZXInLFxyXG4gICAgICAgICAgICB0aXRsZTogJ0NPTlRST0xTLlNSNS5PdmVyd2F0Y2hTY29yZVRyYWNrZXInLFxyXG4gICAgICAgICAgICBpY29uOiAnZmFzIGZhLW5ldHdvcmstd2lyZWQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBNYWNybyBmcm9tIGFuIEl0ZW0gZHJvcC5cclxuICogR2V0IGFuIGV4aXN0aW5nIGl0ZW0gbWFjcm8gaWYgb25lIGV4aXN0cywgb3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBvbmUuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtICAgICBUaGUgaXRlbSBkYXRhXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzbG90ICAgICBUaGUgaG90YmFyIHNsb3QgdG8gdXNlXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlSXRlbU1hY3JvKGl0ZW0sIHNsb3QpIHtcclxuICAgIGNvbnN0IGNvbW1hbmQgPSBgZ2FtZS5zaGFkb3dydW41ZS5yb2xsSXRlbU1hY3JvKFwiJHtpdGVtLm5hbWV9XCIpO2A7XHJcbiAgICBsZXQgbWFjcm8gPSBnYW1lLm1hY3Jvcy5lbnRpdGllcy5maW5kKChtKSA9PiBtLm5hbWUgPT09IGl0ZW0ubmFtZSk7XHJcbiAgICBpZiAoIW1hY3JvKSB7XHJcbiAgICAgICAgbWFjcm8gPSAoYXdhaXQgTWFjcm8uY3JlYXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2NyaXB0JyxcclxuICAgICAgICAgICAgICAgIGltZzogaXRlbS5pbWcsXHJcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBjb21tYW5kLFxyXG4gICAgICAgICAgICAgICAgZmxhZ3M6IHsgJ3NoYWRvd3J1bjVlLml0ZW1NYWNybyc6IHRydWUgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeyBkaXNwbGF5U2hlZXQ6IGZhbHNlIH0sXHJcbiAgICAgICAgKSkgYXMgTWFjcm87XHJcbiAgICB9XHJcbiAgICBpZiAobWFjcm8pIGdhbWUudXNlci5hc3NpZ25Ib3RiYXJNYWNybyhtYWNybywgc2xvdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBNYWNybyBmcm9tIGFuIEl0ZW0gZHJvcC5cclxuICogR2V0IGFuIGV4aXN0aW5nIGl0ZW0gbWFjcm8gaWYgb25lIGV4aXN0cywgb3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBvbmUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpdGVtTmFtZVxyXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxyXG4gKi9cclxuZnVuY3Rpb24gcm9sbEl0ZW1NYWNybyhpdGVtTmFtZSkge1xyXG4gICAgY29uc3Qgc3BlYWtlciA9IENoYXRNZXNzYWdlLmdldFNwZWFrZXIoKTtcclxuICAgIGxldCBhY3RvcjtcclxuICAgIGlmIChzcGVha2VyLnRva2VuKSBhY3RvciA9IGdhbWUuYWN0b3JzLnRva2Vuc1tzcGVha2VyLnRva2VuXTtcclxuICAgIGlmICghYWN0b3IpIGFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KHNwZWFrZXIuYWN0b3IpO1xyXG4gICAgY29uc3QgaXRlbSA9IGFjdG9yID8gYWN0b3IuaXRlbXMuZmluZCgoaSkgPT4gaS5uYW1lID09PSBpdGVtTmFtZSkgOiBudWxsO1xyXG4gICAgaWYgKCFpdGVtKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiB1aS5ub3RpZmljYXRpb25zLndhcm4oYFlvdXIgY29udHJvbGxlZCBBY3RvciBkb2VzIG5vdCBoYXZlIGFuIGl0ZW0gbmFtZWQgJHtpdGVtTmFtZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXRlbS5yb2xsVGVzdChldmVudCk7XHJcbn1cclxuXHJcbnJlZ2lzdGVySGFuZGxlYmFySGVscGVycygpO1xyXG4iLCJpbXBvcnQgeyBWZXJzaW9uTWlncmF0aW9uIH0gZnJvbSAnLi9WZXJzaW9uTWlncmF0aW9uJztcclxuaW1wb3J0IHsgTGVnYWN5TWlncmF0aW9uIH0gZnJvbSAnLi92ZXJzaW9ucy9MZWdhY3lNaWdyYXRpb24nO1xyXG5pbXBvcnQgeyBWZXJzaW9uMF82XzUgfSBmcm9tICcuL3ZlcnNpb25zL1ZlcnNpb24wXzZfNSc7XHJcblxyXG50eXBlIFZlcnNpb25EZWZpbml0aW9uID0ge1xyXG4gICAgdmVyc2lvbk51bWJlcjogc3RyaW5nO1xyXG4gICAgbWlncmF0aW9uOiBWZXJzaW9uTWlncmF0aW9uO1xyXG59O1xyXG5leHBvcnQgY2xhc3MgTWlncmF0b3Ige1xyXG4gICAgLy8gTWFwIG9mIGFsbCB2ZXJzaW9uIG1pZ3JhdGlvbnMgdG8gdGhlaXIgdGFyZ2V0IHZlcnNpb24gbnVtYmVycy5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHNfVmVyc2lvbnM6IFZlcnNpb25EZWZpbml0aW9uW10gPSBbXHJcbiAgICAgICAgeyB2ZXJzaW9uTnVtYmVyOiBMZWdhY3lNaWdyYXRpb24uVGFyZ2V0VmVyc2lvbiwgbWlncmF0aW9uOiBuZXcgTGVnYWN5TWlncmF0aW9uKCkgfSxcclxuICAgICAgICB7IHZlcnNpb25OdW1iZXI6IFZlcnNpb24wXzZfNS5UYXJnZXRWZXJzaW9uLCBtaWdyYXRpb246IG5ldyBWZXJzaW9uMF82XzUoKSB9LFxyXG4gICAgXTtcclxuXHJcbiAgICAvL1RPRE86IENhbGwgb24gSW5pdCgpXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIEJlZ2luTWlncmF0aW9uKCkge1xyXG4gICAgICAgIGxldCBjdXJyZW50VmVyc2lvbiA9IGdhbWUuc2V0dGluZ3MuZ2V0KFZlcnNpb25NaWdyYXRpb24uTU9EVUxFX05BTUUsIFZlcnNpb25NaWdyYXRpb24uS0VZX0RBVEFfVkVSU0lPTik7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRWZXJzaW9uID09PSB1bmRlZmluZWQgfHwgY3VycmVudFZlcnNpb24gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgY3VycmVudFZlcnNpb24gPSBWZXJzaW9uTWlncmF0aW9uLk5PX1ZFUlNJT047XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtaWdyYXRpb25zID0gTWlncmF0b3Iuc19WZXJzaW9ucy5maWx0ZXIoKHsgdmVyc2lvbk51bWJlciB9KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGlmIHZlcnNpb25OVW1iZXIgaXMgZ3JlYXRlciB0aGFuIGN1cnJlbnRWZXJzaW9uLCB3ZSBuZWVkIHRvIGFwcGx5IHRoaXMgbWlncmF0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVWZXJzaW9uKHZlcnNpb25OdW1iZXIsIGN1cnJlbnRWZXJzaW9uKSA9PT0gMTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTm8gbWlncmF0aW9ucyBhcmUgcmVxdWlyZWQsIGV4aXQuXHJcbiAgICAgICAgaWYgKG1pZ3JhdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5XYXJuaW5nVGl0bGUnKTtcclxuICAgICAgICBjb25zdCBsb2NhbGl6ZWRXYXJuaW5nSGVhZGVyID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLldhcm5pbmdIZWFkZXInKTtcclxuICAgICAgICBjb25zdCBsb2NhbGl6ZWRXYXJuaW5nUmVxdWlyZWQgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uV2FybmluZ1JlcXVpcmVkJyk7XHJcbiAgICAgICAgY29uc3QgbG9jYWxpemVkV2FybmluZ0Rlc2NyaXB0aW9uID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLldhcm5pbmdEZXNjcmlwdGlvbicpO1xyXG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdCYWNrdXAgPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uV2FybmluZ0JhY2t1cCcpO1xyXG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdCZWdpbiA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5CZWdpbk1pZ3JhdGlvbicpO1xyXG5cclxuICAgICAgICBjb25zdCBkID0gbmV3IERpYWxvZyh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZWRXYXJuaW5nVGl0bGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6XHJcbiAgICAgICAgICAgICAgICBgPGgyIHN0eWxlPVwiY29sb3I6IHJlZDsgdGV4dC1hbGlnbjogY2VudGVyXCI+JHtsb2NhbGl6ZWRXYXJuaW5nSGVhZGVyfTwvaDI+YCArXHJcbiAgICAgICAgICAgICAgICBgPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXJcIj48aT4ke2xvY2FsaXplZFdhcm5pbmdSZXF1aXJlZH08L2k+PC9wPmAgK1xyXG4gICAgICAgICAgICAgICAgYDxwPiR7bG9jYWxpemVkV2FybmluZ0Rlc2NyaXB0aW9ufTwvcD5gICtcclxuICAgICAgICAgICAgICAgIGA8aDMgc3R5bGU9XCJjb2xvcjogcmVkXCI+JHtsb2NhbGl6ZWRXYXJuaW5nQmFja3VwfTwvaDM+YCxcclxuICAgICAgICAgICAgYnV0dG9uczoge1xyXG4gICAgICAgICAgICAgICAgb2s6IHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogbG9jYWxpemVkV2FybmluZ0JlZ2luLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLm1pZ3JhdGUobWlncmF0aW9ucyksXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWZhdWx0OiAnb2snLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGQucmVuZGVyKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGFzeW5jIG1pZ3JhdGUobWlncmF0aW9uczogVmVyc2lvbkRlZmluaXRpb25bXSkge1xyXG4gICAgICAgIC8vIHdlIHdhbnQgdG8gYXBwbHkgbWlncmF0aW9ucyBpbiBhc2NlbmRpbmcgb3JkZXIgdW50aWwgd2UncmUgdXAgdG8gdGhlIGxhdGVzdFxyXG4gICAgICAgIG1pZ3JhdGlvbnMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlVmVyc2lvbihhLnZlcnNpb25OdW1iZXIsIGIudmVyc2lvbk51bWJlcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMubWlncmF0ZVdvcmxkKGdhbWUsIG1pZ3JhdGlvbnMpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMubWlncmF0ZUNvbXBlbmRpdW0oZ2FtZSwgbWlncmF0aW9ucyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsaXplZFdhcm5pbmdUaXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5TdWNjZXNzVGl0bGUnKTtcclxuICAgICAgICBjb25zdCBsb2NhbGl6ZWRXYXJuaW5nSGVhZGVyID0gZ2FtZS5pMThuLmxvY2FsaXplKCdTUjUuTUlHUkFUSU9OLlN1Y2Nlc3NIZWFkZXInKTtcclxuICAgICAgICBjb25zdCBsb2NhbGl6ZWRTdWNjZXNzRGVzY3JpcHRpb24gPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc0Rlc2NyaXB0aW9uJyk7XHJcbiAgICAgICAgY29uc3QgbG9jYWxpemVkU3VjY2Vzc1BhY2tzSW5mbyA9IGdhbWUuaTE4bi5sb2NhbGl6ZSgnU1I1Lk1JR1JBVElPTi5TdWNjZXNzUGFja3NJbmZvJyk7XHJcbiAgICAgICAgY29uc3QgbG9jYWxpemVkU3VjY2Vzc0NvbmZpcm0gPSBnYW1lLmkxOG4ubG9jYWxpemUoJ1NSNS5NSUdSQVRJT04uU3VjY2Vzc0NvbmZpcm0nKTtcclxuICAgICAgICBjb25zdCBwYWNrc0RpYWxvZyA9IG5ldyBEaWFsb2coe1xyXG4gICAgICAgICAgICB0aXRsZTogbG9jYWxpemVkV2FybmluZ1RpdGxlLFxyXG4gICAgICAgICAgICBjb250ZW50OlxyXG4gICAgICAgICAgICAgICAgYDxoMiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6IGdyZWVuXCI+JHtsb2NhbGl6ZWRXYXJuaW5nSGVhZGVyfTwvaDI+YCArXHJcbiAgICAgICAgICAgICAgICBgPHA+JHtsb2NhbGl6ZWRTdWNjZXNzRGVzY3JpcHRpb259PC9wPmAgK1xyXG4gICAgICAgICAgICAgICAgYDxwIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyXCI+PGk+JHtsb2NhbGl6ZWRTdWNjZXNzUGFja3NJbmZvfTwvaT48L3A+YCxcclxuICAgICAgICAgICAgYnV0dG9uczoge1xyXG4gICAgICAgICAgICAgICAgb2s6IHtcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+JyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogbG9jYWxpemVkU3VjY2Vzc0NvbmZpcm0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWZhdWx0OiAnb2snLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBhY2tzRGlhbG9nLnJlbmRlcih0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1pZ3JhdGUgYWxsIHdvcmxkIG9iamVjdHNcclxuICAgICAqIEBwYXJhbSBnYW1lXHJcbiAgICAgKiBAcGFyYW0gbWlncmF0aW9uc1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBhc3luYyBtaWdyYXRlV29ybGQoZ2FtZTogR2FtZSwgbWlncmF0aW9uczogVmVyc2lvbkRlZmluaXRpb25bXSkge1xyXG4gICAgICAgIC8vIFJ1biB0aGUgbWlncmF0aW9ucyBpbiBvcmRlclxyXG4gICAgICAgIGZvciAoY29uc3QgeyBtaWdyYXRpb24gfSBvZiBtaWdyYXRpb25zKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1pZ3JhdGlvbi5NaWdyYXRlKGdhbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEl0ZXJhdGUgb3ZlciBhbGwgd29ybGQgY29tcGVuZGl1bSBwYWNrc1xyXG4gICAgICogQHBhcmFtIGdhbWUgR2FtZSB0aGF0IHdpbGwgYmUgbWlncmF0ZWRcclxuICAgICAqIEBwYXJhbSBtaWdyYXRpb25zIEluc3RhbmNlcyBvZiB0aGUgdmVyc2lvbiBtaWdyYXRpb25cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgbWlncmF0ZUNvbXBlbmRpdW0oZ2FtZTogR2FtZSwgbWlncmF0aW9uczogVmVyc2lvbkRlZmluaXRpb25bXSkge1xyXG4gICAgICAgIC8vIE1pZ3JhdGUgV29ybGQgQ29tcGVuZGl1bSBQYWNrc1xyXG4gICAgICAgIGNvbnN0IHBhY2tzID0gZ2FtZS5wYWNrcy5maWx0ZXIoKHBhY2spID0+IHBhY2subWV0YWRhdGEucGFja2FnZSA9PT0gJ3dvcmxkJyAmJiBbJ0FjdG9yJywgJ0l0ZW0nLCAnU2NlbmUnXS5pbmNsdWRlcyhwYWNrLm1ldGFkYXRhLmVudGl0eSkpO1xyXG5cclxuICAgICAgICAvLyBSdW4gdGhlIG1pZ3JhdGlvbnMgaW4gb3JkZXIgb24gZWFjaCBwYWNrLlxyXG4gICAgICAgIGZvciAoY29uc3QgcGFjayBvZiBwYWNrcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHsgbWlncmF0aW9uIH0gb2YgbWlncmF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbWlncmF0aW9uLk1pZ3JhdGVDb21wZW5kaXVtUGFjayhwYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBmb3VuZCBhdDogaHR0cHM6Ly9oZWxsb2FjbS5jb20vdGhlLWphdmFzY3JpcHQtZnVuY3Rpb24tdG8tY29tcGFyZS12ZXJzaW9uLW51bWJlci1zdHJpbmdzL1xyXG4gICAgLy8gdXBkYXRlZCBmb3IgdHlwZXNjcmlwdFxyXG4gICAgLyoqXHJcbiAgICAgKiBjb21wYXJlIHR3byB2ZXJzaW9uIG51bWJlcnMsIHJldHVybnMgMSBpZiB2MSA+IHYyLCAtMSBpZiB2MSA8IHYyLCAwIGlmIGVxdWFsXHJcbiAgICAgKiBAcGFyYW0gdjFcclxuICAgICAqIEBwYXJhbSB2MlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNvbXBhcmVWZXJzaW9uKHYxOiBzdHJpbmcsIHYyOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBzMSA9IHYxLnNwbGl0KCcuJykubWFwKChzKSA9PiBwYXJzZUludChzLCAxMCkpO1xyXG4gICAgICAgIGNvbnN0IHMyID0gdjIuc3BsaXQoJy4nKS5tYXAoKHMpID0+IHBhcnNlSW50KHMsIDEwKSk7XHJcbiAgICAgICAgY29uc3QgayA9IE1hdGgubWluKHYxLmxlbmd0aCwgdjIubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGs7ICsraSkge1xyXG4gICAgICAgICAgICBpZiAoczFbaV0gPiBzMltpXSkgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIGlmIChzMVtpXSA8IHMyW2ldKSByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2MS5sZW5ndGggPT09IHYyLmxlbmd0aCA/IDAgOiB2MS5sZW5ndGggPCB2Mi5sZW5ndGggPyAtMSA6IDE7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU1I1QWN0b3IgfSBmcm9tICcuLi9hY3Rvci9TUjVBY3Rvcic7XHJcblxyXG4vKipcclxuICogQ29udmVydHMgYSBnYW1lJ3MgZGF0YSBtb2RlbCBmcm9tIHNvdXJjZSB2ZXJzaW9uIHRvIGEgdGFyZ2V0IHZlcnNpb24uXHJcbiAqIEV4dGVuZGluZyBjbGFzc2VzIGFyZSBvbmx5IHJlcXVpcmVkIHRvIGhhbmRsZSBpdGVtcywgYWN0b3JzLCBhbmQgc2NlbmVzLFxyXG4gKiAgb3RoZXIgbWV0aG9kcyBhcmUgaW1wbGVtZW50YWJsZSBwdXJlbHkgZm9yIGNvbnZlbmllbmNlIGFuZCBhdG9taWNpdHkuXHJcbiAqL1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVmVyc2lvbk1pZ3JhdGlvbiB7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgTU9EVUxFX05BTUUgPSAnc2hhZG93cnVuNWUnO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IEtFWV9EQVRBX1ZFUlNJT04gPSAnc3lzdGVtTWlncmF0aW9uVmVyc2lvbic7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgTk9fVkVSU0lPTiA9ICcwJztcclxuXHJcbiAgICBwcml2YXRlIG1fQWJvcnQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbV9BYm9ydFJlYXNvbjogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGFsbG93ZWQgdmVyc2lvbiB0aGlzIG1pZ3JhdG9yIHNob3VsZCBiZSBhYmxlIHRvIG9wZXJhdGUgb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXQgU291cmNlVmVyc2lvbigpOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSByZXN1bHRpbmcgdmVyc2lvbiB0aGlzIG1pZ3JhdG9yIHdpbGwgcHJvZHVjZS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldCBUYXJnZXRWZXJzaW9uKCk6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgZ2V0IFNvdXJjZVZlcnNpb25GcmllbmRseU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYHYke3RoaXMuU291cmNlVmVyc2lvbn1gO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCBUYXJnZXRWZXJzaW9uRnJpZW5kbHlOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGB2JHt0aGlzLlRhcmdldFZlcnNpb259YDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZsYWcgdGhlIG1pZ3JhdGlvbiB0byBiZSBhYm9ydGVkLlxyXG4gICAgICogQHBhcmFtIHJlYXNvbiBUaGUgcmVhc29uIHRoYXQgdGhlIG1pZ3JhdGlvbiBtdXN0IGJlIGFib3J0ZWQsIHRvIGJlIGRpc3BsYXllZFxyXG4gICAgICogIHRvIHRoZSB1c2VyIGFuZCByZXR1cm5lZCBmcm9tIHRoZSBtaWdyYXRpb24gY2FsbC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGFib3J0KHJlYXNvbjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX0Fib3J0ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1fQWJvcnRSZWFzb24gPSByZWFzb247XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMuZXJyb3IoYERhdGEgbWlncmF0aW9uIGhhcyBiZWVuIGFib3J0ZWQ6ICR7cmVhc29ufWAsIHsgcGVybWFuZW50OiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQmVnaW4gbWlncmF0aW9uIGZvciB0aGUgc3BlY2lmaWVkIGdhbWUuXHJcbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgd29ybGQgdGhhdCBzaG91bGQgYmUgbWlncmF0ZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyBNaWdyYXRlKGdhbWU6IEdhbWUpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlIFRPRE8gVW5pZ25vcmUgd2hlbiBGb3VuZHJ5IFR5cGVzIHVwZGF0ZXNcclxuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oYEJlZ2lubmluZyBTaGFkb3dydW4gc3lzdGVtIG1pZ3JhdGlvbiBmcm9tIHZlcnNpb24gJHt0aGlzLlNvdXJjZVZlcnNpb25GcmllbmRseU5hbWV9IHRvICR7dGhpcy5UYXJnZXRWZXJzaW9uRnJpZW5kbHlOYW1lfS5gKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlIFRPRE8gVW5pZ25vcmUgd2hlbiBGb3VuZHJ5IFR5cGVzIHVwZGF0ZXNcclxuICAgICAgICB1aS5ub3RpZmljYXRpb25zLndhcm4oYFBsZWFzZSBkbyBub3QgY2xvc2UgeW91ciBnYW1lIG9yIHNodXRkb3duIEZvdW5kcnlWVFQuYCwge1xyXG4gICAgICAgICAgICBwZXJtYW5lbnQ6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE1hcCBvZiBlbnRpdGllcyB0byB1cGRhdGUsIHN0b3JlIHVudGlsIGxhdGVyIHRvIHJlZHVjZSBjaGFuY2Ugb2YgcGFydGlhbCB1cGRhdGVzXHJcbiAgICAgICAgLy8gd2hpY2ggbWF5IHJlc3VsdCBpbiBpbXBvc3NpYmxlIGdhbWUgc3RhdGVzLlxyXG4gICAgICAgIGNvbnN0IGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4gPSBuZXcgTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPigpO1xyXG5cclxuICAgICAgICAvLyBNaWdyYXRlIFdvcmxkIEl0ZW1zXHJcbiAgICAgICAgYXdhaXQgdGhpcy5QcmVNaWdyYXRlSXRlbURhdGEoZ2FtZSwgZW50aXR5VXBkYXRlcyk7XHJcbiAgICAgICAgaWYgKHRoaXMubV9BYm9ydCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5tX0Fib3J0UmVhc29uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgdGhpcy5JdGVyYXRlSXRlbXMoZ2FtZSwgZW50aXR5VXBkYXRlcyk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5Qb3N0TWlncmF0ZUl0ZW1EYXRhKGdhbWUsIGVudGl0eVVwZGF0ZXMpO1xyXG4gICAgICAgIGlmICh0aGlzLm1fQWJvcnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHRoaXMubV9BYm9ydFJlYXNvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNaWdyYXRlIFdvcmxkIEFjdG9yc1xyXG4gICAgICAgIGF3YWl0IHRoaXMuUHJlTWlncmF0ZUFjdG9yRGF0YShnYW1lLCBlbnRpdHlVcGRhdGVzKTtcclxuICAgICAgICBpZiAodGhpcy5tX0Fib3J0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLm1fQWJvcnRSZWFzb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCB0aGlzLkl0ZXJhdGVBY3RvcnMoZ2FtZSwgZW50aXR5VXBkYXRlcyk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5Qb3N0TWlncmF0ZUFjdG9yRGF0YShnYW1lLCBlbnRpdHlVcGRhdGVzKTtcclxuICAgICAgICBpZiAodGhpcy5tX0Fib3J0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLm1fQWJvcnRSZWFzb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTWlncmF0ZSBBY3RvciBUb2tlbnNcclxuICAgICAgICBhd2FpdCB0aGlzLlByZU1pZ3JhdGVTY2VuZURhdGEoZ2FtZSwgZW50aXR5VXBkYXRlcyk7XHJcbiAgICAgICAgaWYgKHRoaXMubV9BYm9ydCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5tX0Fib3J0UmVhc29uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgdGhpcy5JdGVyYXRlU2NlbmVzKGdhbWUsIGVudGl0eVVwZGF0ZXMpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuUG9zdE1pZ3JhdGVTY2VuZURhdGEoZ2FtZSwgZW50aXR5VXBkYXRlcyk7XHJcbiAgICAgICAgaWYgKHRoaXMubV9BYm9ydCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5tX0Fib3J0UmVhc29uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFwcGx5IHRoZSB1cGRhdGVzLCB0aGlzIHNob3VsZCAqYWx3YXlzKiB3b3JrLCBub3cgdGhhdCBwYXJzaW5nIGlzIGNvbXBsZXRlLlxyXG4gICAgICAgIGF3YWl0IHRoaXMuQXBwbHkoZW50aXR5VXBkYXRlcyk7XHJcblxyXG4gICAgICAgIGF3YWl0IGdhbWUuc2V0dGluZ3Muc2V0KFZlcnNpb25NaWdyYXRpb24uTU9EVUxFX05BTUUsIFZlcnNpb25NaWdyYXRpb24uS0VZX0RBVEFfVkVSU0lPTiwgdGhpcy5UYXJnZXRWZXJzaW9uKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlIFRPRE8gVW5pZ25vcmUgd2hlbiBGb3VuZHJ5IFR5cGVzIHVwZGF0ZXNcclxuICAgICAgICB1aS5ub3RpZmljYXRpb25zLmluZm8oYFNoYWRvd3J1biBzeXN0ZW0gbWlncmF0aW9uIHN1Y2Nlc3NmdWxseSBtaWdyYXRlZCB0byB2ZXJzaW9uICR7dGhpcy5UYXJnZXRWZXJzaW9ufS5gLCB7IHBlcm1hbmVudDogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGxpZXMgdGhlIHNwZWNpZmllZCBtYXBwaW5nIG9mIGVudGl0aWVzLCBpdGVyYXRpdmVseSB1cGRhdGluZyBlYWNoLlxyXG4gICAgICogQHBhcmFtIGVudGl0eVVwZGF0ZXMgQSBtYXBwaW5nIG9mIGVudGl0eSB1cGRhdGVEYXRhIHBhaXJzLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgQXBwbHkoZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPikge1xyXG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgeyB1cGRhdGVEYXRhLCBlbWJlZGRlZEl0ZW1zIH1dIG9mIGVudGl0eVVwZGF0ZXMpIHtcclxuICAgICAgICAgICAgaWYgKGVtYmVkZGVkSXRlbXMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdG9yID0gZW50aXR5IGFzIFNSNUFjdG9yO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYWN0b3IudXBkYXRlT3duZWRJdGVtKGVtYmVkZGVkSXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IGVudGl0eS51cGRhdGUodXBkYXRlRGF0YSwgeyBlbmZvcmNlVHlwZXM6IGZhbHNlIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgc2NlbmVzIGFuZCBtaWdyYXRlIGVhY2ggaWYgbmVlZGVkLlxyXG4gICAgICogQHBhcmFtIGdhbWVcclxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBhc3luYyBJdGVyYXRlU2NlbmVzKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHNjZW5lIG9mIGdhbWUuc2NlbmVzLmVudGl0aWVzKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShhd2FpdCB0aGlzLlNob3VsZE1pZ3JhdGVTY2VuZURhdGEoc2NlbmUpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzY2VuZS5faWQgPT09ICdNQXdTRmhsWFJpcGl4T1d3Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTY2VuZSBQcmUtVXBkYXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNaWdyYXRpbmcgU2NlbmUgZW50aXR5ICR7c2NlbmUubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSBhd2FpdCB0aGlzLk1pZ3JhdGVTY2VuZURhdGEoZHVwbGljYXRlKHNjZW5lLmRhdGEpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgaGFzVG9rZW5VcGRhdGVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhLnRva2VucyA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBzY2VuZS5kYXRhLnRva2Vucy5tYXAoYXN5bmMgKHRva2VuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc09iamVjdEVtcHR5KHRva2VuLmFjdG9yRGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuRGF0YVVwZGF0ZSA9IGF3YWl0IHRoaXMuTWlncmF0ZUFjdG9yRGF0YSh0b2tlbi5hY3RvckRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0RW1wdHkodG9rZW5EYXRhVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzVG9rZW5VcGRhdGVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuRGF0YVVwZGF0ZVsnX2lkJ10gPSB0b2tlbi5faWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VG9rZW4gPSBkdXBsaWNhdGUodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VG9rZW4uYWN0b3JEYXRhID0gYXdhaXQgbWVyZ2VPYmplY3QodG9rZW4uYWN0b3JEYXRhLCB0b2tlbkRhdGFVcGRhdGUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmZvcmNlVHlwZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucGxhY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuZXdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3VG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NlbmUuX2lkID09PSAnTUF3U0ZobFhSaXBpeE9XdycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2NlbmUgUHJlLVVwZGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjZW5lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eSh1cGRhdGVEYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGV4cGFuZE9iamVjdCh1cGRhdGVEYXRhKTtcclxuICAgICAgICAgICAgICAgIGVudGl0eVVwZGF0ZXMuc2V0KHNjZW5lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBlbWJlZGRlZEl0ZW1zOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgaXRlbXMgYW5kIG1pZ3JhdGUgZWFjaCBpZiBuZWVkZWQuXHJcbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgZ2FtZSB0byBiZSB1cGRhdGVkLlxyXG4gICAgICogQHBhcmFtIGVudGl0eVVwZGF0ZXMgVGhlIGN1cnJlbnQgbWFwIG9mIGVudGl0eSB1cGRhdGVzLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgSXRlcmF0ZUl0ZW1zKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZ2FtZS5pdGVtcy5lbnRpdGllcykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoYXdhaXQgdGhpcy5TaG91bGRNaWdyYXRlSXRlbURhdGEoaXRlbS5kYXRhKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTWlncmF0aW5nIEl0ZW06ICR7aXRlbS5uYW1lfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IGF3YWl0IHRoaXMuTWlncmF0ZUl0ZW1EYXRhKGl0ZW0uZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0RW1wdHkodXBkYXRlRGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBleHBhbmRPYmplY3QodXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHlVcGRhdGVzLnNldChpdGVtLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBlbWJlZGRlZEl0ZW1zOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgYWN0b3JzIGFuZCBtaWdyYXRlIGVhY2ggaWYgbmVlZGVkLlxyXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIGdhbWUgdG8gYmUgdXBkYXRlZC5cclxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzIFRoZSBjdXJyZW50IG1hcCBvZiBlbnRpdHkgdXBkYXRlcy5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGFzeW5jIEl0ZXJhdGVBY3RvcnMoZ2FtZTogR2FtZSwgZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPikge1xyXG4gICAgICAgIGZvciAoY29uc3QgYWN0b3Igb2YgZ2FtZS5hY3RvcnMuZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmICghKGF3YWl0IHRoaXMuU2hvdWxkTWlncmF0ZUFjdG9yRGF0YShhY3Rvci5kYXRhKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTWlncmF0aW5nIEFjdG9yICR7YWN0b3IubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFjdG9yKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSBhd2FpdCB0aGlzLk1pZ3JhdGVBY3RvckRhdGEoZHVwbGljYXRlKGFjdG9yLmRhdGEpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVwZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlRGF0YS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zID0gdXBkYXRlRGF0YS5pdGVtcztcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXBkYXRlRGF0YS5pdGVtcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBleHBhbmRPYmplY3QodXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBlbnRpdHlVcGRhdGVzLnNldChhY3Rvciwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgZW1iZWRkZWRJdGVtczogaXRlbXMsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEl0ZXJhdGUgb3ZlciBhbiBhY3RvcidzIGl0ZW1zLCB1cGRhdGluZyB0aG9zZSB0aGF0IG5lZWQgdXBkYXRpbmcuXHJcbiAgICAgKiBAcGFyYW0gYWN0b3JEYXRhIFRoZSBhY3RvciB0byBpdGVyYXRlIG92ZXJcclxuICAgICAqIEBwYXJhbSB1cGRhdGVEYXRhIFRoZSBleGlzdGluZyB1cGRhdGUgZGF0YSB0byBtZXJnZSBpbnRvXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBhc3luYyBJdGVyYXRlQWN0b3JJdGVtcyhhY3RvckRhdGE6IEFjdG9yRGF0YSwgdXBkYXRlRGF0YSkge1xyXG4gICAgICAgIGxldCBoYXNJdGVtVXBkYXRlcyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoYWN0b3JEYXRhLml0ZW1zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGFjdG9yRGF0YS5pdGVtcy5tYXAoYXN5bmMgKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbVVwZGF0ZSA9IGF3YWl0IHRoaXMuTWlncmF0ZUl0ZW1EYXRhKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0RW1wdHkoaXRlbVVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzSXRlbVVwZGF0ZXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtVXBkYXRlWydfaWQnXSA9IGl0ZW0uX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgbWVyZ2VPYmplY3QoaXRlbSwgaXRlbVVwZGF0ZSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5mb3JjZVR5cGVzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucGxhY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKGhhc0l0ZW1VcGRhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhLml0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB1cGRhdGVEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBzY2VuZSByZXF1aXJlcyB1cGRhdGVzLlxyXG4gICAgICogQHBhcmFtIHNjZW5lIFRoZSBzY2VuZSB0byBjaGVjay5cclxuICAgICAqIEByZXR1cm4gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdHJ1ZSBvciBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVTY2VuZURhdGEoc2NlbmU6IFNjZW5lKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNaWdyYXRlIHRoZSBzcGVjaWZpZWQgc2NlbmUncyBkYXRhLlxyXG4gICAgICogQHBhcmFtIHNjZW5lIFRoZSBzY2VuZSB0byBtaWdyYXRlLlxyXG4gICAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB1cGRhdGUgZGF0YS5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVTY2VuZURhdGEoc2NlbmU6IGFueSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEbyBzb21ldGhpbmcgcmlnaHQgYmVmb3JlIHNjZW5lIGRhdGEgaXMgbWlncmF0ZWQuXHJcbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgZ2FtZSB0byBiZSB1cGRhdGVkLlxyXG4gICAgICogQHBhcmFtIGVudGl0eVVwZGF0ZXMgVGhlIGN1cnJlbnQgbWFwIG9mIGVudGl0eSB1cGRhdGVzLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgUHJlTWlncmF0ZVNjZW5lRGF0YShnYW1lOiBHYW1lLCBlbnRpdHlVcGRhdGVzOiBNYXA8RW50aXR5LCBFbnRpdHlVcGRhdGU+KTogUHJvbWlzZTx2b2lkPiB7fVxyXG4gICAgLyoqXHJcbiAgICAgKiBEbyBzb21ldGhpbmcgcmlnaHQgYmVmb3JlIHNjZW5lIGRhdGEgaXMgbWlncmF0ZWQuXHJcbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgZ2FtZSB0byBiZSB1cGRhdGVkLlxyXG4gICAgICogQHBhcmFtIGVudGl0eVVwZGF0ZXMgVGhlIGN1cnJlbnQgbWFwIG9mIGVudGl0eSB1cGRhdGVzLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgUG9zdE1pZ3JhdGVTY2VuZURhdGEoZ2FtZTogR2FtZSwgZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPik6IFByb21pc2U8dm9pZD4ge31cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGFuIGl0ZW0gcmVxdWlyZXMgdXBkYXRlcy5cclxuICAgICAqIEBwYXJhbSBpdGVtIFRoZSBpdGVtIHRvIGNoZWNrLlxyXG4gICAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0cnVlIG9yIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgU2hvdWxkTWlncmF0ZUl0ZW1EYXRhKGl0ZW06IEJhc2VFbnRpdHlEYXRhKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNaWdyYXRlIHRoZSBzcGVjaWZpZWQgaXRlbSdzIGRhdGEuXHJcbiAgICAgKiBAcGFyYW0gaXRlbSBUaGUgaXRlbSB0byBtaWdyYXRlLlxyXG4gICAgICogQHJldHVybiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB1cGRhdGUgZGF0YS5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVJdGVtRGF0YShpdGVtOiBCYXNlRW50aXR5RGF0YSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEbyBzb21ldGhpbmcgcmlnaHQgYmVmb3JlIGl0ZW0gZGF0YSBpcyBtaWdyYXRlZC5cclxuICAgICAqIEBwYXJhbSBnYW1lIFRoZSBnYW1lIHRvIGJlIHVwZGF0ZWQuXHJcbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlcyBUaGUgY3VycmVudCBtYXAgb2YgZW50aXR5IHVwZGF0ZXMuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBhc3luYyBQcmVNaWdyYXRlSXRlbURhdGEoZ2FtZTogR2FtZSwgZW50aXR5VXBkYXRlczogTWFwPEVudGl0eSwgRW50aXR5VXBkYXRlPik6IFByb21pc2U8dm9pZD4ge31cclxuICAgIC8qKlxyXG4gICAgICogRG8gc29tZXRoaW5nIHJpZ2h0IGJlZm9yZSBpdGVtIGRhdGEgaXMgbWlncmF0ZWQuXHJcbiAgICAgKiBAcGFyYW0gZ2FtZSBUaGUgZ2FtZSB0byBiZSB1cGRhdGVkLlxyXG4gICAgICogQHBhcmFtIGVudGl0eVVwZGF0ZXMgVGhlIGN1cnJlbnQgbWFwIG9mIGVudGl0eSB1cGRhdGVzLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgUG9zdE1pZ3JhdGVJdGVtRGF0YShnYW1lOiBHYW1lLCBlbnRpdHlVcGRhdGVzOiBNYXA8RW50aXR5LCBFbnRpdHlVcGRhdGU+KTogUHJvbWlzZTx2b2lkPiB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYW4gYWN0b3IgcmVxdWlyZXMgdXBkYXRlcy5cclxuICAgICAqIEBwYXJhbSBhY3RvciBUaGUgYWN0b3IgdG8gY2hlY2suXHJcbiAgICAgKiBAcmV0dXJuIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRydWUgb3IgZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlQWN0b3JEYXRhKGFjdG9yOiBBY3RvckRhdGEpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE1pZ3JhdGUgdGhlIHNwZWNpZmllZCBhY3RvcidzIGRhdGEuXHJcbiAgICAgKiBAcGFyYW0gYWN0b3IgVGhlIGFjdG9yIHRvIG1pZ3JhdGUuXHJcbiAgICAgKiBAcmV0dXJuIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHVwZGF0ZSBkYXRhLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgTWlncmF0ZUFjdG9yRGF0YShhY3RvcjogQWN0b3JEYXRhKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERvIHNvbWV0aGluZyByaWdodCBiZWZvcmUgYWN0b3IgZGF0YSBpcyBtaWdyYXRlZC5cclxuICAgICAqIEBwYXJhbSBnYW1lIFRoZSBnYW1lIHRvIGJlIHVwZGF0ZWQuXHJcbiAgICAgKiBAcGFyYW0gZW50aXR5VXBkYXRlcyBUaGUgY3VycmVudCBtYXAgb2YgZW50aXR5IHVwZGF0ZXMuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBhc3luYyBQcmVNaWdyYXRlQWN0b3JEYXRhKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHt9XHJcbiAgICAvKipcclxuICAgICAqIERvIHNvbWV0aGluZyByaWdodCBhZnRlciBhY3RvciBkYXRhIGlzIG1pZ3JhdGVkLlxyXG4gICAgICogQHBhcmFtIGdhbWUgVGhlIGdhbWUgdG8gYmUgdXBkYXRlZC5cclxuICAgICAqIEBwYXJhbSBlbnRpdHlVcGRhdGVzIFRoZSBjdXJyZW50IG1hcCBvZiBlbnRpdHkgdXBkYXRlcy5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGFzeW5jIFBvc3RNaWdyYXRlQWN0b3JEYXRhKGdhbWU6IEdhbWUsIGVudGl0eVVwZGF0ZXM6IE1hcDxFbnRpdHksIEVudGl0eVVwZGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHt9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNaWdyYXRlIGEgY29tcGVuZGl1bSBwYWNrXHJcbiAgICAgKiBAcGFyYW0gcGFja1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgTWlncmF0ZUNvbXBlbmRpdW1QYWNrKHBhY2s6IENvbXBlbmRpdW0pIHtcclxuICAgICAgICBjb25zdCBlbnRpdHkgPSBwYWNrLm1ldGFkYXRhLmVudGl0eTtcclxuICAgICAgICBpZiAoIVsnQWN0b3InLCAnSXRlbScsICdTY2VuZSddLmluY2x1ZGVzKGVudGl0eSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQmVnaW4gYnkgcmVxdWVzdGluZyBzZXJ2ZXItc2lkZSBkYXRhIG1vZGVsIG1pZ3JhdGlvbiBhbmQgZ2V0IHRoZSBtaWdyYXRlZCBjb250ZW50XHJcbiAgICAgICAgYXdhaXQgcGFjay5taWdyYXRlKHt9KTtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgcGFjay5nZXRDb250ZW50KCk7XHJcblxyXG4gICAgICAgIC8vIEl0ZXJhdGUgb3ZlciBjb21wZW5kaXVtIGVudHJpZXMgLSBhcHBseWluZyBmaW5lLXR1bmVkIG1pZ3JhdGlvbiBmdW5jdGlvbnNcclxuICAgICAgICBmb3IgKGxldCBlbnQgb2YgY29udGVudCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZURhdGE6IGFueSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5ID09PSAnSXRlbScpIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5NaWdyYXRlSXRlbURhdGEoZW50LmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eSh1cGRhdGVEYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZE9iamVjdCh1cGRhdGVEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydfaWQnXSA9IGVudC5faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFjay51cGRhdGVFbnRpdHkodXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVW5jb21tZW50IHdoZW4gZm91bmRyeSBhbGxvd3MgZW1iZWRkZWRzIHRvIGJlIHVwZGF0ZWQgaW4gcGFja3NcclxuICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKGVudGl0eSA9PT0gJ0FjdG9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5NaWdyYXRlQWN0b3JEYXRhKGVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoaXNPYmplY3RFbXB0eSh1cGRhdGVEYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1cGRhdGVEYXRhWydfaWQnXSA9IGVudC5faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGF3YWl0IHBhY2sudXBkYXRlRW50aXR5KHVwZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRpdHkgPT09ICdTY2VuZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5NaWdyYXRlU2NlbmVEYXRhKGVudC5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0RW1wdHkodXBkYXRlRGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBleHBhbmRPYmplY3QodXBkYXRlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnX2lkJ10gPSBlbnQuX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBhY2sudXBkYXRlRW50aXR5KHVwZGF0ZURhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhgTWlncmF0ZWQgYWxsICR7ZW50aXR5fSBlbnRpdGllcyBmcm9tIENvbXBlbmRpdW0gJHtwYWNrLmNvbGxlY3Rpb259YCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnR5cGUgRW50aXR5VXBkYXRlID0ge1xyXG4gICAgdXBkYXRlRGF0YTogYW55O1xyXG4gICAgZW1iZWRkZWRJdGVtczogbnVsbCB8IGFueVtdO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBWZXJzaW9uTWlncmF0aW9uIH0gZnJvbSAnLi4vVmVyc2lvbk1pZ3JhdGlvbic7XHJcblxyXG4vKipcclxuICogTWlncmF0ZXMgdGhlIGRhdGEgbW9kZWwgZm9yIExlZ2FjeSBtaWdyYXRpb25zIHByaW9yIHRvIDAuNi40XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTGVnYWN5TWlncmF0aW9uIGV4dGVuZHMgVmVyc2lvbk1pZ3JhdGlvbiB7XHJcbiAgICBnZXQgU291cmNlVmVyc2lvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnMCc7XHJcbiAgICB9XHJcbiAgICBnZXQgVGFyZ2V0VmVyc2lvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBMZWdhY3lNaWdyYXRpb24uVGFyZ2V0VmVyc2lvbjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXQgVGFyZ2V0VmVyc2lvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnMC42LjQnO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBNaWdyYXRlQWN0b3JEYXRhKGFjdG9yRGF0YTogQWN0b3JEYXRhKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBsZXQgdXBkYXRlRGF0YTogYW55ID0ge307XHJcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVBY3Rvck92ZXJmbG93KGFjdG9yRGF0YSwgdXBkYXRlRGF0YSk7XHJcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVBY3RvclNraWxscyhhY3RvckRhdGEsIHVwZGF0ZURhdGEpO1xyXG5cclxuICAgICAgICB1cGRhdGVEYXRhID0gYXdhaXQgdGhpcy5JdGVyYXRlQWN0b3JJdGVtcyhhY3RvckRhdGEsIHVwZGF0ZURhdGEpO1xyXG5cclxuICAgICAgICByZXR1cm4gdXBkYXRlRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgTWlncmF0ZUl0ZW1EYXRhKGl0ZW06IEJhc2VFbnRpdHlEYXRhKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge307XHJcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVEYW1hZ2VUeXBlQW5kRWxlbWVudChpdGVtLCB1cGRhdGVEYXRhKTtcclxuICAgICAgICBMZWdhY3lNaWdyYXRpb24ubWlncmF0ZUl0ZW1zQWRkQWN0aW9ucyhpdGVtLCB1cGRhdGVEYXRhKTtcclxuICAgICAgICBMZWdhY3lNaWdyYXRpb24ubWlncmF0ZUFjdG9yT3ZlcmZsb3coaXRlbSwgdXBkYXRlRGF0YSk7XHJcbiAgICAgICAgTGVnYWN5TWlncmF0aW9uLm1pZ3JhdGVJdGVtc0FkZENhcGFjaXR5KGl0ZW0sIHVwZGF0ZURhdGEpO1xyXG4gICAgICAgIExlZ2FjeU1pZ3JhdGlvbi5taWdyYXRlSXRlbXNBbW1vKGl0ZW0sIHVwZGF0ZURhdGEpO1xyXG4gICAgICAgIExlZ2FjeU1pZ3JhdGlvbi5taWdyYXRlSXRlbXNDb25jZWFsKGl0ZW0sIHVwZGF0ZURhdGEpO1xyXG4gICAgICAgIHJldHVybiB1cGRhdGVEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBNaWdyYXRlU2NlbmVEYXRhKHNjZW5lOiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgU2hvdWxkTWlncmF0ZUFjdG9yRGF0YShhY3RvckRhdGE6IEFjdG9yRGF0YSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlSXRlbURhdGEoaXRlbTogQmFzZUVudGl0eURhdGEpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYXN5bmMgU2hvdWxkTWlncmF0ZVNjZW5lRGF0YShzY2VuZTogU2NlbmUpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmV0dXJuIHNjZW5lLmRhdGEudG9rZW5zPy5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWlncmF0ZSBhY3RvciBvdmVyZmxvdyBmcm9tIGFuIGludGVnZXIgdG8gYW4gb2JqZWN0XHJcbiAgICAgKiAtIGl0IHdhc24ndCBldmVuIGRpc3BsYXllZCBiZWZvcmUgc28gd2Uga25vdyBpdCBpcyAwXHJcbiAgICAgKiBAcGFyYW0gYWN0b3JEYXRhXHJcbiAgICAgKiBAcGFyYW0gdXBkYXRlRGF0YVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHN0YXRpYyBtaWdyYXRlQWN0b3JPdmVyZmxvdyhhY3RvckRhdGEsIHVwZGF0ZURhdGEpIHtcclxuICAgICAgICBpZiAoZ2V0UHJvcGVydHkoYWN0b3JEYXRhLmRhdGEsICd0cmFjay5waHlzaWNhbC5vdmVyZmxvdycpID09PSAwKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEudHJhY2sucGh5c2ljYWwub3ZlcmZsb3cudmFsdWUnXSA9IDA7XHJcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEudHJhY2sucGh5c2ljYWwub3ZlcmZsb3cubWF4J10gPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1pZ3JhdGUgYWN0b3Igc2tpbGxzIHNwZWNpYWxpemF0aW9ucyB0byBiZSBhIGxpc3QgaW5zdGVhZCBvZiBzdHJpbmdcclxuICAgICAqIEBwYXJhbSBhY3RvckRhdGFcclxuICAgICAqIEBwYXJhbSB1cGRhdGVEYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIG1pZ3JhdGVBY3RvclNraWxscyhhY3RvckRhdGEsIHVwZGF0ZURhdGEpIHtcclxuICAgICAgICBpZiAoIWFjdG9yRGF0YS5kYXRhPy5za2lsbHM/LmFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IHNwbGl0UmVnZXggPSAvWyxcXC98Ll0rLztcclxuXHJcbiAgICAgICAgY29uc3QgcmVkdWNlciA9IChydW5uaW5nLCBba2V5LCB2YWxdKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWwuc3BlY3MpICYmIHZhbC5zcGVjcykge1xyXG4gICAgICAgICAgICAgICAgcnVubmluZ1trZXldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWNzOiB2YWwuc3BlY3Muc3BsaXQoc3BsaXRSZWdleCkuZmlsdGVyKChzKSA9PiBzICE9PSAnJyksXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBydW5uaW5nO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChhY3RvckRhdGEuZGF0YS5za2lsbHMpIHtcclxuICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS5za2lsbHMuYWN0aXZlJ10gPSBPYmplY3QuZW50cmllcyhhY3RvckRhdGEuZGF0YS5za2lsbHMuYWN0aXZlKS5yZWR1Y2UocmVkdWNlciwge30pO1xyXG4gICAgICAgICAgICBpZiAoYWN0b3JEYXRhLmRhdGEuc2tpbGxzLmtub3dsZWRnZSkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS5za2lsbHMua25vd2xlZGdlLnN0cmVldC52YWx1ZSddID0gT2JqZWN0LmVudHJpZXMoYWN0b3JEYXRhLmRhdGEuc2tpbGxzPy5rbm93bGVkZ2U/LnN0cmVldD8udmFsdWUpLnJlZHVjZShyZWR1Y2VyLCB7fSk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLnNraWxscy5rbm93bGVkZ2UucHJvZmVzc2lvbmFsLnZhbHVlJ10gPSBPYmplY3QuZW50cmllcyhhY3RvckRhdGEuZGF0YS5za2lsbHM/Lmtub3dsZWRnZT8ucHJvZmVzc2lvbmFsPy52YWx1ZSkucmVkdWNlKHJlZHVjZXIsIHt9KTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuc2tpbGxzLmtub3dsZWRnZS5hY2FkZW1pYy52YWx1ZSddID0gT2JqZWN0LmVudHJpZXMoYWN0b3JEYXRhLmRhdGEuc2tpbGxzPy5rbm93bGVkZ2U/LmFjYWRlbWljPy52YWx1ZSkucmVkdWNlKHJlZHVjZXIsIHt9KTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuc2tpbGxzLmtub3dsZWRnZS5pbnRlcmVzdHMudmFsdWUnXSA9IE9iamVjdC5lbnRyaWVzKGFjdG9yRGF0YS5kYXRhLnNraWxscz8ua25vd2xlZGdlPy5pbnRlcmVzdHM/LnZhbHVlKS5yZWR1Y2UocmVkdWNlciwge30pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhY3RvckRhdGEuZGF0YS5za2lsbHMubGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuc2tpbGxzLmxhbmd1YWdlLnZhbHVlJ10gPSBPYmplY3QuZW50cmllcyhhY3RvckRhdGEuZGF0YS5za2lsbHM/Lmxhbmd1YWdlPy52YWx1ZSkucmVkdWNlKHJlZHVjZXIsIHt9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaXRlbVxyXG4gICAgICogQHBhcmFtIHVwZGF0ZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWlncmF0ZURhbWFnZVR5cGVBbmRFbGVtZW50KGl0ZW0sIHVwZGF0ZURhdGEpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnTWlncmF0aW5nIERhbWFnZSBhbmQgRWxlbWVudHMnKTtcclxuICAgICAgICBpZiAoaXRlbS5kYXRhLmFjdGlvbikge1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBpdGVtLmRhdGEuYWN0aW9uO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGFjdGlvbi5kYW1hZ2UudHlwZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFbJ2RhdGEuYWN0aW9uLmRhbWFnZS50eXBlLmJhc2UnXSA9IGl0ZW0uZGF0YS5hY3Rpb24uZGFtYWdlLnR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24uZGFtYWdlLmVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLmFjdGlvbi5kYW1hZ2UuZWxlbWVudC5iYXNlJ10gPSBpdGVtLmRhdGEuYWN0aW9uLmRhbWFnZS5lbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWlncmF0ZSBhbW1vIGZyb20gcmFuZ2VkIHdlYXBvbnMgb25seSB0byBhbGwgd2VhcG9uc1xyXG4gICAgICogQHBhcmFtIGl0ZW1cclxuICAgICAqIEBwYXJhbSB1cGRhdGVEYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIG1pZ3JhdGVJdGVtc0FtbW8oaXRlbSwgdXBkYXRlRGF0YSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdNaWdyYXRpbmcgQW1tbycpO1xyXG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd3ZWFwb24nICYmIGl0ZW0uZGF0YS5hbW1vID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRBbW1vID0geyB2YWx1ZTogMCwgbWF4OiAwIH07XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmRhdGEuY2F0ZWdvcnkgPT09ICdyYW5nZScgJiYgaXRlbS5kYXRhLnJhbmdlICYmIGl0ZW0uZGF0YS5yYW5nZS5hbW1vKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG92ZXIgYW1tbyBjb3VudFxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkQW1tbyA9IGl0ZW0uZGF0YS5yYW5nZS5hbW1vO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudEFtbW8udmFsdWUgPSBvbGRBbW1vLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudEFtbW8ubWF4ID0gb2xkQW1tby5tYXg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXBkYXRlRGF0YVsnZGF0YS5hbW1vJ10gPSB7XHJcbiAgICAgICAgICAgICAgICBzcGFyZV9jbGlwczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heDogMCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnRBbW1vLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heDogY3VycmVudEFtbW8ubWF4LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNaWdyYXRlIGNvbmNlYWwgbmFtZVxyXG4gICAgICogQHBhcmFtIGl0ZW1cclxuICAgICAqIEBwYXJhbSB1cGRhdGVEYXRhXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIG1pZ3JhdGVJdGVtc0NvbmNlYWwoaXRlbSwgdXBkYXRlRGF0YSkge1xyXG4gICAgICAgIGlmIChpdGVtLmRhdGEudGVjaG5vbG9neT8uY29uY2VhbGFiaWxpdHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB1cGRhdGVEYXRhWydkYXRhLnRlY2hub2xvZ3kuY29uY2VhbCddID0ge1xyXG4gICAgICAgICAgICAgICAgYmFzZTogaXRlbS5kYXRhLnRlY2hub2xvZ3kuY29uY2VhbGFiaWxpdHksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGNhcGFjaXR5IHRvIGl0ZW1zXHJcbiAgICAgKiBAcGFyYW0gaXRlbVxyXG4gICAgICogQHBhcmFtIHVwZGF0ZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWlncmF0ZUl0ZW1zQWRkQ2FwYWNpdHkoaXRlbSwgdXBkYXRlRGF0YSkge1xyXG4gICAgICAgIGlmIChbJ2N5YmVyd2FyZSddLmluY2x1ZGVzKGl0ZW0udHlwZSkpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YS5jYXBhY2l0eSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhLmRhdGEuY2FwYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGFjdGlvbnMgdG8gbmVlZGVkIGl0ZW1zXHJcbiAgICAgKiBAcGFyYW0gaXRlbVxyXG4gICAgICogQHBhcmFtIHVwZGF0ZURhdGFcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbWlncmF0ZUl0ZW1zQWRkQWN0aW9ucyhpdGVtLCB1cGRhdGVEYXRhKSB7XHJcbiAgICAgICAgaWYgKFsncXVhbGl0eScsICdjeWJlcndhcmUnXS5pbmNsdWRlcyhpdGVtLnR5cGUpKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmRhdGEuYWN0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICBza2lsbDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlYzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvcHBvc2VkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUyOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGw6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2Q6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlRGF0YS5kYXRhKSB1cGRhdGVEYXRhLmRhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEuZGF0YS5hY3Rpb24gPSBhY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVmVyc2lvbk1pZ3JhdGlvbiB9IGZyb20gJy4uL1ZlcnNpb25NaWdyYXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEFkZCBkZWZhdWx0IHZhbHVlIG9mIHdpbGxwb3dlciB0byB0aGUgZnVsbF9kZWZlbnNlX2F0dHJpYnV0ZSBmaWVsZFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFZlcnNpb24wXzZfNSBleHRlbmRzIFZlcnNpb25NaWdyYXRpb24ge1xyXG4gICAgZ2V0IFNvdXJjZVZlcnNpb24oKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJzAuNi40JztcclxuICAgIH1cclxuICAgIGdldCBUYXJnZXRWZXJzaW9uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFZlcnNpb24wXzZfNS5UYXJnZXRWZXJzaW9uO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldCBUYXJnZXRWZXJzaW9uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICcwLjYuNSc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFzeW5jIE1pZ3JhdGVBY3RvckRhdGEoYWN0b3JEYXRhOiBBY3RvckRhdGEpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGxldCB1cGRhdGVEYXRhOiBhbnkgPSB7fTtcclxuICAgICAgICBpZiAodXBkYXRlRGF0YS5kYXRhID09PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuZGF0YSA9IHt9O1xyXG4gICAgICAgIHVwZGF0ZURhdGEuZGF0YS5mdWxsX2RlZmVuc2VfYXR0cmlidXRlID0gJ3dpbGxwb3dlcic7XHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFzeW5jIFNob3VsZE1pZ3JhdGVBY3RvckRhdGEoYWN0b3JEYXRhOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICByZXR1cm4gYWN0b3JEYXRhLmRhdGEuZnVsbF9kZWZlbnNlX2F0dHJpYnV0ZSA9PT0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhc3luYyBTaG91bGRNaWdyYXRlU2NlbmVEYXRhKHNjZW5lOiBTY2VuZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICByZXR1cm4gc2NlbmUuZGF0YS50b2tlbnM/Lmxlbmd0aCA+IDA7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUm9sbERpYWxvZywgU1I1Um9sbERpYWxvZ09wdGlvbnMgfSBmcm9tICcuL1JvbGxEaWFsb2cnO1xyXG5pbXBvcnQgeyBEaWFsb2dGaWVsZCB9IGZyb20gJy4uL2ZpZWxkL2Jhc2UvRGlhbG9nRmllbGQnO1xyXG5pbXBvcnQgeyBTUjVBY3RvciB9IGZyb20gJy4uLy4uL2FjdG9yL1NSNUFjdG9yJztcclxuXHJcbmV4cG9ydCBjbGFzcyBEeW5hbWljRGlhbG9nIGV4dGVuZHMgUm9sbERpYWxvZyB7XHJcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHM6IERpYWxvZ0ZpZWxkPGFueT5bXSwgYWN0b3I/OiBTUjVBY3Rvciwgb3B0aW9ucz86IFNSNVJvbGxEaWFsb2dPcHRpb25zKSB7XHJcbiAgICAgICAgc3VwZXIoYWN0b3IsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICB0aGlzLl9maWVsZHMucHVzaCguLi5maWVsZHMpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IERpYWxvZ0ZpZWxkIH0gZnJvbSAnLi4vZmllbGQvYmFzZS9EaWFsb2dGaWVsZCc7XHJcbmltcG9ydCB7IFNSNUFjdG9yIH0gZnJvbSAnLi4vLi4vYWN0b3IvU1I1QWN0b3InO1xyXG5cclxuZXhwb3J0IHR5cGUgU1I1Um9sbERpYWxvZ09wdGlvbnMgPSBBcHBsaWNhdGlvbk9wdGlvbnM7XHJcblxyXG5leHBvcnQgdHlwZSBSb2xsRGF0YSA9IHtcclxuICAgIFtrZXk6IHN0cmluZ106IGFueTtcclxufTtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSb2xsRGlhbG9nIGV4dGVuZHMgQXBwbGljYXRpb24ge1xyXG4gICAgc3RhdGljIGdldCBkZWZhdWx0T3B0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gc3VwZXIuZGVmYXVsdE9wdGlvbnM7XHJcbiAgICAgICAgb3B0aW9ucy5iYXNlQXBwbGljYXRpb24gPSAnU1I1Um9sbERpYWxvZyc7XHJcbiAgICAgICAgb3B0aW9ucy5jbGFzc2VzID0gWydzcjUnLCAncm9sbC1kaWFsb2cnXTtcclxuICAgICAgICBvcHRpb25zLndpZHRoID0gNDAwO1xyXG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gJ2F1dG8nO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBJMThuXHJcbiAgICAgICAgb3B0aW9ucy50aXRsZSA9ICdTaW1wbGUgUm9sbCc7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXRoIHRvIHRoZSB0ZW1wbGF0ZSB1c2VkIGZvciB0aGUgZGlhbG9nIGFwcGxpY2F0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IHRlbXBsYXRlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdzeXN0ZW1zL3NoYWRvd3J1bjVlL2Rpc3QvdGVtcGxhdGVzL3JvbGwvZGlhbG9nL2Jhc2ljLXJvbGwuaHRtbCc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IF9maWVsZHM6IERpYWxvZ0ZpZWxkPGFueT5bXTtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBfYWN0b3I6IFNSNUFjdG9yIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihhY3Rvcj86IFNSNUFjdG9yLCBvcHRpb25zPzogU1I1Um9sbERpYWxvZ09wdGlvbnMpIHtcclxuICAgICAgICBzdXBlcihvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZmllbGRzID0gW107XHJcbiAgICAgICAgdGhpcy5fYWN0b3IgPSBhY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbDogSlF1ZXJ5PEhUTUxFbGVtZW50PiB8IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvcm0gPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnZm9ybScpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5fZmllbGRzKSB7XHJcbiAgICAgICAgICAgIGZvcm0ucHJlcGVuZChmaWVsZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKGh0bWwpLmZpbmQoJyNyb2xsJykub24oJ2NsaWNrJywgdGhpcy5vblJvbGxDbGlja2VkLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblJvbGxDbGlja2VkKGV2ZW50OiBFdmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGxldCBkYXRhOiBSb2xsRGF0YSA9IHt9O1xyXG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5fZmllbGRzKSB7XHJcbiAgICAgICAgICAgIGZpZWxkLmNvbGxlY3QodGhpcy5fYWN0b3IsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS53YXJuKCdEYXRhLVBvc3QtQ29sbGVjdGlvbicpO1xyXG4gICAgICAgIGNvbnNvbGUud2FybihkYXRhKTtcclxuICAgICAgICAvLyBUT0RPOiBSb2xsIHRoZSBkaWNlLlxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IE51bWJlckZpZWxkIH0gZnJvbSAnLi9iYXNlL051bWJlckZpZWxkJztcclxuaW1wb3J0IHsgUm9sbERhdGEgfSBmcm9tICcuLi9kaWFsb2cvUm9sbERpYWxvZyc7XHJcbmltcG9ydCB7IFNSNUFjdG9yIH0gZnJvbSAnLi4vLi4vYWN0b3IvU1I1QWN0b3InO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNJVFVBVElPTkFMX01PRElGSUVSX0RBVEFfS0VZID0gJ3NpdHVhdGlvbmFsTW9kaWZpZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNpdHVhdGlvbmFsTW9kaWZpZXJGaWVsZCBleHRlbmRzIE51bWJlckZpZWxkIHtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkZWZhdWx0TW9kaWZpZXI6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKCdzaXR1YXRpb25hbC1tb2RpZmllcicsICdTUjUuU2l0dWF0aW9uYWxNb2RpZmllcicsIGRlZmF1bHRNb2RpZmllcik7XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdChhY3RvcjogU1I1QWN0b3IsIGRhdGE6IFJvbGxEYXRhKSB7XHJcbiAgICAgICAgZGF0YVtTSVRVQVRJT05BTF9NT0RJRklFUl9EQVRBX0tFWV0gPSB0aGlzLmdldFZhbHVlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgU2VsZWN0RmllbGQgfSBmcm9tICcuL2Jhc2UvU2VsZWN0RmllbGQnO1xyXG5pbXBvcnQgeyBSb2xsRGF0YSB9IGZyb20gJy4uL2RpYWxvZy9Sb2xsRGlhbG9nJztcclxuaW1wb3J0IHsgU1I1QWN0b3IgfSBmcm9tICcuLi8uLi9hY3Rvci9TUjVBY3Rvcic7XHJcbmltcG9ydCB7IFNSNUFjdGl2ZVNraWxsIH0gZnJvbSAnLi4vLi4vdHlwZXMvZW51bS9TUjVBY3RpdmVTa2lsbCc7XHJcbmltcG9ydCBTUjVBY3RvckRhdGEgPSBTaGFkb3dydW4uU1I1QWN0b3JEYXRhO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNraWxsRmllbGQgZXh0ZW5kcyBTZWxlY3RGaWVsZCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldE9wdGlvbnMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSAvW0EtWl0vO1xyXG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhTUjVBY3RpdmVTa2lsbCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0ga2V5c1tpXS5tYXRjaChwYXR0ZXJuKTtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGtleXNbaV0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4obWF0Y2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ga2V5cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFZhbHVlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoU1I1QWN0aXZlU2tpbGwpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRlZmF1bHRTa2lsbDogU1I1QWN0aXZlU2tpbGwpIHtcclxuICAgICAgICBzdXBlcignc2tpbGwnLCAnU1I1LlNraWxsJywgZGVmYXVsdFNraWxsLnRvU3RyaW5nKCksIFNraWxsRmllbGQuZ2V0T3B0aW9ucygpLCBTa2lsbEZpZWxkLmdldFZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0KGFjdG9yOiBTUjVBY3RvciB8IHVuZGVmaW5lZCwgZGF0YTogUm9sbERhdGEpIHtcclxuICAgICAgICAvLyBUT0RPOiBBbiBleGFtcGxlIG9mIGhvdyBwb3dlcmZ1bCB0aGlzIGlzLlxyXG4gICAgICAgIC8vICBXZSBtaWdodCBub3Qgd2FudCB0aGlzIHRvIHB1bGwgZGF0YSBsaWtlIHRoaXMgdGhvdWdoLlxyXG4gICAgICAgIC8vICBSb2xsIG5vdyBoYXMgYWNjZXNzIHRvIHRoZSBlbnRpcmUgc2tpbGwgKmFuZCogYXR0cmlidXRlLlxyXG4gICAgICAgIC8vICBUaHJlZSBsaW5lcyBvZiBjb2RlIChidXQgc29tZSBlcnJvciBoYW5kbGluZyBpcyBuZWVkZWQpLlxyXG4gICAgICAgIGNvbnN0IGFjdG9yRGF0YTogU1I1QWN0b3JEYXRhID0gYWN0b3I/LmRhdGEuZGF0YTtcclxuICAgICAgICBkYXRhWydza2lsbCddID0gYWN0b3JEYXRhLnNraWxscy5hY3RpdmVbdGhpcy5nZXRWYWx1ZSgpXTtcclxuICAgICAgICBkYXRhWydza2lsbCddWydhdHRyaWJ1dGUnXSA9IGFjdG9yRGF0YS5hdHRyaWJ1dGVzW2RhdGFbJ3NraWxsJ11bJ2F0dHJpYnV0ZSddXTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSb2xsRGF0YSB9IGZyb20gJy4uLy4uL2RpYWxvZy9Sb2xsRGlhbG9nJztcclxuaW1wb3J0IHsgU1I1QWN0b3IgfSBmcm9tICcuLi8uLi8uLi9hY3Rvci9TUjVBY3Rvcic7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGlhbG9nRmllbGQ8VFZhbHVlIGV4dGVuZHMgeyB0b1N0cmluZzogKCkgPT4gc3RyaW5nIH0+IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJTdGF0aWMgUHJvcGVydGllc1wiPjwvZWRpdG9yLWZvbGQ+XHJcblxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJTdGF0aWMgTWV0aG9kc1wiPjwvZWRpdG9yLWZvbGQ+XHJcblxyXG4gICAgLy8gPGVkaXRvci1mb2xkIGRlc2M9XCJQcm9wZXJ0aWVzXCI+XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbG9jYWxpemF0aW9uIGtleSBvZiB0aGUgbGFiZWwuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBsYWJlbEtleTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgc3RvcmVkIHZhbHVlIG9mIHRoaXMgZmllbGQuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX3ZhbHVlOiBUVmFsdWU7XHJcblxyXG4gICAgLy8gPC9lZGl0b3ItZm9sZD5cclxuXHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkNvbnN0cnVjdG9yICYgSW5pdGlhbGl6YXRpb25cIj5cclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbGFiZWw6IHN0cmluZywgdmFsdWU6IFRWYWx1ZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmxhYmVsS2V5ID0gbGFiZWw7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdGhpcy5jbGFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gPC9lZGl0b3ItZm9sZD5cclxuXHJcbiAgICAvLyA8ZWRpdG9yLWZvbGQgZGVzYz1cIkdldHRlcnMgJiBTZXR0ZXJzXCI+XHJcblxyXG4gICAgLy8gUmVhZCBPbmx5XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGNsYXNzIHRoYXQgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSByb290IGVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgY2xhc3MoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ2Zvcm0tZ3JvdXAnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlYWQgKyBXcml0ZVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSB2YWx1ZSBmb3IgdGhpcyBmaWVsZC4gQ2FuIGJlIG92ZXJyaWRkZW4gaWYgdHlwZSBjb2VyY2lvbiBpcyBuZWVkZWQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRWYWx1ZSgpOiBUVmFsdWUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgdmFsdWUgZm9yIHRoaXMgZmllbGQuIENhbiBiZSBvdmVycmlkZGVuIGlmIHR5cGUgY29lcmNpb24gaXMgbmVlZGVkLlxyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRWYWx1ZSh2YWx1ZTogVFZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA8L2VkaXRvci1mb2xkPlxyXG5cclxuICAgIC8vIDxlZGl0b3ItZm9sZCBkZXNjPVwiSW5zdGFuY2UgTWV0aG9kc1wiPlxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFuIGlkIGZvciB0aGUgc3BlY2lmaWVkIGNoaWxkIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSB0eXBlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRJZEZvckNoaWxkKHR5cGU6ICdsYWJlbCcgfCAnaW5wdXQnKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuaWR9LSR7dHlwZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBnZXRzIGNhbGxlZCB3aGVuIHRoZSBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCB0byB0aGUgRE9NLiBJdCdzIHByaXZhdGUgc28gaXQgZG9lc24ndCBnZXQgb3ZlcndyaXR0ZW5cclxuICAgICAqIGJ5IGFjY2lkZW50LiBJZiB5b3Ugd2FudCBtb3JlIGVsZW1lbnRzIHlvdSBzaG91bGQgdXNlIHtAc2VlIGNyZWF0ZUFkZGl0aW9uYWxFbGVtZW50c30gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuY3JlYXRlTGFiZWwoKTtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuY3JlYXRlSW5wdXQoKTtcclxuXHJcbiAgICAgICAgaW5wdXQub25jaGFuZ2UgPSB0aGlzLm9uSW5wdXRDaGFuZ2VkLmJpbmQodGhpcyk7XHJcbiAgICAgICAgaW5wdXQub25pbnB1dCA9IHRoaXMub25JbnB1dENoYW5nZWQuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5hcHBlbmQobGFiZWwpO1xyXG4gICAgICAgIHRoaXMuYXBwZW5kKGlucHV0KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBZGRpdGlvbmFsRWxlbWVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbnkgYWRkaXRpb25hbCBlbGVtZW50cyB0aGlzIGZpZWxkIG5lZWRzLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgY3JlYXRlQWRkaXRpb25hbEVsZW1lbnRzKCkge31cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSB0aGUgbGFiZWwgdG8gYmUgdXNlZCBpbiB0aGlzIGZpZWxkLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgY3JlYXRlTGFiZWwoKTogSFRNTExhYmVsRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG5cclxuICAgICAgICBsYWJlbC5pZCA9IHRoaXMuZ2V0SWRGb3JDaGlsZCgnbGFiZWwnKTtcclxuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHRoaXMuZ2V0SWRGb3JDaGlsZCgnaW5wdXQnKSk7XHJcbiAgICAgICAgbGFiZWwuaW5uZXJUZXh0ID0gZ2FtZS5pMThuLmxvY2FsaXplKHRoaXMubGFiZWxLZXkpO1xyXG5cclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgdGhlIGlucHV0IHRvIGJlIHVzZWQgaW4gdGhpcyBmaWVsZC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGNyZWF0ZUlucHV0KCk6IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGJhY2sgZXhlY3V0ZWQgd2hlbiBpbnB1dCBpcyBjaGFuZ2VkLlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBvbklucHV0Q2hhbmdlZChldmVudDogRXZlbnQpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29sbGVjdHMgcmVsZXZhbnQgZGF0YSBmcm9tIHRoZSBhY3RvciBvciBmaWVsZHMgYW5kIHBsYWNlcyBpdCBpbiB0aGUgUm9sbERhdGEgb2JqZWN0IGZvciB1c2UuXHJcbiAgICAgKiBAcGFyYW0gYWN0b3JcclxuICAgICAqIEBwYXJhbSBkYXRhXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBjb2xsZWN0KGFjdG9yOiBTUjVBY3RvciB8IHVuZGVmaW5lZCwgZGF0YTogUm9sbERhdGEpO1xyXG5cclxuICAgIC8vIDwvZWRpdG9yLWZvbGQ+XHJcbn1cclxuIiwiaW1wb3J0IHsgRGlhbG9nRmllbGQgfSBmcm9tICcuL0RpYWxvZ0ZpZWxkJztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOdW1iZXJGaWVsZCBleHRlbmRzIERpYWxvZ0ZpZWxkPG51bWJlcj4ge1xyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihpZCwgbGFiZWwsIHZhbHVlKTtcclxuICAgICAgICAvLyBUT0RPOiBIYW5kbGUgbWluICsgbWF4XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZhbHVlKHZhbHVlOiBudW1iZXIgfCBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN1cGVyLnNldFZhbHVlKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY3JlYXRlSW5wdXQoKTogSFRNTElucHV0RWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cclxuICAgICAgICBpbnB1dC5pZCA9IHRoaXMuZ2V0SWRGb3JDaGlsZCgnaW5wdXQnKTtcclxuICAgICAgICBpbnB1dC52YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnbnVtYmVyJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBpbnB1dDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25JbnB1dENoYW5nZWQoZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBldmVudC5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3Qgc3RyaW5nVmFsdWUgPSBpbnB1dC52YWx1ZS50cmltKCk7XHJcblxyXG4gICAgICAgIGlmIChzdHJpbmdWYWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSgwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKHN0cmluZ1ZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRGlhbG9nRmllbGQgfSBmcm9tICcuL0RpYWxvZ0ZpZWxkJztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTZWxlY3RGaWVsZCBleHRlbmRzIERpYWxvZ0ZpZWxkPHN0cmluZz4ge1xyXG4gICAgcHJvdGVjdGVkIF9vcHRpb25zOiBzdHJpbmdbXTtcclxuICAgIHByb3RlY3RlZCBfdmFsdWVzOiBzdHJpbmdbXTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbGFiZWw6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0aW9uczogc3RyaW5nW10sIHZhbHVlczogc3RyaW5nW10pIHtcclxuICAgICAgICBzdXBlcihpZCwgbGFiZWwsIHZhbHVlKTtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoICE9PSB2YWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSBTZWxlY3RGaWVsZDogT3B0aW9ucy5sZW5ndGggPSAke29wdGlvbnMubGVuZ3RofSBidXQgdmFsdWVzLmxlbmd0aCA9ICR7dmFsdWVzLmxlbmd0aH1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgY3JlYXRlT3B0aW9ucygpOiBIVE1MT3B0aW9uRWxlbWVudFtdIHtcclxuICAgICAgICBjb25zdCBvcHRpb25zOiBIVE1MT3B0aW9uRWxlbWVudFtdID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9vcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMuX29wdGlvbnNbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fdmFsdWVzW2ldO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gb3B0aW9uO1xyXG4gICAgICAgICAgICBvcHRpb25zLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbklucHV0Q2hhbmdlZChldmVudDogRXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUlucHV0KCk6IEhUTUxTZWxlY3RFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuXHJcbiAgICAgICAgc2VsZWN0LmlkID0gdGhpcy5nZXRJZEZvckNoaWxkKCdpbnB1dCcpO1xyXG4gICAgICAgIHNlbGVjdC52YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBzZWxlY3Qub25jaGFuZ2UgKz0gdGhpcy5vbklucHV0Q2hhbmdlZC5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5jcmVhdGVPcHRpb25zKCk7XHJcbiAgICAgICAgc2VsZWN0LmFwcGVuZCguLi5vcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFNpdHVhdGlvbmFsTW9kaWZpZXJGaWVsZCB9IGZyb20gJy4uL2ZpZWxkL1NpdHVhdGlvbmFsTW9kaWZpZXJGaWVsZCc7XHJcbmltcG9ydCB7IFNraWxsRmllbGQgfSBmcm9tICcuLi9maWVsZC9Ta2lsbEZpZWxkJztcclxuXHJcbmV4cG9ydCBjb25zdCByZWdpc3RlckN1c3RvbUVsZW1lbnRzID0gKCkgPT4ge1xyXG4gICAgY29uc29sZS53YXJuKGBSZWdpc3RlcmluZyBDdXN0b20gSFRNTCBFbGVtZW50c2ApO1xyXG4gICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2l0bW9kLWZpZWxkJywgU2l0dWF0aW9uYWxNb2RpZmllckZpZWxkKTtcclxuICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3NraWxsLWZpZWxkJywgU2tpbGxGaWVsZCk7XHJcbn07XHJcbiIsIi8vIGdhbWUgc2V0dGluZ3MgZm9yIHNoYWRvd3J1biA1ZVxyXG5cclxuaW1wb3J0IHsgVmVyc2lvbk1pZ3JhdGlvbiB9IGZyb20gJy4vbWlncmF0b3IvVmVyc2lvbk1pZ3JhdGlvbic7XHJcbmltcG9ydCB7IFNZU1RFTV9OQU1FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU3lzdGVtU2V0dGluZ3MgPSAoKSA9PiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBkaWFnb25hbCBtb3ZlbWVudCBydWxlIHNldHRpbmdcclxuICAgICAqL1xyXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihTWVNURU1fTkFNRSwgJ2RpYWdvbmFsTW92ZW1lbnQnLCB7XHJcbiAgICAgICAgbmFtZTogJ1NFVFRJTkdTLkRpYWdvbmFsTW92ZW1lbnROYW1lJyxcclxuICAgICAgICBoaW50OiAnU0VUVElOR1MuRGlhZ29uYWxNb3ZlbWVudERlc2NyaXB0aW9uJyxcclxuICAgICAgICBzY29wZTogJ3dvcmxkJyxcclxuICAgICAgICBjb25maWc6IHRydWUsXHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcxLTItMScsXHJcbiAgICAgICAgY2hvaWNlczoge1xyXG4gICAgICAgICAgICAnMS0xLTEnOiAnU0VUVElOR1MuSWdub3JlRGlhZ29uYWwnLFxyXG4gICAgICAgICAgICAnMS0yLTEnOiAnU0VUVElOR1MuRXN0aW1hdGVEaWFnb25hbCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkNoYW5nZTogKHJ1bGUpID0+IChjYW52YXMuZ3JpZC5kaWFnb25hbFJ1bGUgPSBydWxlKSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBsaW1pdCBiZWhhdmlvclxyXG4gICAgICovXHJcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKFNZU1RFTV9OQU1FLCAnYXBwbHlMaW1pdHMnLCB7XHJcbiAgICAgICAgbmFtZTogJ1NFVFRJTkdTLkFwcGx5TGltaXRzTmFtZScsXHJcbiAgICAgICAgaGludDogJ1NFVFRJTkdTLkFwcGx5TGltaXRzRGVzY3JpcHRpb24nLFxyXG4gICAgICAgIHNjb3BlOiAnd29ybGQnLFxyXG4gICAgICAgIGNvbmZpZzogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIGRlZmF1bHQ6IHRydWUsXHJcbiAgICB9KTtcclxuXHJcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKFNZU1RFTV9OQU1FLCAnZGlzcGxheURlZmF1bHRSb2xsQ2FyZCcsIHtcclxuICAgICAgICBuYW1lOiAnU0VUVElOR1MuRGlzcGxheURlZmF1bHRSb2xsQ2FyZE5hbWUnLFxyXG4gICAgICAgIGhpbnQ6ICdTRVRUSU5HUy5EaXNwbGF5RGVmYXVsdFJvbGxDYXJkRGVzY3JpcHRpb24nLFxyXG4gICAgICAgIHNjb3BlOiAndXNlcicsXHJcbiAgICAgICAgY29uZmlnOiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgZGVmYXVsdDogZmFsc2UsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyYWNrIHN5c3RlbSB2ZXJzaW9uIHVwb24gd2hpY2ggYSBtaWdyYXRpb24gd2FzIGxhc3QgYXBwbGllZFxyXG4gICAgICovXHJcbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKFNZU1RFTV9OQU1FLCBWZXJzaW9uTWlncmF0aW9uLktFWV9EQVRBX1ZFUlNJT04sIHtcclxuICAgICAgICBuYW1lOiAnU3lzdGVtIERhdGEgVmVyc2lvbi4nLFxyXG4gICAgICAgIHNjb3BlOiAnd29ybGQnLFxyXG4gICAgICAgIGNvbmZpZzogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcwJyxcclxuICAgIH0pO1xyXG59O1xyXG4iLCIvKipcclxuICogQW4gYWN0aXZlIHNraWxsIGluIHRoZSBTUjUgc3lzdGVtLiBUaGVzZSBjYW4gYmUgc2FmZWx5IHVzZWQgYXMga2V5cyB0byBhY2Nlc3MgYW4gYWN0b3IncyBhY3RpdmUgc2tpbGwgbGlzdC5cclxuICogVE9ETzogTW92ZSB0aGlzIGVudW0gdG8gYSBtb2R1bGUuIEFsc28gbmVlZCBhIG1hcCBmb3IgbG9jYWxpemF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGVudW0gU1I1QWN0aXZlU2tpbGwge1xyXG4gICAgQXJjaGVyeSA9ICdhcmNoZXJ5JyxcclxuICAgIEF1dG9tYXRpY3MgPSAnYXV0b21hdGljcycsXHJcbiAgICBCbGFkZXMgPSAnYmxhZGVzJyxcclxuICAgIENsdWJzID0gJ2NsdWJzJyxcclxuICAgIEV4b3RpY01lbGVlID0gJ2V4b3RpY19tZWxlZScsXHJcbiAgICBFeG90aWNSYW5nZSA9ICdleG90aWNfcmFuZ2UnLFxyXG4gICAgSGVhdnlXZWFwb25zID0gJ2hlYXZ5X3dlYXBvbnMnLFxyXG4gICAgTG9uZ2FybXMgPSAnbG9uZ2FybXMnLFxyXG4gICAgUGlzdG9scyA9ICdwaXN0b2xzJyxcclxuICAgIFRocm93aW5nV2VhcG9ucyA9ICd0aHJvd2luZ193ZWFwb25zJyxcclxuICAgIFVuYXJtZWRDb21iYXQgPSAndW5hcm1lZF9jb21iYXQnLFxyXG4gICAgRGlzZ3Vpc2UgPSAnZGlzZ3Vpc2UnLFxyXG4gICAgRGl2aW5nID0gJ2RpdmluZycsXHJcbiAgICBFc2NhcGVBcnRpc3QgPSAnZXNjYXBlX2FydGlzdCcsXHJcbiAgICBGcmVlRmFsbCA9ICdmcmVlX2ZhbGwnLFxyXG4gICAgR3ltbmFzdGljcyA9ICdneW1uYXN0aWNzJyxcclxuICAgIFBhbG1pbmcgPSAncGFsbWluZycsXHJcbiAgICBQZXJjZXB0aW9uID0gJ3BlcmNlcHRpb24nLFxyXG4gICAgUnVubmluZyA9ICdydW5uaW5nJyxcclxuICAgIFNuZWFraW5nID0gJ3NuZWFraW5nJyxcclxuICAgIFN1cnZpdmFsID0gJ3N1cnZpdmFsJyxcclxuICAgIFN3aW1taW5nID0gJ3N3aW1taW5nJyxcclxuICAgIFRyYWNraW5nID0gJ3RyYWNraW5nJyxcclxuICAgIENvbiA9ICdjb24nLFxyXG4gICAgRXRpcXVldHRlID0gJ2V0aXF1ZXR0ZScsXHJcbiAgICBJbXBlcnNvbmF0aW9uID0gJ2ltcGVyc29uYXRpb24nLFxyXG4gICAgSW5zdHJ1Y3Rpb24gPSAnaW5zdHJ1Y3Rpb24nLFxyXG4gICAgSW50aW1pZGF0aW9uID0gJ2ludGltaWRhdGlvbicsXHJcbiAgICBMZWFkZXJzaGlwID0gJ2xlYWRlcnNoaXAnLFxyXG4gICAgTmVnb3RpYXRpb24gPSAnbmVnb3RpYXRpb24nLFxyXG4gICAgUGVyZm9ybWFuY2UgPSAncGVyZm9ybWFuY2UnLFxyXG4gICAgQWxjaGVteSA9ICdhbGNoZW15JyxcclxuICAgIEFyY2FuYSA9ICdhcmNhbmEnLFxyXG4gICAgQXJ0aWZpY2luZyA9ICdhcnRpZmljaW5nJyxcclxuICAgIEFzc2Vuc2luZyA9ICdhc3NlbnNpbmcnLFxyXG4gICAgQXN0cmFsQ29tYmF0ID0gJ2FzdHJhbF9jb21iYXQnLFxyXG4gICAgQmFuaXNoaW5nID0gJ2JhbmlzaGluZycsXHJcbiAgICBCaW5kaW5nID0gJ2JpbmRpbmcnLFxyXG4gICAgQ291bnRlcnNwZWxsaW5nID0gJ2NvdW50ZXJzcGVsbGluZycsXHJcbiAgICBEaXNlbmNoYW50aW5nID0gJ2Rpc2VuY2hhbnRpbmcnLFxyXG4gICAgUml0dWFsU3BlbGxjYXN0aW5nID0gJ3JpdHVhbF9zcGVsbGNhc3RpbmcnLFxyXG4gICAgU3BlbGxjYXN0aW5nID0gJ3NwZWxsY2FzdGluZycsXHJcbiAgICBTdW1tb25pbmcgPSAnc3VtbW9uaW5nJyxcclxuICAgIENvbXBpbGluZyA9ICdjb21waWxpbmcnLFxyXG4gICAgRGVjb21waWxpbmcgPSAnZGVjb21waWxpbmcnLFxyXG4gICAgUmVnaXN0ZXJpbmcgPSAncmVnaXN0ZXJpbmcnLFxyXG4gICAgQWVyb25hdXRpY3NNZWNoYW5pYyA9ICdhZXJvbmF1dGljc19tZWNoYW5pYycsXHJcbiAgICBBdXRvbW90aXZlTWVjaGFuaWMgPSAnYXV0b21vdGl2ZV9tZWNoYW5pYycsXHJcbiAgICBJbmR1c3RyaWFsTWVjaGFuaWMgPSAnaW5kdXN0cmlhbF9tZWNoYW5pYycsXHJcbiAgICBOYXV0aWNhbE1lY2hhbmljID0gJ25hdXRpY2FsX21lY2hhbmljJyxcclxuICAgIEFuaW1hbEhhbmRsaW5nID0gJ2FuaW1hbF9oYW5kbGluZycsXHJcbiAgICBBcm1vcmVyID0gJ2FybW9yZXInLFxyXG4gICAgQXJ0aXNhbiA9ICdhcnRpc2FuJyxcclxuICAgIEJpb3RlY2hub2xvZ3kgPSAnYmlvdGVjaG5vbG9neScsXHJcbiAgICBDaGVtaXN0cnkgPSAnY2hlbWlzdHJ5JyxcclxuICAgIENvbXB1dGVyID0gJ2NvbXB1dGVyJyxcclxuICAgIEN5YmVyY29tYmF0ID0gJ2N5YmVyY29tYmF0JyxcclxuICAgIEN5YmVydGVjaG5vbG9neSA9ICdjeWJlcnRlY2hub2xvZ3knLFxyXG4gICAgRGVtb2xpdGlvbnMgPSAnZGVtb2xpdGlvbnMnLFxyXG4gICAgRWxlY3Ryb25pY1dhcmZhcmUgPSAnZWxlY3Ryb25pY193YXJmYXJlJyxcclxuICAgIEZpcnN0QWlkID0gJ2ZpcnN0X2FpZCcsXHJcbiAgICBGb3JnZXJ5ID0gJ2ZvcmdlcnknLFxyXG4gICAgSGFja2luZyA9ICdoYWNraW5nJyxcclxuICAgIEhhcmR3YXJlID0gJ2hhcmR3YXJlJyxcclxuICAgIExvY2tzbWl0aCA9ICdsb2Nrc21pdGgnLFxyXG4gICAgTWVkaWNpbmUgPSAnbWVkaWNpbmUnLFxyXG4gICAgTmF2aWdhdGlvbiA9ICduYXZpZ2F0aW9uJyxcclxuICAgIFNvZnR3YXJlID0gJ3NvZnR3YXJlJyxcclxuICAgIEd1bm5lcnkgPSAnZ3VubmVyeScsXHJcbiAgICBQaWxvdEFlcm9zcGFjZSA9ICdwaWxvdF9hZXJvc3BhY2UnLFxyXG4gICAgUGlsb3RBaXJjcmFmdCA9ICdwaWxvdF9haXJjcmFmdCcsXHJcbiAgICBQaWxvdFdhbGtlciA9ICdwaWxvdF93YWxrZXInLFxyXG4gICAgUGlsb3RHcm91bmRDcmFmdCA9ICdwaWxvdF9ncm91bmRfY3JhZnQnLFxyXG4gICAgUGlsb3RXYXRlckNyYWZ0ID0gJ3BpbG90X3dhdGVyX2NyYWZ0JyxcclxuICAgIFBpbG90RXhvdGljVmVoaWNsZSA9ICdwaWxvdF9leG90aWNfdmVoaWNsZScsXHJcbn1cclxuIl19"}